{"version":3,"sources":["globals.d.ts","utils/globalStyles.tsx","AppReducer.tsx","components/GridContext.tsx","components/Logo.tsx","components/Header.tsx","components/Icons.tsx","components/Menu.tsx","views/FAQ.tsx","components/Page.tsx","components/Button.tsx","components/ButtonLink.tsx","views/Home.tsx","utils/helpers.tsx","utils/formHelpers.tsx","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/FieldInputsMenWomen.tsx","components/ButtonSubmit.tsx","components/ActionLink.tsx","components/TextLink.tsx","components/InfoBloc.tsx","views/GroupEffectif.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","components/LayoutFormAndResult.tsx","components/ActionBar.tsx","components/FormSubmit.tsx","views/IndicateurUnForm.tsx","components/ResultBubble.tsx","views/IndicateurUnResult.tsx","views/IndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","components/RadiosBoolean.tsx","views/IndicateurDeuxForm.tsx","views/IndicateurDeuxResult.tsx","views/IndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","views/IndicateurTroisForm.tsx","views/IndicateurTroisResult.tsx","views/IndicateurTrois.tsx","utils/calculsEgaProIndicateurQuatre.tsx","components/FieldInput.tsx","views/IndicateurQuatreForm.tsx","views/IndicateurQuatreResult.tsx","views/IndicateurQuatre.tsx","utils/calculsEgaProIndicateurCinq.tsx","views/IndicateurCinqForm.tsx","views/IndicateurCinqResult.tsx","views/IndicateurCinq.tsx","utils/calculsEgaProIndex.tsx","views/Recapitulatif/components/RecapBloc.tsx","views/Recapitulatif/components/RowData.tsx","views/Recapitulatif/RecapitulatifIndicateurUn.tsx","views/Recapitulatif/RecapitulatifIndicateurDeux.tsx","views/Recapitulatif/RecapitulatifIndicateurTrois.tsx","views/Recapitulatif/RecapitulatifIndicateurQuatre.tsx","views/Recapitulatif/RecapitulatifIndicateurCinq.tsx","views/Recapitulatif/Recapitulatif.tsx","views/Recapitulatif/index.js","views/PageNotFound.tsx","utils/mapEnum.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","globalStyles","colors","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","updateIndicateurUn","stateData","actionData","map","group","datumCat","find","_ref5","categorieSocioPro","Object","objectSpread","tranchesAges","groupTranchesAges","datumAge","_ref6","trancheAge","assign","AppReducer","state","action","type","data","_ref3","_ref4","valid","effectif","formValidated","indicateurUn","indicateurDeux","indicateurTrois","_action$data","tauxAugmentation","presenceAugmentation","datum","_ref","_action$data2","tauxPromotion","presencePromotion","_ref2","indicateurQuatre","indicateurCinq","totalGuttersWidth","getColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","GridContext","React","createContext","window","innerWidth","GridProvider","children","_useState","useState","_useState2","slicedToArray","setColumnWidth","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","value","useMemo","react_default","a","createElement","Provider","useColumnsWidth","numColumns","_useGridContext","useContext","styles","container","css","display","flexDirection","width","image","height","border","text","marginTop","fontSize","textAlign","Logo","core_browser_esm","src","process","header","backgroundColor","flexShrink","alignItems","justifyContent","borderBottom","headerLeft","marginLeft","marginRight","containerLogo","headerInner","flexGrow","title","fontFamily","color","textDecoration","subtitle","Header","components_Logo","react_router_dom","to","IconValid","viewBox","fill","xmlns","strokeCurrentColor","cx","cy","r","d","strokeLinecap","strokeLinejoin","IconInvalid","IconMale","fillRule","clipRule","IconFemale","stroke","CustomNavLink","label","_ref$valid","_ref$activeOnlyWhenEx","activeOnlyWhenExact","react_router","path","exact","match","link","activeLink","linkInner","icon","menu","paddingTop","paddingBottom","lineHeight",":hover","Menu","effectifFormValidated","indicateurUnFormValidated","indicateurDeuxFormValidated","indicateurTroisFormValidated","indicateurQuatreFormValidated","indicateurCinqFormValidated","FAQHeader","stylesHeader","textTransform","appearance","paddingLeft","paddingRight","concat","fontWeight","::placeholder","marginBottom","flex","content","overflowY","FAQ","render","page","tagline","Page","button","padding","borderRadius","cursor","buttonOutline","buttonError","borderColor","Button","_ref$outline","outline","_ref$error","ButtonLink","components_Button","Home","props","components_Page","components_ButtonLink","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Ouvriers","Employes","Techniciens","Cadres","displayFractionPercent","displayPercent","arguments","length","undefined","digits","toLocaleString","maximumFractionDigits","displayInt","roundDecimal","decimal","mult","pow","round","parseIntFormValue","defaultValue","Number","isNaN","parseInt","parseIntStateValue","String","parseFloatFormValue","parseFloat","parseFloatStateValue","required","mustBeNumber","maxNumber","Cell","style","cell","Cell2","cell2","CellHead","cellHead","BlocFormLight","_ref2$superLight","superLight","background","blocForm","blocFormLight","blocFormSuperLight","blocFormInner","position","top","bottom","left","right","borderLeft","borderRight","blocFormWithFooter","rowHead","minHeight","rowHeadCellHead","rowHeadCell","rowHeadBorder","rowGender","cellMen","cellWomen","rowFoot","rowFootCell","rowFootTotal","fontStyle","rowFootBorderLeft","rowFootBorderRight","BlocForm","footer","react","hasFieldError","meta","submitFailed","touched","values","includes","numberMask","createNumberMask","prefix","thousandsSeparatorSymbol","percentNumberMask","suffix","allowDecimal","parse","inputValue","split","join","replace","digitRegExp","anyNonWhitespaceRegExp","trickyMaskNumberToAllowAnyChar","mask","valueOnlyNum","char","source","input","inputError","CellInput","_ref$field","field","_ref$field$input","onChange","inputProps","objectWithoutProperties","maskWithAnyChar","conformToMask","conformedValue","reactTextMask_default","autoComplete","target","validate","requiredError","mustBeNumberError","displayReadOnlyValue","row","cellHeadInvalid","cellHeadError","cellHeadIcon","cellEmpty","cellEmptyMen","cellEmptyWomen","FieldInputsMenWomen","form","name","readOnly","calculable","calculableNumber","femmeFieldName","hommeFieldName","femmesField","useField","hommesField","femmesError","hommesError","Fragment","components_CellInput","all","ButtonSubmit","ActionLink","onClick","TextLink","IconWarning","strokeWidth","IconCircleCross","rx","ry","bloc","blocTitle","blocBody","blocIcon","blocText","InfoBloc","_ref$icon","getFieldName","genre","blocSubtitle","actionError","rowFootText","memo","updateEffectif","validateEffectif","infoFields","nombreSalariesFemmes","nombreSalariesHommes","nbSalarieFemmeName","nbSalarieFemmeValue","nbSalarieHommeName","nbSalarieHommeValue","initialValues","reduce","acc1","acc2","_objectSpread2","defineProperty","saveForm","formData","_ref7","_useForm","useForm","onSubmit","handleSubmit","hasValidationErrors","subscribe","_ref8","dirty","_infoFields$reduce","acc","_ref9","_tranchesAges$reduce","accGroup","_ref10","totalGroupNbSalarieHomme","totalGroupNbSalarieFemme","totalNbSalarieHomme","totalNbSalarieFemme","_ref11","_tranchesAges$reduce2","_ref12","components_BlocForm","key","_ref13","components_FieldInputsMenWomen","components_ActionLink","components_ButtonSubmit","components_InfoBloc","components_TextLink","prevProps","nextProps","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","filter","effectifEtEcart","effectifsValides","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","ecartPondere","val","rowEffectifsParCategorieSocioPro","calculValiditeGroupe","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","_groupEffectif$reduce","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","calculEffectifsIndicateurCalculable","baremeEcartRemuneration","calculEffectifsEtEcartRemuParTrancheAge","groupTrancheAge","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","effectifs","rowEffectifsParTrancheAge","ecartRemunerationMoyenne","calculEcartRemunerationMoyenne","ecartApresApplicationSeuilPertinence","sign","abs","calculEcartApresApplicationSeuilPertinence","calculEcartsPonderesParTrancheAge","calculIndicateurEcartRemuneration","indicateurCalculable","totalEcartPondere","calculIndicateurSexeSousRepresente","indicateurEcartRemuneration","calculIndicateurEcartRemunerationAbsolute","calculNote","ceil","calculIndicateurUn","effectifEtEcartRemuParTranche","_calculTotalEffectifs","ecartsPonderesByRow","effectifsIndicateurCalculable","indicateurSexeSurRepresente","noteIndicateurUn","body","result","LayoutFormAndResult","childrenForm","childrenResult","actionBar","ActionBar","FormSubmit","errorMessage","validateIndicateurUn","remunerationAnnuelleBrutFemmesName","remunerationAnnuelleBrutFemmesValue","remunerationAnnuelleBrutHommesName","remunerationAnnuelleBrutHommesValue","components_ActionBar","components_FormSubmit","blocInfo","message","messageLabel","messageData","info","ResultBubble","firstLineLabel","firstLineData","firstLineInfo","secondLineLabel","secondLineData","secondLineInfo","edit","IndicateurUnResult","components_ResultBubble","PageIndicateurUn","IndicateurUn","dispatch","_calculIndicateurUn","components_LayoutFormAndResult","views_IndicateurUnForm","views_IndicateurUnResult","baremEcartAugmentation","calculEcartTauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","calculEffectifsEtEcartAugmentParCategorieSocioPro","ecartTauxAugmentation","calculTotalEffectifsEtTauxAugmentation","groupEffectifEtEcartAugment","_groupEffectifEtEcart","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculEcartsPonderesParCategorieSocioPro","calculIndicateurCalculable","calculIndicateurEcartAugmentation","indicateurEcartAugmentation","calculIndicateurEcartAugmentationAbsolute","calculIndicateurDeux","effectifEtEcartAugmentParGroupe","_calculTotalEffectifs2","noteIndicateurDeux","RadioField","disabled","checked","radio","fakeRadio","fakeRadioChecked","labelText","backgroundImage","radioFieldFalse","radioFieldFalseDisabled","opacity","RadiosBoolean","fieldName","labelTrue","labelFalse","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","validateIndicateurDeux","tauxAugmentationFemmesName","tauxAugmentationFemmesValue","tauxAugmentationHommesName","tauxAugmentationHommesValue","ecartAugmentParCategorieSocioProPourTotal","groupAugment","index","infoField","components_RadiosBoolean","IndicateurDeuxResult","PageIndicateurDeux","IndicateurDeux","_calculIndicateurDeux","views_IndicateurDeuxForm","views_IndicateurDeuxResult","baremEcartPromotion","calculEcartTauxPromotion","calculEffectifsEtEcartPromoParCategorieSocioPro","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","calculTotalEffectifsEtTauxPromotion","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculIndicateurEcartPromotion","calculIndicateurEcartPromotionAbsolute","indicateurEcartPromotion","calculIndicateurTrois","effectifEtEcartPromoParGroupe","noteIndicateurTrois","ecartPromoParCategorieSocioPro","updateIndicateurTrois","validateIndicateurTrois","tauxPromotionFemmesName","tauxPromotionFemmesValue","tauxPromotionHommesName","tauxPromotionHommesValue","ecartPromoParCategorieSocioProPourTotal","IndicateurTroisResult","PageIndicateurTrois","IndicateurTrois","_calculIndicateurTroi","views_IndicateurTroisForm","views_IndicateurTroisResult","presenceCongeMat","nombreSalarieesPeriodeAugmentation","calculIndicateurEcartNombreSalarieesAugmentees","nombreSalarieesAugmentees","indicateurEcartNombreSalarieesAugmentees","calculIndicateurQuatre","noteIndicateurQuatre","hasMinMaxInputError","minNumber","hasPreviousFieldInputError","previousField","cellHeadInner","FieldInput","minMaxError","previousFieldError","validateWithPreviousField","valuePreviousField","maxNumberError","validateForm","spacer","emptyFields","updateIndicateurQuatre","validateIndicateurQuatre","components_FieldInput","IndicateurQuatreResult","PageIndicateurQuatre","IndicateurQuatre","_calculIndicateurQuat","views_IndicateurQuatreForm","views_IndicateurQuatreResult","calculIndicateurNombreSalariesSexeSousRepresente","indicateurNombreSalariesSexeSousRepresente","calculIndicateurCinq","indicateurSexeSousRepresente","noteIndicateurCinq","minNumberError","valueValidateForCalculator","calculator","createDecorator","updates","femmesValue","hommesValue","updateIndicateurCinq","validateIndicateurCinq","unsubscribe","IndicateurCinqResult","PageIndicateurCinq","IndicateurCinq","_calculIndicateurCinq","views_IndicateurCinqForm","views_IndicateurCinqResult","calculNoteIndex","totalPointCalculable","borderBottomBloc","borderLeftBloc","borderBottomResult","borderRightResult","blocResult","borderNoChildren","RecapBloc","resultBubble","RowDataFull","cellFull","RowLabels","labels","rowLabel","cellLabel","RowLabelFull","RowData","RecapitulatifIndicateurUn","effectifsIndicateurUnCalculable","components_RecapBloc","toFixed","components_RowData","RecapitulatifIndicateurDeux","effectifsIndicateurDeuxCalculable","indicateurDeuxCalculable","RecapitulatifIndicateurTrois","effectifsIndicateurTroisCalculable","indicateurTroisCalculable","RecapitulatifIndicateurQuatre","indicateurQuatreCalculable","RecapitulatifIndicateurCinq","indexBloc","Recapitulatif","indicateurUnSexeSurRepresente","indicateurDeuxSexeSurRepresente","indicateurTroisSexeSurRepresente","indicateurCinqSexeSousRepresente","allIndicateurValid","noteIndex","Recapitulatif_RecapitulatifIndicateurUn","Recapitulatif_RecapitulatifIndicateurDeux","Recapitulatif_RecapitulatifIndicateurTrois","Recapitulatif_RecapitulatifIndicateurQuatre","Recapitulatif_RecapitulatifIndicateurCinq","PageNotFound","enumerable","fn","history","goBack","baseGroupTranchesAgesState","baseTranchesAge","keys","v","m","baseGroupe","toConsumableArray","defaultState","localStorageEgapro","localStorage","getItem","initialState","JSON","MainScrollViewWithRouter","withRouter","location","main","components_Menu","view","layout","leftColumn","rightColumn","App","_useReducer","useReducer","_useReducer2","stateStringify","stringify","setItem","basename","components_GridContext","components_Header","views_Home","views_GroupEffectif","views_IndicateurUn","views_IndicateurDeux","views_IndicateurTrois","views_IndicateurQuatre","views_IndicateurCinq","views_Recapitulatif","component","views_FAQ","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d31d70ba.chunk.js","sourcesContent":["export type AppState = {\n  data: Array<Groupe>;\n  effectif: {\n    formValidated: FormState;\n  };\n  indicateurUn: {\n    formValidated: FormState;\n  };\n  indicateurDeux: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n  };\n  indicateurTrois: {\n    formValidated: FormState;\n    presencePromotion: boolean;\n  };\n  indicateurQuatre: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n    presenceCongeMat: boolean;\n    nombreSalarieesPeriodeAugmentation: number | undefined;\n    nombreSalarieesAugmentees: number | undefined;\n  };\n  indicateurCinq: {\n    formValidated: FormState;\n    nombreSalariesHommes: number | undefined;\n    nombreSalariesFemmes: number | undefined;\n  };\n};\n\nexport type FormState = \"None\" | \"Valid\" | \"Invalid\";\n\nexport type ActionType =\n  | {\n      type: \"updateEffectif\";\n      data: ActionEffectifData;\n    }\n  | {\n      type: \"validateEffectif\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurUn\";\n      data: ActionIndicateurUnData;\n    }\n  | {\n      type: \"validateIndicateurUn\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurDeux\";\n      data: ActionIndicateurDeuxData;\n    }\n  | {\n      type: \"validateIndicateurDeux\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurTrois\";\n      data: ActionIndicateurTroisData;\n    }\n  | {\n      type: \"validateIndicateurTrois\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurQuatre\";\n      data: ActionIndicateurQuatreData;\n    }\n  | {\n      type: \"validateIndicateurQuatre\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurCinq\";\n      data: ActionIndicateurCinqData;\n    }\n  | {\n      type: \"validateIndicateurCinq\";\n      valid: FormState;\n    };\n\nexport type ActionEffectifData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    nombreSalariesFemmes: number | undefined;\n    nombreSalariesHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurUnData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    remunerationAnnuelleBrutFemmes: number | undefined;\n    remunerationAnnuelleBrutHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurDeuxData = {\n  presenceAugmentation: boolean;\n  tauxAugmentation: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxAugmentationFemmes: number | undefined;\n    tauxAugmentationHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurTroisData = {\n  presencePromotion: boolean;\n  tauxPromotion: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxPromotionFemmes: number | undefined;\n    tauxPromotionHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurQuatreData = {\n  presenceAugmentation: boolean;\n  presenceCongeMat: boolean;\n  nombreSalarieesPeriodeAugmentation: number | undefined;\n  nombreSalarieesAugmentees: number | undefined;\n};\n\nexport type ActionIndicateurCinqData = {\n  nombreSalariesHommes: number | undefined;\n  nombreSalariesFemmes: number | undefined;\n};\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres\n}\n\nexport interface GroupTranchesAges {\n  trancheAge: TranchesAges;\n  nombreSalariesFemmes: number | undefined;\n  nombreSalariesHommes: number | undefined;\n  remunerationAnnuelleBrutFemmes: number | undefined;\n  remunerationAnnuelleBrutHommes: number | undefined;\n}\n\nexport interface Groupe {\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<GroupTranchesAges>;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    men: \"#90C5C7\",\n    women: \"#8A92D9\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\"\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024\n  }\n};\n\nexport default globalStyles;\n","import {\n  AppState,\n  Groupe,\n  GroupTranchesAges,\n  ActionType,\n  ActionEffectifData,\n  ActionIndicateurUnData\n} from \"./globals.d\";\n\nfunction AppReducer(state: AppState, action: ActionType): AppState {\n  switch (action.type) {\n    case \"updateEffectif\": {\n      return {\n        ...state,\n        data: updateEffectif(state.data, action.data)\n      };\n    }\n    case \"validateEffectif\": {\n      if (action.valid === \"None\") {\n        return {\n          ...state,\n          effectif: { ...state.effectif, formValidated: action.valid },\n          indicateurUn:\n            state.indicateurUn.formValidated === \"Valid\"\n              ? { ...state.indicateurUn, formValidated: \"Invalid\" }\n              : state.indicateurUn,\n          indicateurDeux:\n            state.indicateurDeux.formValidated === \"Valid\"\n              ? { ...state.indicateurDeux, formValidated: \"Invalid\" }\n              : state.indicateurDeux,\n          indicateurTrois:\n            state.indicateurTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurTrois, formValidated: \"Invalid\" }\n              : state.indicateurTrois\n        };\n      }\n      return {\n        ...state,\n        effectif: { ...state.effectif, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurUn\": {\n      return {\n        ...state,\n        data: updateIndicateurUn(state.data, action.data)\n      };\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurDeux\": {\n      const { tauxAugmentation, presenceAugmentation } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxAugmentation.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurDeux: { ...state.indicateurDeux, presenceAugmentation }\n      };\n    }\n    case \"validateIndicateurDeux\": {\n      return {\n        ...state,\n        indicateurDeux: { ...state.indicateurDeux, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurTrois\": {\n      const { tauxPromotion, presencePromotion } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxPromotion.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurTrois: { ...state.indicateurTrois, presencePromotion }\n      };\n    }\n    case \"validateIndicateurTrois\": {\n      return {\n        ...state,\n        indicateurTrois: {\n          ...state.indicateurTrois,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          formValidated: action.valid\n        }\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction updateEffectif(\n  stateData: AppState[\"data\"],\n  actionData: ActionEffectifData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nfunction updateIndicateurUn(\n  stateData: AppState[\"data\"],\n  actionData: ActionIndicateurUnData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nexport default AppReducer;\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useContext,\n  ReactNode\n} from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\nconst { grid } = globalStyles;\n\nconst gutterCount = grid.columns + 1;\nconst totalGuttersWidth = gutterCount * grid.gutterWidth;\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\nfunction getColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth);\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth;\n  const columnWidth = availableWidthWithoutGutters / 12;\n  return Math.floor(columnWidth);\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: getColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth\n});\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(\n    getColumnWidth(window.innerWidth)\n  );\n\n  const handleResize = useCallback(\n    (event: any) =>\n      setColumnWidth(getColumnWidth(event.currentTarget.innerWidth)),\n    [setColumnWidth]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth\n    }),\n    [columnWidth]\n  );\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>;\n}\n\nexport default GridProvider;\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext);\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext();\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nfunction Logo() {\n  return (\n    <div css={styles.container}>\n      <img css={styles.image} src={process.env.PUBLIC_URL + \"/marianne.png\"} />\n      <span css={styles.text}>ministère du travail</span>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 76\n  }),\n  image: css({\n    display: \"block\",\n    width: 76,\n    height: 46,\n    border: \"solid black 1px\"\n  }),\n  text: css({\n    marginTop: 3,\n    fontSize: 9,\n    textAlign: \"center\"\n  })\n};\n\nexport default Logo;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\nimport Logo from \"./Logo\";\n\nfunction Header() {\n  const width = useColumnsWidth(2);\n  return (\n    <header css={styles.header}>\n      <div css={[styles.headerLeft, css({ width })]}>\n        <div css={styles.containerLogo}>\n          <Logo />\n        </div>\n      </div>\n      <div css={styles.headerInner}>\n        <Link to=\"/\" css={styles.title}>\n          Egapro\n        </Link>\n        <p css={styles.subtitle}>\n          L'outil de simulation en ligne de vos indicateurs\n        </p>\n      </div>\n    </header>\n  );\n}\n\nconst styles = {\n  header: css({\n    backgroundColor: \"#FFF\",\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\"\n  }),\n  headerLeft: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  containerLogo: css({\n    marginLeft: \"auto\",\n    marginRight: 25\n  }),\n  headerInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    alignItems: \"baseline\"\n  }),\n  title: css({\n    fontFamily: \"'Gabriela', serif\",\n    marginRight: 24,\n    fontSize: 24,\n    color: globalStyles.colors.default,\n    textDecoration: \"none\"\n  }),\n  subtitle: css({\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 12\n  })\n};\n\nexport default Header;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nexport function IconValid() {\n  return (\n    <svg\n      width=\"11\"\n      height=\"11\"\n      viewBox=\"0 0 11 11\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      css={styles.strokeCurrentColor}\n    >\n      <circle cx=\"5.5\" cy=\"5.5\" r=\"4.5\" />\n      <path\n        d=\"M7.72228 3.27783L5.5 8.00005L3.5 5.50005\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nexport function IconInvalid() {\n  return (\n    <svg\n      width=\"11\"\n      height=\"11\"\n      viewBox=\"0 0 11 11\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      css={styles.strokeCurrentColor}\n    >\n      <circle cx=\"5.5\" cy=\"5.5\" r=\"4.5\" />\n      <path\n        d=\"M3.27783 7.72228L7.72228 3.27783M3.27783 3.27783L7.72228 7.72228\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  );\n}\n\nexport function IconMale() {\n  return (\n    <svg\n      width=\"15\"\n      height=\"15\"\n      viewBox=\"0 0 15 15\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M7.77818 6.71743C6.60661 5.54586 4.70711 5.54586 3.53554 6.71743C2.36397 7.889 2.36397 9.7885 3.53554 10.9601C4.70711 12.1316 6.60661 12.1316 7.77818 10.9601C8.94975 9.7885 8.94975 7.889 7.77818 6.71743ZM2.82843 6.01032C4.27102 4.56773 6.54135 4.45737 8.11059 5.67923C8.11737 5.67158 8.12441 5.66409 8.13173 5.65677L10.1066 3.6819L8.48529 3.6819C8.20914 3.6819 7.98529 3.45804 7.98529 3.1819C7.98529 2.90575 8.20914 2.6819 8.48529 2.6819L11.3137 2.6819C11.3815 2.6819 11.4462 2.69539 11.5051 2.71984C11.5632 2.74388 11.6177 2.77934 11.6651 2.82623C11.6659 2.82693 11.6666 2.82764 11.6673 2.82834C11.668 2.82905 11.6687 2.82976 11.6694 2.83047C11.7586 2.92078 11.8137 3.0449 11.8137 3.1819L11.8137 6.01032C11.8137 6.28647 11.5899 6.51032 11.3137 6.51032C11.0376 6.51032 10.8137 6.28647 10.8137 6.01032L10.8137 4.389L8.83884 6.36388C8.83152 6.3712 8.82403 6.37824 8.81638 6.38502C10.0382 7.95426 9.92788 10.2246 8.48529 11.6672C6.92319 13.2293 4.39053 13.2293 2.82843 11.6672C1.26634 10.1051 1.26634 7.57242 2.82843 6.01032Z\"\n        fill=\"#6FA0A8\"\n      />\n    </svg>\n  );\n}\n\nexport function IconFemale() {\n  return (\n    <svg\n      width=\"15\"\n      height=\"13\"\n      viewBox=\"0 0 8 13\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M4 7C5.65685 7 7 5.65685 7 4C7 2.34315 5.65685 1 4 1C2.34315 1 1 2.34315 1 4C1 5.65685 2.34315 7 4 7ZM8 4C8 6.04013 6.47267 7.72354 4.49906 7.96917C4.49969 7.97937 4.5 7.98965 4.5 8V9.5H6C6.27614 9.5 6.5 9.72386 6.5 10C6.5 10.2761 6.27614 10.5 6 10.5H4.5V12C4.5 12.2761 4.27614 12.5 4 12.5C3.72386 12.5 3.5 12.2761 3.5 12V10.5H2C1.72386 10.5 1.5 10.2761 1.5 10C1.5 9.72386 1.72386 9.5 2 9.5H3.5V8C3.5 7.98965 3.50031 7.97937 3.50094 7.96917C1.52733 7.72354 0 6.04013 0 4C0 1.79086 1.79086 0 4 0C6.20914 0 8 1.79086 8 4Z\"\n        fill=\"#8A92D9\"\n      />\n    </svg>\n  );\n}\n\nconst styles = {\n  strokeCurrentColor: css({\n    stroke: \"currentColor\"\n  })\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport { FormState } from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { IconValid, IconInvalid } from \"./Icons\";\nimport { useColumnsWidth } from \"./GridContext\";\n\ninterface CustomNavLinkProps {\n  title: string;\n  label?: string;\n  valid?: FormState;\n  to: string;\n  activeOnlyWhenExact?: boolean;\n}\n\nfunction CustomNavLink({\n  title,\n  label,\n  valid = \"None\",\n  to,\n  activeOnlyWhenExact = false\n}: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      children={({ match }) => (\n        <Link to={to} css={[styles.link, match && styles.activeLink]}>\n          <div css={styles.linkInner}>\n            {valid === \"Valid\" ? (\n              <div css={styles.icon}>\n                <IconValid />\n              </div>\n            ) : valid === \"Invalid\" ? (\n              <div css={styles.icon}>\n                <IconInvalid />\n              </div>\n            ) : null}\n            <span>{title}</span>\n          </div>\n          {label && <span>{label}</span>}\n        </Link>\n      )}\n    />\n  );\n}\n\ninterface Props {\n  effectifFormValidated: FormState;\n  indicateurUnFormValidated: FormState;\n  indicateurDeuxFormValidated: FormState;\n  indicateurTroisFormValidated: FormState;\n  indicateurQuatreFormValidated: FormState;\n  indicateurCinqFormValidated: FormState;\n}\n\nfunction Menu({\n  effectifFormValidated,\n  indicateurUnFormValidated,\n  indicateurDeuxFormValidated,\n  indicateurTroisFormValidated,\n  indicateurQuatreFormValidated,\n  indicateurCinqFormValidated\n}: Props) {\n  const width = useColumnsWidth(2);\n\n  return (\n    <div css={[styles.menu, css({ width })]}>\n      <CustomNavLink\n        to=\"/effectifs\"\n        title=\"effectif\"\n        valid={effectifFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur1\"\n        title=\"indicateur 1\"\n        label=\"écart de rémunération\"\n        valid={indicateurUnFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur2\"\n        title=\"indicateur 2\"\n        label=\"écart d’augmentation\"\n        valid={indicateurDeuxFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur3\"\n        title=\"indicateur 3\"\n        label=\"écart de promotions\"\n        valid={indicateurTroisFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur4\"\n        title=\"indicateur 4\"\n        label=\"congé maternité\"\n        valid={indicateurQuatreFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur5\"\n        title=\"indicateur 5\"\n        label=\"hautes rémunérations\"\n        valid={indicateurCinqFormValidated}\n      />\n      <CustomNavLink to=\"/recapitulatif\" title=\"récapitulatif\" />\n    </div>\n  );\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  link: css({\n    paddingTop: 7,\n    paddingBottom: 7,\n    color: globalStyles.colors.default,\n    fontSize: 12,\n    lineHeight: \"15px\",\n    textDecoration: \"none\",\n    \":hover\": {\n      color: globalStyles.colors.women\n    }\n  }),\n  activeLink: css({\n    color: globalStyles.colors.women\n  }),\n  linkInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  }),\n  icon: css({\n    marginRight: 3\n  })\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport { Route, Switch } from \"react-router-dom\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nfunction FAQHeader() {\n  return (\n    <div css={stylesHeader.container}>\n      <span css={stylesHeader.title}>Aide</span>\n    </div>\n  );\n}\n\nconst stylesHeader = {\n  container: css({\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\",\n\n    marginRight: 29,\n    marginLeft: 29\n  }),\n  title: css({\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 18\n  })\n};\n\nfunction FAQTitle({ children }: { children: ReactNode }) {\n  return <span css={stylesTitle.title}>{children}</span>;\n}\n\nconst stylesTitle = {\n  title: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    color: globalStyles.colors.women,\n    textTransform: \"uppercase\"\n  })\n};\n\nfunction FAQSearchBox() {\n  return (\n    <input\n      css={stylesSearchBox.input}\n      type=\"search\"\n      placeholder=\"saisissez un mot clef\"\n    />\n  );\n}\n\nconst stylesSearchBox = {\n  input: css({\n    appearance: \"none\",\n    height: 52,\n    paddingLeft: 26,\n    paddingRight: 26,\n    border: `solid ${globalStyles.colors.women} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    fontWeight: \"bold\",\n    color: globalStyles.colors.women,\n    \"::placeholder\": {\n      fontWeight: \"normal\",\n      color: globalStyles.colors.women\n    }\n  })\n};\n\nfunction FAQSectionRow({ title, detail }: { title: string; detail: string }) {\n  return (\n    <div css={stylesSectionRow.container}>\n      <div css={stylesSectionRow.row}>\n        <span css={stylesSectionRow.title}>{title}</span>\n        <span css={stylesSectionRow.chevron}>›</span>\n      </div>\n      <span css={stylesSectionRow.detail}>{detail}</span>\n    </div>\n  );\n}\n\nconst stylesSectionRow = {\n  container: css({\n    marginTop: 14,\n    marginBottom: 14\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    justifyContent: \"space-between\",\n    marginBottom: 6\n  }),\n  title: css({\n    fontSize: 12,\n    fontWeight: \"bold\",\n    lineHeight: \"15px\",\n    color: globalStyles.colors.women,\n    textTransform: \"uppercase\"\n  }),\n  chevron: css({\n    marginLeft: 14,\n    lineHeight: \"15px\",\n    color: globalStyles.colors.women\n  }),\n  detail: css({\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nfunction FAQ() {\n  return (\n    <div css={styles.container}>\n      <FAQHeader />\n\n      <div css={styles.content}>\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-home.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/effectifs\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-eff.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/indicateur1\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-indic1.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/indicateur2\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-indic2.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/indicateur3\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-indic3.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/indicateur4\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-indic4.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/indicateur5\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-indic5.jpg\"}\n              />\n            )}\n          />\n          <Route\n            path=\"/recapitulatif\"\n            render={() => (\n              <img\n                css={css({ width: 375 })}\n                src={process.env.PUBLIC_URL + \"/faq-fake-recap.jpg\"}\n              />\n            )}\n          />\n        </Switch>\n        {/*<div css={css({ marginBottom: 26 })}>\n          <FAQTitle>Champ d'application et entrée en vigueur</FAQTitle>\n        </div>\n\n        <FAQSearchBox />\n\n        <div\n          css={css({\n            marginTop: 14,\n            marginBottom: 14,\n            display: \"flex\",\n            flexDirection: \"column\"\n          })}\n        >\n          <FAQSectionRow\n            title=\"Champ d'application et entrée en vigueur\"\n            detail=\"4 articles\"\n          />\n          <FAQSectionRow\n            title=\"Périeffectifs à prendre en compte pour le calcul des indicateurs de référence\"\n            detail=\"6 articles\"\n          />\n        </div>*/}\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n    // paddingRight: 29,\n    // paddingLeft: 29\n  }),\n  content: css({\n    overflowY: \"auto\",\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n    //paddingTop: 26\n  })\n};\n\nexport default FAQ;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  title: string;\n  tagline?: string;\n  children: ReactNode;\n}\n\nfunction Page({ title, tagline, children }: Props) {\n  return (\n    <div css={styles.page}>\n      <p css={styles.title}>{title}</p>\n      {tagline && <p css={styles.tagline}>{tagline}</p>}\n      {children}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  tagline: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  })\n};\n\nexport default Page;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction Button({ label, outline = false, error = false }: Props) {\n  return (\n    <div\n      css={[\n        styles.button,\n        outline && styles.buttonOutline,\n        error && styles.buttonError\n      ]}\n    >\n      {label}\n    </div>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 36,\n    minWidth: 110,\n    padding: \"0 10px\",\n    backgroundColor: globalStyles.colors.women,\n    color: \"#FFF\",\n    border: `solid ${globalStyles.colors.women} 1px`,\n    borderRadius: 5,\n    cursor: \"pointer\"\n  }),\n  buttonOutline: css({\n    color: globalStyles.colors.women,\n    backgroundColor: \"#FFF\"\n  }),\n  buttonError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n    backgroundColor: \"#FFF\"\n  })\n};\n\nexport default Button;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction ButtonLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.button}>\n      <Button label={label} />\n    </Link>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"inline-flex\",\n    textDecoration: \"none\"\n  })\n};\n\nexport default ButtonLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport Page from \"../components/Page\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <Page\n      title=\"Bienvenue sur Egapro\"\n      tagline=\"5 indicateurs pour résorber les inégalités entre les femmes et les hommes en entreprise.\"\n    >\n      <div css={styles.action}>\n        <ButtonLink to=\"/effectifs\" label=\"commencer la simulation\" />\n      </div>\n    </Page>\n  );\n}\n\nconst styles = {\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 18\n  })\n};\n\nexport default Home;\n","import { TranchesAges, CategorieSocioPro } from \"../globals.d\";\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\";\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\";\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\";\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayNameCategorieSocioPro(\n  categorieSocioPro: CategorieSocioPro\n): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\";\n    case CategorieSocioPro.Employes:\n      return \"employés\";\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\";\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayFractionPercent(\n  num: number,\n  digits: number = 2\n): string {\n  return displayPercent(num * 100, digits);\n}\n\nexport function displayPercent(num: number, digits: number = 2): string {\n  return num.toLocaleString(\"en-US\", { maximumFractionDigits: digits }) + \"%\";\n}\n\nexport function displayInt(num: number): string {\n  return num.toLocaleString(\"fr-FR\");\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal);\n  return Math.round(num * mult) / mult;\n};\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5);\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5);\n","import { fractionToPercentage, percentageToFraction } from \"./helpers\";\n\n// INT PARSE\n\nexport const parseIntFormValue = (\n  value: string,\n  defaultValue: any = undefined\n) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nexport const parseIntStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\n// Float PARSE\n\nexport const parseFloatFormValue = (\n  value: string,\n  defaultValue: any = undefined\n) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nexport const parseFloatStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\n// VALIDATION\n\nexport const required = (value: string): boolean => (value ? false : true);\n\nexport const mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nexport const minNumber = (value: string, min: number): boolean =>\n  Number(value) < min ? true : false;\n\nexport const maxNumber = (value: string, max: number): boolean =>\n  Number(value) > max ? true : false;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  style?: any;\n  children?: ReactNode;\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>;\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>;\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>;\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2\n  })\n};\n\nexport { Cell, Cell2, CellHead };\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Fragment, ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport { IconMale, IconFemale } from \"./Icons\";\n\ninterface Props {\n  title?: string;\n  label?: string;\n  footer?: string | [string, string];\n  children: ReactNode;\n  style?: any;\n}\n\nfunction BlocForm({ title, label, footer, children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellMen}>\n            <IconMale />\n            <span>hommes</span>\n          </Cell>\n          <Cell style={styles.cellWomen}>\n            <IconFemale /> femmes\n          </Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <div css={styles.rowFootTotal}>total</div>\n            {typeof footer === \"string\" ? (\n              <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            ) : (\n              <Fragment>\n                <Cell style={styles.rowFootCell}>{footer[0]}</Cell>\n                <Cell style={styles.rowFootCell}>{footer[1]}</Cell>\n              </Fragment>\n            )}\n\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport function BlocFormLight({\n  children,\n  superLight = false\n}: {\n  children: ReactNode;\n  superLight?: boolean;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div\n        css={[\n          styles.blocForm,\n          styles.blocFormLight,\n          superLight && styles.blocFormSuperLight\n        ]}\n      >\n        <div css={styles.blocFormInner}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8\n  }),\n  blocFormLight: css({\n    borderRight: \"none\"\n  }),\n  blocFormSuperLight: css({\n    borderBottom: \"none\"\n  }),\n\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\"\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 12,\n    textAlign: \"center\"\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12\n  }),\n  cellMen: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 12,\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 12,\n    color: globalStyles.colors.women\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootTotal: css({\n    fontStyle: \"italic\",\n    fontSize: 14,\n    marginLeft: 8\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flex: 1\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0\n  })\n};\n\nexport default BlocForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\nimport createNumberMask from \"text-mask-addons/dist/createNumberMask\";\nimport { FieldRenderProps } from \"react-final-form-hooks\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { Cell } from \"./Cell\";\n\nexport const hasFieldError = (meta: FieldRenderProps[\"meta\"]) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error &&\n    meta.touched &&\n    Object.values({ ...meta.error, required: false }).includes(true));\n\nconst numberMask = createNumberMask({\n  prefix: \"\",\n  thousandsSeparatorSymbol: \" \"\n});\n\nconst suffixPercent = \"%\";\n\nconst percentNumberMask = createNumberMask({\n  prefix: \"\",\n  thousandsSeparatorSymbol: \" \",\n  suffix: suffixPercent,\n  allowDecimal: true\n});\n\nconst parse = (inputValue: string) => {\n  return inputValue\n    .split(/\\s/)\n    .join(\"\")\n    .replace(suffixPercent, \"\");\n};\n\nconst digitRegExp = /\\d/;\nconst anyNonWhitespaceRegExp = /[^\\s]/;\n\n// because designer don't want to block any char…\nconst trickyMaskNumberToAllowAnyChar = (\n  mask: (value: string) => Array<string | RegExp>\n) => (value: string) => {\n  const valueOnlyNum = value\n    .replace(/_/g, \"\")\n    .replace(/%/g, \"\")\n    .replace(/[^\\s]/g, \"1\");\n\n  const rawMaskArray = mask(valueOnlyNum);\n\n  const transformedMaskArray = rawMaskArray.map((char: any) => {\n    return char.source && char.source === digitRegExp.source\n      ? anyNonWhitespaceRegExp\n      : char;\n  });\n\n  return transformedMaskArray;\n};\n\ninterface Props {\n  field: FieldRenderProps;\n  mask?: \"number\" | \"percent\" | undefined;\n  style?: any;\n}\n\nfunction CellInput({\n  field: {\n    input: { value, onChange, ...inputProps },\n    meta\n  },\n  mask,\n  style\n}: Props) {\n  const error = hasFieldError(meta);\n\n  const maskToUse = mask === \"percent\" ? percentNumberMask : numberMask;\n\n  const maskWithAnyChar = trickyMaskNumberToAllowAnyChar(maskToUse);\n\n  const inputValue = conformToMask(value, maskWithAnyChar(value), {})\n    .conformedValue;\n\n  return (\n    <Cell style={styles.cell}>\n      {mask ? (\n        <MaskedInput\n          mask={maskWithAnyChar}\n          css={[styles.input, style, error && styles.inputError]}\n          autoComplete=\"off\"\n          value={inputValue}\n          onChange={event =>\n            onChange({\n              target: {\n                value: parse(event.target.value)\n              }\n            })\n          }\n          {...inputProps}\n        />\n      ) : (\n        <input\n          css={[styles.input, style, error && styles.inputError]}\n          autoComplete=\"off\"\n          value={value}\n          onChange={onChange}\n          {...inputProps}\n        />\n      )}\n    </Cell>\n  );\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\"\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error\n  })\n};\n\nexport default CellInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\nimport { displayPercent, displayInt } from \"../utils/helpers\";\nimport { required, mustBeNumber } from \"../utils/formHelpers\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\nimport { IconValid, IconInvalid } from \"./Icons\";\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  name: string;\n  calculable: boolean;\n  calculableNumber: number;\n  mask?: \"number\" | \"percent\" | undefined;\n  femmeFieldName: string;\n  hommeFieldName: string;\n}\n\nconst displayReadOnlyValue = (\n  value: string,\n  mask?: \"number\" | \"percent\" | undefined\n) => {\n  if (!mask || !value) {\n    return value;\n  }\n  return mask === \"percent\"\n    ? displayPercent(Number(value))\n    : displayInt(Number(value));\n};\n\nfunction FieldInputsMenWomen({\n  form,\n  name,\n  readOnly,\n  calculable,\n  calculableNumber,\n  mask,\n  femmeFieldName,\n  hommeFieldName\n}: Props) {\n  const femmesField = useField(\n    femmeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n  const hommesField = useField(\n    hommeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n\n  const femmesError = hasFieldError(femmesField.meta);\n  const hommesError = hasFieldError(hommesField.meta);\n  const error = femmesError || hommesError;\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[\n            styles.cellHead,\n            !calculable && styles.cellHeadInvalid,\n            error && calculable && styles.cellHeadError\n          ]}\n        >\n          {femmesField.meta.valid && hommesField.meta.valid ? (\n            calculable ? (\n              <div css={styles.cellHeadIcon}>\n                <IconValid />\n              </div>\n            ) : (\n              <div css={styles.cellHeadIcon}>\n                <IconInvalid />\n              </div>\n            )\n          ) : error ? (\n            <div css={styles.cellHeadIcon}>\n              <IconInvalid />\n            </div>\n          ) : null}\n          <span>{name}</span>\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {displayReadOnlyValue(hommesField.input.value, mask)}\n            </Cell>\n\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {displayReadOnlyValue(femmesField.input.value, mask)}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={hommesField} mask={mask} style={styles.cellMen} />\n\n            <CellInput\n              field={femmesField}\n              mask={mask}\n              style={styles.cellWomen}\n            />\n          </React.Fragment>\n        ) : (\n          <Cell2 css={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de {calculableNumber} femmes ou{\" \"}\n          {calculableNumber} hommes\n        </div>\n      )}\n      {error && calculable && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cellHeadIcon: css({\n    marginRight: 5\n  }),\n  cell2: css({\n    textAlign: \"center\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInputsMenWomen;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction ButtonSubmit({ label, outline = false, error = false }: Props) {\n  return (\n    <button type=\"submit\" css={styles.button}>\n      <Button label={label} outline={outline} error={error} />\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\"\n  })\n};\n\nexport default ButtonSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  onClick: () => void;\n}\n\nfunction ActionLink({ children, onClick }: Props) {\n  return (\n    <button css={styles.button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\"\n  })\n};\n\nexport default ActionLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction TextLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.link}>\n      {label}\n    </Link>\n  );\n}\n\nconst styles = {\n  link: css({\n    color: globalStyles.colors.default,\n    textDecoration: \"underline\"\n  })\n};\n\nexport default TextLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  title: string;\n  text?: ReactNode;\n  icon?: \"warning\" | \"cross\" | null;\n}\n\nfunction IconWarning() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"35\"\n      viewBox=\"0 0 40 35\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M28.7141 14.5L30.7662 18L32.8182 21.5\"\n        stroke=\"#191A49\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      <path\n        d=\"M26.662 11L22.588 4.28044C21.4131 2.34268 18.5965 2.3571 17.4415 4.30678L2.68288 29.221C1.49824 31.2208 2.93964 33.75 5.264 33.75H34.7216C37.046 33.75 38.4874 31.2208 37.3027 29.221L34.9874 25.3125\"\n        stroke=\"#191A49\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n      <circle cx=\"20\" cy=\"27\" r=\"2\" fill=\"#191A49\" />\n      <path\n        d=\"M18.0815 12.5707L19.7525 24.2676C19.7934 24.5538 20.2066 24.5538 20.2475 24.2676L21.9185 12.5707C21.9615 12.2695 21.7278 12 21.4235 12H18.5765C18.2722 12 18.0385 12.2695 18.0815 12.5707Z\"\n        fill=\"#191A49\"\n      />\n    </svg>\n  );\n}\n\nfunction IconCircleCross() {\n  return (\n    <svg\n      width=\"35\"\n      height=\"34\"\n      viewBox=\"0 0 35 34\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <ellipse\n        cx=\"17.9928\"\n        cy=\"17.357\"\n        rx=\"15.9942\"\n        ry=\"15.4286\"\n        stroke=\"#191A49\"\n        strokeWidth=\"2\"\n      />\n      <path\n        d=\"M10.0945 24.9764L25.8913 9.73828M10.0945 9.73828L25.8913 24.9764\"\n        stroke=\"#191A49\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction InfoBloc({ title, text, icon = \"warning\" }: Props) {\n  return (\n    <div css={styles.bloc}>\n      <p css={styles.blocTitle}>{title}</p>\n      {text && (\n        <div css={styles.blocBody}>\n          {icon === null ? null : (\n            <div css={styles.blocIcon}>\n              {icon === \"cross\" ? <IconCircleCross /> : <IconWarning />}\n            </div>\n          )}\n          <p css={styles.blocText}>{text}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    padding: 16,\n    backgroundColor: \"#FFF\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  blocBody: {\n    marginTop: 4,\n    display: \"flex\",\n    alignItems: \"flex-end\"\n  },\n  blocIcon: {\n    marginRight: 22\n  },\n  blocText: css({\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nexport default InfoBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo, Fragment } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  AppState,\n  FormState,\n  CategorieSocioPro,\n  TranchesAges,\n  GroupTranchesAges,\n  ActionEffectifData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\nimport { parseIntFormValue, parseIntStateValue } from \"../utils/formHelpers\";\nimport { displayInt } from \"../utils/helpers\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\nimport TextLink from \"../components/TextLink\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport { Cell, Cell2 } from \"../components/Cell\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  updateEffectif: (data: ActionEffectifData) => void;\n  validateEffectif: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"nombreSalaries\" + categorieSocioPro + genre + trancheAge;\n\nfunction GroupEffectif({ state, updateEffectif, validateEffectif }: Props) {\n  const infoFields = state.data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            nbSalarieFemmeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            nbSalarieFemmeValue: parseIntStateValue(nombreSalariesFemmes),\n            nbSalarieHommeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            nbSalarieHommeValue: parseIntStateValue(nombreSalariesHommes)\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          nbSalarieFemmeName,\n          nbSalarieFemmeValue,\n          nbSalarieHommeName,\n          nbSalarieHommeValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [nbSalarieFemmeName]: nbSalarieFemmeValue,\n          [nbSalarieHommeName]: nbSalarieHommeValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionEffectifData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => ({\n            trancheAge,\n            nombreSalariesFemmes: parseIntFormValue(\n              formData[nbSalarieFemmeName]\n            ),\n            nombreSalariesHommes: parseIntFormValue(\n              formData[nbSalarieHommeName]\n            )\n          })\n        )\n      })\n    );\n    updateEffectif(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateEffectif(\"Valid\");\n  };\n\n  const {\n    form,\n    handleSubmit,\n    values,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  const { totalNbSalarieHomme, totalNbSalarieFemme } = infoFields.reduce(\n    (acc, { tranchesAges }) => {\n      const {\n        totalGroupNbSalarieHomme,\n        totalGroupNbSalarieFemme\n      } = tranchesAges.reduce(\n        (accGroup, { nbSalarieHommeName, nbSalarieFemmeName }) => {\n          return {\n            totalGroupNbSalarieHomme:\n              accGroup.totalGroupNbSalarieHomme +\n              parseIntFormValue(values[nbSalarieHommeName], 0),\n            totalGroupNbSalarieFemme:\n              accGroup.totalGroupNbSalarieFemme +\n              parseIntFormValue(values[nbSalarieFemmeName], 0)\n          };\n        },\n        { totalGroupNbSalarieHomme: 0, totalGroupNbSalarieFemme: 0 }\n      );\n\n      return {\n        totalNbSalarieHomme: acc.totalNbSalarieHomme + totalGroupNbSalarieHomme,\n        totalNbSalarieFemme: acc.totalNbSalarieFemme + totalGroupNbSalarieFemme\n      };\n    },\n    { totalNbSalarieHomme: 0, totalNbSalarieFemme: 0 }\n  );\n\n  return (\n    <div css={styles.page}>\n      <p css={styles.blocTitle}>Indication des effectifs</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez le nombre d’effectifs par catégorie socio-professionnelle\n        (CSP) et par tranche d’âge.\n      </p>\n\n      <form onSubmit={handleSubmit} css={[styles.bloc, css({ width })]}>\n        {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n          const {\n            totalGroupNbSalarieHomme,\n            totalGroupNbSalarieFemme\n          } = tranchesAges.reduce(\n            (accGroup, { nbSalarieHommeName, nbSalarieFemmeName }) => {\n              return {\n                totalGroupNbSalarieHomme:\n                  accGroup.totalGroupNbSalarieHomme +\n                  parseIntFormValue(values[nbSalarieHommeName], 0),\n                totalGroupNbSalarieFemme:\n                  accGroup.totalGroupNbSalarieFemme +\n                  parseIntFormValue(values[nbSalarieFemmeName], 0)\n              };\n            },\n            { totalGroupNbSalarieHomme: 0, totalGroupNbSalarieFemme: 0 }\n          );\n          return (\n            <BlocForm\n              key={categorieSocioPro}\n              title={displayNameCategorieSocioPro(categorieSocioPro)}\n              label=\"nombre de salariés\"\n              footer={[\n                displayInt(totalGroupNbSalarieHomme),\n                displayInt(totalGroupNbSalarieFemme)\n              ]}\n            >\n              {tranchesAges.map(\n                ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => {\n                  return (\n                    <FieldInputsMenWomen\n                      key={trancheAge}\n                      readOnly={state.effectif.formValidated === \"Valid\"}\n                      form={form}\n                      name={displayNameTranchesAges(trancheAge)}\n                      calculable={true}\n                      calculableNumber={0}\n                      mask=\"number\"\n                      femmeFieldName={nbSalarieFemmeName}\n                      hommeFieldName={nbSalarieHommeName}\n                    />\n                  );\n                }\n              )}\n            </BlocForm>\n          );\n        })}\n\n        <div css={styles.rowFoot}>\n          <div css={styles.rowFootText}>total des effectifs</div>\n          <Cell style={styles.rowFootCell}>\n            {displayInt(totalNbSalarieHomme)}\n          </Cell>\n          <Cell style={styles.rowFootCell}>\n            {displayInt(totalNbSalarieFemme)}\n          </Cell>\n        </div>\n\n        <div css={styles.rowFoot}>\n          <div css={styles.rowFootText}>soit</div>\n          <Cell2 style={styles.rowFootCell}>\n            {displayInt(totalNbSalarieHomme + totalNbSalarieFemme)}\n          </Cell2>\n        </div>\n\n        {state.effectif.formValidated === \"Valid\" ? (\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur1\" label=\"suivant\" />\n            <ActionLink onClick={() => validateEffectif(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </div>\n        ) : (\n          <div css={styles.action}>\n            <div\n              css={css({ flexDirection: \"column\", alignItems: \"flex-start\" })}\n            >\n              <ButtonSubmit\n                label=\"valider\"\n                outline={hasValidationErrors}\n                error={submitFailed && hasValidationErrors}\n              />\n              {submitFailed && hasValidationErrors && (\n                <p css={styles.actionError}>\n                  vous ne pouvez pas valider les effectifs\n                  <br />\n                  tant que vous n’avez pas rempli tous les champs\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n\n      {state.effectif.formValidated === \"Valid\" &&\n        (state.indicateurUn.formValidated === \"Invalid\" ||\n          state.indicateurDeux.formValidated === \"Invalid\" ||\n          state.indicateurTrois.formValidated === \"Invalid\") && (\n          <InfoBloc\n            title=\"Vos effectifs ont été modifiés\"\n            icon=\"cross\"\n            text={\n              <Fragment>\n                <span>\n                  afin de s'assurer de la cohérence de votre index, merci de\n                  vérifier les données de vos indicateurs.\n                </span>\n                <br />\n                <span>\n                  {state.indicateurUn.formValidated === \"Invalid\" && (\n                    <Fragment>\n                      <TextLink\n                        to=\"/indicateur1\"\n                        label=\"aller à l'indicateur 1\"\n                      />\n                      &emsp;\n                    </Fragment>\n                  )}\n                  {state.indicateurDeux.formValidated === \"Invalid\" && (\n                    <Fragment>\n                      <TextLink\n                        to=\"/indicateur2\"\n                        label=\"aller à l'indicateur 2\"\n                      />\n                      &emsp;\n                    </Fragment>\n                  )}\n                  {state.indicateurTrois.formValidated === \"Invalid\" && (\n                    <TextLink\n                      to=\"/indicateur3\"\n                      label=\"aller à l'indicateur 3\"\n                    />\n                  )}\n                </span>\n              </Fragment>\n            }\n          />\n        )}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    marginTop: 10,\n    paddingRight: 20\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootText: css({\n    fontStyle: \"italic\",\n    fontSize: 14,\n    marginLeft: \"auto\"\n  })\n};\n\nexport default memo(\n  GroupEffectif,\n  (prevProps, nextProps) =>\n    prevProps.state.effectif.formValidated ===\n    nextProps.state.effectif.formValidated\n);\n","import { GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100;\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nconst calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0);\n\n// EP\nconst calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal(\n        (ecartPourcentage * effectifsValides) / totalEffectifsValides,\n        3\n      )\n    : undefined;\n\nexport const calculEcartsPonderesParGroupe = (\n  findEcartPourcentage: (groupEffectifEtEcartAugment: {\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }) => number | undefined\n) => (\n  groupEffectifEtEcart: Array<{\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }>,\n  totalEffectifsValides: number\n) =>\n  groupEffectifEtEcart\n    .filter(({ validiteGroupe }) => validiteGroupe)\n    .map(effectifEtEcart => {\n      const { validiteGroupe, effectifsValides } = effectifEtEcart;\n      const ecartPourcentage = findEcartPourcentage(effectifEtEcart);\n      // EP\n      const ecartPondere = calculEcartPondere(\n        validiteGroupe,\n        ecartPourcentage,\n        effectifsValides,\n        totalEffectifsValides\n      );\n\n      return ecartPondere;\n    });\n\n// TEP\nexport const calculTotalEcartPondere = (\n  tableauEcartsPonderes: Array<number | undefined>\n): number | undefined =>\n  tableauEcartsPonderes.length === 0 ||\n  tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter(ecartPondere => ecartPondere !== undefined)\n          .reduce(\n            (acc, val) => (acc || 0) + (val !== undefined ? val : 0),\n            undefined\n          ) || 0,\n        3\n      );\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number;\n  nombreSalariesHommes: number;\n  validiteGroupe: boolean;\n  effectifsValides: number;\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAges,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0;\n  nombreSalariesHommes = nombreSalariesHommes || 0;\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAges>,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  const {\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  } = tranchesAges.reduce(\n    (\n      { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => ({\n      nombreSalariesFemmesGroupe:\n        nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe:\n        nombreSalariesHommesGroupe + (nombreSalariesHommes || 0)\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 }\n  );\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes\n  } = groupEffectif.reduce(\n    (\n      { totalNombreSalariesFemmes, totalNombreSalariesHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => {\n      return {\n        totalNombreSalariesFemmes:\n          totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes:\n          totalNombreSalariesHommes + nombreSalariesHommes\n      };\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0 //TNBH\n    }\n  );\n\n  // TNB\n  const totalNombreSalaries =\n    totalNombreSalariesFemmes + totalNombreSalariesHommes;\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce(\n    (acc, { effectifsValides }) => acc + effectifsValides,\n    0\n  );\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  };\n};\n\n// IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide;\n","import {\n  AppState,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges\n} from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinence = 5 / 100;\n\nconst baremeEcartRemuneration = [\n  40,\n  39,\n  38,\n  37,\n  36,\n  35,\n  34,\n  33,\n  31,\n  29,\n  27,\n  25,\n  23,\n  21,\n  19,\n  17,\n  14,\n  11,\n  8,\n  5,\n  2,\n  0\n];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3;\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) /\n          remunerationAnnuelleBrutHommes,\n        3\n      )\n    : undefined;\n\n// ESP\nexport const calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) *\n          Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        3\n      )\n    : undefined;\n\ninterface effectifEtEcartRemuGroup extends effectifGroup {\n  trancheAge: TranchesAges;\n  remunerationAnnuelleBrutFemmes: number;\n  remunerationAnnuelleBrutHommes: number;\n  ecartRemunerationMoyenne: number | undefined;\n  ecartApresApplicationSeuilPertinence: number | undefined;\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAge = (\n  state: Array<Groupe>\n): Array<effectifEtEcartRemuGroup> => {\n  const dataByRow = state.reduce(\n    (acc: Array<GroupTranchesAges>, group) => acc.concat(group.tranchesAges),\n    []\n  );\n\n  const computedDataByRow = dataByRow.map(\n    (groupTrancheAge: GroupTranchesAges) => {\n      const remunerationAnnuelleBrutFemmes =\n        groupTrancheAge.remunerationAnnuelleBrutFemmes || 0;\n      const remunerationAnnuelleBrutHommes =\n        groupTrancheAge.remunerationAnnuelleBrutHommes || 0;\n\n      const effectifs = rowEffectifsParTrancheAge(\n        groupTrancheAge,\n        calculValiditeGroupe\n      );\n\n      // ERM\n      const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes\n      );\n      // ESP\n      const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinence(\n        ecartRemunerationMoyenne\n      );\n\n      return {\n        ...effectifs,\n        trancheAge: groupTrancheAge.trancheAge,\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes,\n        ecartRemunerationMoyenne,\n        ecartApresApplicationSeuilPertinence\n      };\n    }\n  );\n\n  return computedDataByRow;\n};\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) =>\n    ecartApresApplicationSeuilPertinence\n);\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartRemuneration: number | undefined\n): \"hommes\" | \"femmes\" | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? Math.sign(indicateurEcartRemuneration) < 0\n      ? \"femmes\"\n      : \"hommes\"\n    : undefined;\n\nexport const calculIndicateurEcartRemunerationAbsolute = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? Math.abs(indicateurEcartRemuneration)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartRemuneration))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurUn(state: AppState) {\n  const effectifEtEcartRemuParTranche = calculEffectifsEtEcartRemuParTrancheAge(\n    state.data\n  );\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(\n    effectifEtEcartRemuParTranche\n  );\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(\n    effectifEtEcartRemuParTranche,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    effectifsIndicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartRemunerationAbsolute = calculIndicateurEcartRemunerationAbsolute(\n    indicateurEcartRemuneration\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartRemuneration\n  );\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemuneration);\n\n  return {\n    effectifEtEcartRemuParTranche,\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration: indicateurEcartRemunerationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\n\ninterface Props {\n  childrenForm: ReactNode;\n  childrenResult: ReactNode;\n}\n\nfunction LayoutFormAndResult({ childrenForm, childrenResult }: Props) {\n  const width = useColumnsWidth(4);\n  return (\n    <div css={styles.body}>\n      <div css={css({ width })}>{childrenForm}</div>\n      <div css={styles.result}>{childrenResult}</div>\n    </div>\n  );\n}\n\nconst styles = {\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  result: css({\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default LayoutFormAndResult;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction ActionBar({ children }: Props) {\n  return <div css={styles.actionBar}>{children}</div>;\n}\n\nconst styles = {\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 46,\n    marginBottom: 36\n  })\n};\n\nexport default ActionBar;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport ButtonSubmit from \"../components/ButtonSubmit\";\n\ninterface Props {\n  submitFailed: boolean;\n  hasValidationErrors: boolean;\n  errorMessage: string;\n}\n\nfunction FormSubmit({\n  submitFailed,\n  hasValidationErrors,\n  errorMessage\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ButtonSubmit\n        label=\"valider\"\n        outline={hasValidationErrors}\n        error={submitFailed && hasValidationErrors}\n      />\n      {submitFailed && hasValidationErrors && (\n        <p css={styles.error}>{errorMessage}</p>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\"\n  }),\n  error: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default FormSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  CategorieSocioPro,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges,\n  ActionIndicateurUnData,\n  FormState\n} from \"../globals.d\";\n\nimport { parseIntFormValue, parseIntStateValue } from \"../utils/formHelpers\";\nimport { calculValiditeGroupe } from \"../utils/calculsEgaProIndicateurUn\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props {\n  data: Array<Groupe>;\n  readOnly: boolean;\n  updateIndicateurUn: (data: ActionIndicateurUnData) => void;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string =>\n  \"remunerationAnnuelleBrut\" + categorieSocioPro + genre + trancheAge;\n\nfunction IndicateurUnForm({\n  data,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const infoFields = data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes,\n          remunerationAnnuelleBrutFemmes,\n          remunerationAnnuelleBrutHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            calculable: calculValiditeGroupe(\n              nombreSalariesFemmes || 0,\n              nombreSalariesHommes || 0\n            ),\n            remunerationAnnuelleBrutFemmesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            remunerationAnnuelleBrutFemmesValue: parseIntStateValue(\n              remunerationAnnuelleBrutFemmes\n            ),\n            remunerationAnnuelleBrutHommesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            remunerationAnnuelleBrutHommesValue: parseIntStateValue(\n              remunerationAnnuelleBrutHommes\n            )\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          remunerationAnnuelleBrutFemmesName,\n          remunerationAnnuelleBrutFemmesValue,\n          remunerationAnnuelleBrutHommesName,\n          remunerationAnnuelleBrutHommesValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [remunerationAnnuelleBrutFemmesName]: remunerationAnnuelleBrutFemmesValue,\n          [remunerationAnnuelleBrutHommesName]: remunerationAnnuelleBrutHommesValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurUnData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmesName,\n            remunerationAnnuelleBrutHommesName\n          }) => ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseIntFormValue(\n              formData[remunerationAnnuelleBrutFemmesName]\n            ),\n            remunerationAnnuelleBrutHommes: parseIntFormValue(\n              formData[remunerationAnnuelleBrutHommesName]\n            )\n          })\n        )\n      })\n    );\n    updateIndicateurUn(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurUn(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n        return (\n          <BlocForm\n            key={categorieSocioPro}\n            title={displayNameCategorieSocioPro(categorieSocioPro)}\n            label=\"rémunération moyenne\"\n          >\n            {tranchesAges.map(\n              ({\n                trancheAge,\n                calculable,\n                remunerationAnnuelleBrutFemmesName,\n                remunerationAnnuelleBrutHommesName\n              }) => {\n                return (\n                  <FieldInputsMenWomen\n                    key={trancheAge}\n                    form={form}\n                    name={displayNameTranchesAges(trancheAge)}\n                    readOnly={readOnly}\n                    calculable={calculable}\n                    calculableNumber={3}\n                    mask=\"number\"\n                    femmeFieldName={remunerationAnnuelleBrutFemmesName}\n                    hommeFieldName={remunerationAnnuelleBrutHommesName}\n                  />\n                );\n              }\n            )}\n          </BlocForm>\n        );\n      })}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurUnForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nexport interface Props {\n  firstLineLabel: string;\n  firstLineData: string;\n  firstLineInfo?: string;\n  secondLineLabel: string;\n  secondLineData: string;\n  secondLineInfo?: string;\n}\n\nfunction ResultBubble({\n  firstLineLabel,\n  firstLineData,\n  firstLineInfo,\n  secondLineLabel,\n  secondLineData,\n  secondLineInfo\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.bloc}>\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{firstLineLabel} </span>\n            <span css={styles.messageData}>{firstLineData}</span>\n          </p>\n          {firstLineInfo && <p css={styles.info}>{firstLineInfo}</p>}\n        </div>\n\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{secondLineLabel} </span>\n            <span css={styles.messageData}>{secondLineData}</span>\n          </p>\n          {secondLineInfo && <p css={styles.info}>{secondLineInfo}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    width: \"100%\",\n    position: \"relative\",\n    height: 0,\n    paddingTop: \"100%\"\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\"\n  }),\n  blocInfo: css({\n    borderBottom: \"1px solid #FFFFFF\"\n  }),\n  message: css({\n    marginBottom: 2,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  messageLabel: css({\n    marginRight: \"auto\"\n  }),\n  messageData: css({\n    fontWeight: \"bold\"\n  }),\n  info: css({\n    marginTop: 7,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\"\n  })\n};\n\nexport default ResultBubble;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport { displayPercent } from \"../utils/helpers\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurUn: number | undefined;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurEcartRemuneration !== undefined\n            ? displayPercent(indicateurEcartRemuneration)\n            : \"--\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurUn(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurUnResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurUnData\n} from \"../globals.d\";\n\nimport calculIndicateurUn from \"../utils/calculsEgaProIndicateurUn\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport TextLink from \"../components/TextLink\";\n\nimport IndicateurUnForm from \"./IndicateurUnForm\";\nimport IndicateurUnResult from \"./IndicateurUnResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurUn({ state, dispatch }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnData) =>\n      dispatch({ type: \"updateIndicateurUn\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn\n  } = calculIndicateurUn(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurUn>\n        <InfoBloc\n          title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextLink to=\"/effectifs\" label=\"renseigner les effectifs\" />}\n        />\n      </PageIndicateurUn>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 3 femmes et 3 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  return (\n    <PageIndicateurUn>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurUnForm\n            data={state.data}\n            readOnly={state.indicateurUn.formValidated === \"Valid\"}\n            updateIndicateurUn={updateIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n        }\n        childrenResult={\n          state.indicateurUn.formValidated === \"Valid\" && (\n            <IndicateurUnResult\n              indicateurEcartRemuneration={indicateurEcartRemuneration}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurUn={noteIndicateurUn}\n              validateIndicateurUn={validateIndicateurUn}\n            />\n          )\n        }\n      />\n    </PageIndicateurUn>\n  );\n}\n\nfunction PageIndicateurUn({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 1, écart de rémunération\"\n      tagline=\"Renseignez la rémunération (annuelle / mensuelle) moyenne des femmes et\n        des hommes par CSP et par tranche d’âge.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurUn;\n","import { AppState, CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10;\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number | undefined,\n  tauxAugmentationHommes: number | undefined\n): number | undefined =>\n  tauxAugmentationFemmes !== undefined &&\n  tauxAugmentationHommes !== undefined &&\n  tauxAugmentationFemmes >= 0 &&\n  tauxAugmentationHommes >= 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 3)\n    : undefined;\n\nexport interface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  ecartTauxAugmentation: number | undefined;\n}\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartAugmentGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxAugmentationFemmes,\n    sommeProduitTauxAugmentationHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      {\n        sommeProduitTauxAugmentationFemmes,\n        sommeProduitTauxAugmentationHommes\n      },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes +\n          (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes +\n          (tauxAugmentationHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0\n    }\n  );\n\n  // TTAF\n  const totalTauxAugmentationFemmes =\n    sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes;\n\n  // TTAH\n  const totalTauxAugmentationHommes =\n    sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number\n): boolean =>\n  presenceAugmentation &&\n  calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  ) &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0);\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartAugmentation: number | undefined\n): \"hommes\" | \"femmes\" | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? Math.sign(indicateurEcartAugmentation) < 0\n      ? \"femmes\"\n      : \"hommes\"\n    : undefined;\n\nexport const calculIndicateurEcartAugmentationAbsolute = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? Math.abs(indicateurEcartAugmentation)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? baremEcartAugmentation[\n        Math.min(\n          baremEcartAugmentation.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartAugmentation))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurDeux(state: AppState) {\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurDeux.presenceAugmentation,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  );\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartAugmentationAbsolute = calculIndicateurEcartAugmentationAbsolute(\n    indicateurEcartAugmentation\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartAugmentation\n  );\n\n  // NOTE\n  const noteIndicateurDeux = calculNote(indicateurEcartAugmentation);\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation: indicateurEcartAugmentationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField, FieldRenderProps } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nfunction RadioField({\n  field: { input },\n  label,\n  value,\n  disabled\n}: {\n  field: FieldRenderProps;\n  label: string;\n  value: string;\n  disabled: boolean;\n}) {\n  const checked = input.value === value;\n  return (\n    <label css={styles.label}>\n      <input\n        css={styles.radio}\n        {...input}\n        type=\"radio\"\n        value={value}\n        checked={checked}\n        disabled={disabled}\n      />\n      <div css={[styles.fakeRadio, checked && styles.fakeRadioChecked]} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  );\n}\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  fieldName: string;\n  labelTrue: string;\n  labelFalse: string;\n}\n\nfunction RadiosBoolean({\n  form,\n  readOnly,\n  fieldName,\n  labelTrue,\n  labelFalse\n}: Props) {\n  const field = useField(fieldName, form);\n  return (\n    <div css={styles.container}>\n      <RadioField\n        field={field}\n        label={labelTrue}\n        value=\"true\"\n        disabled={readOnly}\n      />\n      <div\n        css={[\n          styles.radioFieldFalse,\n          readOnly && styles.radioFieldFalseDisabled\n        ]}\n      >\n        <RadioField\n          field={field}\n          label={labelFalse}\n          value=\"false\"\n          disabled={readOnly}\n        />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  label: css({\n    display: \"flex\",\n    fontSize: 14,\n    cursor: \"pointer\"\n  }),\n  labelText: css({\n    lineHeight: \"16px\"\n  }),\n  radio: css({\n    display: \"none\"\n  }),\n  fakeRadio: css({\n    width: 16,\n    height: 16,\n    flexShrink: 0,\n    marginRight: 6,\n    borderRadius: 8,\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  fakeRadioChecked: css({\n    backgroundImage: `radial-gradient(${globalStyles.colors.default} 0%, ${\n      globalStyles.colors.default\n    } 3px, #FFF 3px)`\n  }),\n  radioFieldFalse: css({\n    marginTop: 9\n  }),\n  radioFieldFalseDisabled: css({\n    opacity: 0\n  })\n};\n\nexport default RadiosBoolean;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartTauxAugmentation,\n  effectifEtEcartAugmentGroup\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  parseFloatFormValue,\n  parseFloatStateValue\n} from \"../utils/formHelpers\";\nimport {\n  displayNameCategorieSocioPro,\n  displayFractionPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartAugmentParCategorieSocioPro: Array<effectifEtEcartAugmentGroup>;\n  presenceAugmentation: boolean;\n  readOnly: boolean;\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxAugmentation\" + categorieSocioPro + genre;\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  presenceAugmentation,\n  readOnly,\n  updateIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const infoFields = ecartAugmentParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxAugmentationFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxAugmentationFemmesValue: parseFloatStateValue(\n          tauxAugmentationFemmes\n        ),\n        tauxAugmentationHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxAugmentationHommesValue: parseFloatStateValue(\n          tauxAugmentationHommes\n        )\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxAugmentationFemmesName,\n        tauxAugmentationFemmesValue,\n        tauxAugmentationHommesName,\n        tauxAugmentationHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxAugmentationFemmesName]: tauxAugmentationFemmesValue,\n        [tauxAugmentationHommesName]: tauxAugmentationHommesValue\n      };\n    },\n    { presenceAugmentation: String(presenceAugmentation) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presenceAugmentation } = formData;\n    const tauxAugmentation = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxAugmentationFemmesName,\n        tauxAugmentationHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes: parseFloatFormValue(\n          formData[tauxAugmentationFemmesName]\n        ),\n        tauxAugmentationHommes: parseFloatFormValue(\n          formData[tauxAugmentationHommesName]\n        )\n      })\n    );\n    updateIndicateurDeux({\n      tauxAugmentation,\n      presenceAugmentation: presenceAugmentation === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurDeux(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartAugmentParCategorieSocioProPourTotal = ecartAugmentParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxAugmentationFemmes = parseFloatFormValue(\n        values[infoField.tauxAugmentationFemmesName]\n      );\n      const tauxAugmentationHommes = parseFloatFormValue(\n        values[infoField.tauxAugmentationHommesName]\n      );\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n      return {\n        ...groupAugment,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n  const {\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(\n    ecartAugmentParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocForm\n          label=\"% de salariés augmentés\"\n          footer={[\n            displayFractionPercent(totalTauxAugmentationHommes),\n            displayFractionPercent(totalTauxAugmentationFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxAugmentationFemmesName,\n              tauxAugmentationHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  calculableNumber={10}\n                  mask=\"percent\"\n                  femmeFieldName={tauxAugmentationFemmesName}\n                  hommeFieldName={tauxAugmentationHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurDeuxForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport { displayPercent } from \"../utils/helpers\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurDeux: number | undefined;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nfunction IndicateurDeuxResult({\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurEcartAugmentation !== undefined\n            ? displayPercent(indicateurEcartAugmentation)\n            : \"--\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurDeuxResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport calculIndicateurDeux from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\nimport TextLink from \"../components/TextLink\";\n\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\";\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurDeux({ state, dispatch }: Props) {\n  const updateIndicateurDeux = useCallback(\n    (data: ActionIndicateurDeuxData) =>\n      dispatch({ type: \"updateIndicateurDeux\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurDeux = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeux\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux\n  } = calculIndicateurDeux(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeux>\n        <InfoBloc\n          title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextLink to=\"/effectifs\" label=\"renseigner les effectifs\" />}\n        />\n      </PageIndicateurDeux>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurDeux.formValidated === \"Valid\" && !indicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu d’augmentation individuelle durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  return (\n    <PageIndicateurDeux>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurDeuxForm\n            ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n            presenceAugmentation={state.indicateurDeux.presenceAugmentation}\n            readOnly={state.indicateurDeux.formValidated === \"Valid\"}\n            updateIndicateurDeux={updateIndicateurDeux}\n            validateIndicateurDeux={validateIndicateurDeux}\n          />\n        }\n        childrenResult={\n          state.indicateurDeux.formValidated === \"Valid\" && (\n            <IndicateurDeuxResult\n              indicateurEcartAugmentation={indicateurEcartAugmentation}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurDeux={noteIndicateurDeux}\n              validateIndicateurDeux={validateIndicateurDeux}\n            />\n          )\n        }\n      />\n    </PageIndicateurDeux>\n  );\n}\n\nfunction PageIndicateurDeux({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 2, écart de taux d’augmentation individuelle “hors promotion”\"\n      tagline=\"Renseignez le pourcentage d’hommes et des femmes ayant été augmentés durant la période de référence, par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurDeux;\n","import { AppState, CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  calculEffectifsIndicateurCalculable,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculIndicateurSexeSousRepresente,\n  calculIndicateurEcartAugmentationAbsolute\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n  calculIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation;\n\nexport interface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n  ecartTauxPromotion: number | undefined;\n}\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartPromoGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxPromotion = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxPromotionFemmes,\n    sommeProduitTauxPromotionHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes +\n          (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes +\n          (tauxPromotionHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0\n    }\n  );\n\n  // TTPF\n  const totalTauxPromotionFemmes =\n    sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes;\n\n  // TTPH\n  const totalTauxPromotionHommes =\n    sommeProduitTauxPromotionHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion\n);\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation;\n\nexport const calculIndicateurEcartPromotionAbsolute = calculIndicateurEcartAugmentationAbsolute;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined\n): number | undefined =>\n  indicateurEcartPromotion !== undefined\n    ? baremEcartPromotion[\n        Math.min(\n          baremEcartPromotion.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartPromotion))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurTrois(state: AppState) {\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurTrois.presencePromotion,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  );\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartPromotionAbsolute = calculIndicateurEcartPromotionAbsolute(\n    indicateurEcartPromotion\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartPromotion\n  );\n\n  // NOTE\n  const noteIndicateurTrois = calculNote(indicateurEcartPromotion);\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion: indicateurEcartPromotionAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartTauxPromotion,\n  effectifEtEcartPromoGroup\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  parseFloatFormValue,\n  parseFloatStateValue\n} from \"../utils/formHelpers\";\nimport {\n  displayNameCategorieSocioPro,\n  displayFractionPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartPromoParCategorieSocioPro: Array<effectifEtEcartPromoGroup>;\n  presencePromotion: boolean;\n  readOnly: boolean;\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxPromotion\" + categorieSocioPro + genre;\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  presencePromotion,\n  readOnly,\n  updateIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const infoFields = ecartPromoParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxPromotionFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxPromotionFemmesValue: parseFloatStateValue(tauxPromotionFemmes),\n        tauxPromotionHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxPromotionHommesValue: parseFloatStateValue(tauxPromotionHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxPromotionFemmesName,\n        tauxPromotionFemmesValue,\n        tauxPromotionHommesName,\n        tauxPromotionHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxPromotionFemmesName]: tauxPromotionFemmesValue,\n        [tauxPromotionHommesName]: tauxPromotionHommesValue\n      };\n    },\n    { presencePromotion: String(presencePromotion) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presencePromotion } = formData;\n    const tauxPromotion = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxPromotionFemmesName,\n        tauxPromotionHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes: parseFloatFormValue(\n          formData[tauxPromotionFemmesName]\n        ),\n        tauxPromotionHommes: parseFloatFormValue(\n          formData[tauxPromotionHommesName]\n        )\n      })\n    );\n    updateIndicateurTrois({\n      tauxPromotion,\n      presencePromotion: presencePromotion === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurTrois(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartPromoParCategorieSocioProPourTotal = ecartPromoParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxPromotionFemmes = parseFloatFormValue(\n        values[infoField.tauxPromotionFemmesName]\n      );\n      const tauxPromotionHommes = parseFloatFormValue(\n        values[infoField.tauxPromotionHommesName]\n      );\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n      return {\n        ...groupAugment,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n  const {\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(\n    ecartPromoParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presencePromotion\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des promotions durant la période de référence\"\n        labelFalse=\"il n’y a pas eu de promotions durant la période de référence\"\n      />\n\n      {values.presencePromotion === \"true\" && (\n        <BlocForm\n          label=\"% de salariés promus\"\n          footer={[\n            displayFractionPercent(totalTauxPromotionHommes),\n            displayFractionPercent(totalTauxPromotionFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxPromotionFemmesName,\n              tauxPromotionHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  calculableNumber={10}\n                  mask=\"percent\"\n                  femmeFieldName={tauxPromotionFemmesName}\n                  hommeFieldName={tauxPromotionHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurTroisForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\nimport { displayPercent } from \"../utils/helpers\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartPromotion: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurTrois: number | undefined;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nfunction IndicateurTroisResult({\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurEcartPromotion !== undefined\n            ? displayPercent(indicateurEcartPromotion)\n            : \"--\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n          \"/15\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurTroisResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport calculIndicateurTrois from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\nimport TextLink from \"../components/TextLink\";\n\nimport IndicateurTroisForm from \"./IndicateurTroisForm\";\nimport IndicateurTroisResult from \"./IndicateurTroisResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurTrois({ state, dispatch }: Props) {\n  const updateIndicateurTrois = useCallback(\n    (data: ActionIndicateurTroisData) =>\n      dispatch({ type: \"updateIndicateurTrois\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurTrois\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois\n  } = calculIndicateurTrois(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurTrois>\n        <InfoBloc\n          title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextLink to=\"/effectifs\" label=\"renseigner les effectifs\" />}\n        />\n      </PageIndicateurTrois>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n                moins 10 femmes et 10 hommes), représentent moins de 40% des\n                effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurTrois.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  return (\n    <PageIndicateurTrois>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurTroisForm\n            ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n            presencePromotion={state.indicateurTrois.presencePromotion}\n            readOnly={state.indicateurTrois.formValidated === \"Valid\"}\n            updateIndicateurTrois={updateIndicateurTrois}\n            validateIndicateurTrois={validateIndicateurTrois}\n          />\n        }\n        childrenResult={\n          state.indicateurTrois.formValidated === \"Valid\" && (\n            <IndicateurTroisResult\n              indicateurEcartPromotion={indicateurEcartPromotion}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurTrois={noteIndicateurTrois}\n              validateIndicateurTrois={validateIndicateurTrois}\n            />\n          )\n        }\n      />\n    </PageIndicateurTrois>\n  );\n}\n\nfunction PageIndicateurTrois({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 3, écart de taux de promotions\"\n      tagline=\"Renseignez le pourcentage de femmes et d’hommes ayant été promus durant la période de référence par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurTrois;\n","import { AppState } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n//////////////////\n// INDICATEUR 4 //\n//////////////////\n\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  presenceCongeMat: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined\n) => {\n  return (\n    presenceAugmentation &&\n    presenceCongeMat &&\n    nombreSalarieesPeriodeAugmentation !== undefined &&\n    nombreSalarieesPeriodeAugmentation > 0\n  );\n};\n\nexport const calculIndicateurEcartNombreSalarieesAugmentees = (\n  indicateurCalculable: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined,\n  nombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurCalculable &&\n  nombreSalarieesPeriodeAugmentation !== undefined &&\n  nombreSalarieesAugmentees !== undefined &&\n  nombreSalarieesPeriodeAugmentation >= nombreSalarieesAugmentees\n    ? Math.abs(\n        roundDecimal(\n          100 *\n            (nombreSalarieesAugmentees / nombreSalarieesPeriodeAugmentation),\n          3\n        )\n      )\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartNombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurEcartNombreSalarieesAugmentees !== undefined\n    ? indicateurEcartNombreSalarieesAugmentees < 100\n      ? 0\n      : 15\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurQuatre(state: AppState) {\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurQuatre.presenceAugmentation,\n    state.indicateurQuatre.presenceCongeMat,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation\n  );\n\n  const indicateurEcartNombreSalarieesAugmentees = calculIndicateurEcartNombreSalarieesAugmentees(\n    indicateurCalculable,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation,\n    state.indicateurQuatre.nombreSalarieesAugmentees\n  );\n\n  const noteIndicateurQuatre = calculNote(\n    indicateurEcartNombreSalarieesAugmentees\n  );\n\n  return {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField, FieldRenderProps } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\nimport { IconValid, IconInvalid } from \"./Icons\";\n\nconst hasMinMaxInputError = (meta: FieldRenderProps[\"meta\"]) =>\n  meta.error && meta.touched && (meta.error.minNumber || meta.error.maxNumber);\n\nconst hasPreviousFieldInputError = (meta: FieldRenderProps[\"meta\"]) =>\n  meta.error && meta.touched && meta.error.previousField;\n\ninterface Props {\n  form: FormApi;\n  fieldName: string;\n  label: string;\n  readOnly: boolean;\n}\n\nfunction FieldInput({ form, fieldName, label, readOnly }: Props) {\n  const field = useField(fieldName, form);\n  const error = hasFieldError(field.meta);\n  const minMaxError = hasMinMaxInputError(field.meta);\n  const previousFieldError = hasPreviousFieldInputError(field.meta);\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={[styles.cellHead, error && styles.cellHeadError]}>\n          <div css={styles.cellHeadInner}>\n            {field.meta.valid ? (\n              <div css={styles.cellHeadIcon}>\n                <IconValid />\n              </div>\n            ) : error ? (\n              <div css={styles.cellHeadIcon}>\n                <IconInvalid />\n              </div>\n            ) : null}\n            <span>{label}</span>\n          </div>\n        </CellHead>\n\n        {readOnly ? (\n          <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n            {field.input.value}\n          </Cell>\n        ) : (\n          <CellInput field={field} style={styles.cellWomen} />\n        )}\n      </div>\n      {error &&\n        (minMaxError ? (\n          <div css={styles.error}>\n            ce champs doit contenir une valeur entre 0 et 10\n          </div>\n        ) : previousFieldError ? (\n          <div css={styles.error}>\n            ce champs ne peut être supérieur au précédent\n          </div>\n        ) : (\n          <div css={styles.error}>\n            ce champs n’est pas valide, renseignez une valeur numérique\n          </div>\n        ))}\n    </div>\n  );\n}\n\nexport const HEIGHT = 58;\nexport const MARGIN_TOP = 10;\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: HEIGHT,\n    marginTop: MARGIN_TOP\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  }),\n  cellHead: css({\n    height: 29,\n    paddingBottom: 2,\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInner: css({\n    display: \"flex\",\n    alignItems: \"baseline\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cellHeadIcon: css({\n    marginRight: 5\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo, Fragment } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport { AppState, FormState, ActionIndicateurQuatreData } from \"../globals.d\";\n\nimport {\n  parseIntFormValue,\n  parseIntStateValue,\n  required,\n  mustBeNumber,\n  maxNumber\n} from \"../utils/formHelpers\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput, {\n  HEIGHT as FieldInputHeight,\n  MARGIN_TOP as FieldInputMarginTop\n} from \"../components/FieldInput\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\nconst validateWithPreviousField = (\n  value: string,\n  valuePreviousField: string\n) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  const maxNumberError = maxNumber(value, Number(valuePreviousField));\n  if (!requiredError && !mustBeNumberError && !maxNumberError) {\n    return undefined;\n  } else {\n    return {\n      required: requiredError,\n      mustBeNumber: mustBeNumberError,\n      previousField: maxNumberError\n    };\n  }\n};\n\nconst validateForm = ({\n  nombreSalarieesPeriodeAugmentation,\n  nombreSalarieesAugmentees\n}: {\n  nombreSalarieesPeriodeAugmentation: string;\n  nombreSalarieesAugmentees: string;\n}) => ({\n  nombreSalarieesPeriodeAugmentation: validate(\n    nombreSalarieesPeriodeAugmentation\n  ),\n  nombreSalarieesAugmentees: validateWithPreviousField(\n    nombreSalarieesAugmentees,\n    nombreSalarieesPeriodeAugmentation\n  )\n});\n\n///////////////\n\ninterface Props {\n  indicateurQuatre: AppState[\"indicateurQuatre\"];\n  readOnly: boolean;\n  updateIndicateurQuatre: (data: ActionIndicateurQuatreData) => void;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nfunction IndicateurQuatreForm({\n  indicateurQuatre,\n  readOnly,\n  updateIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  const initialValues = {\n    presenceAugmentation: String(indicateurQuatre.presenceAugmentation),\n    presenceCongeMat: String(indicateurQuatre.presenceCongeMat),\n    nombreSalarieesPeriodeAugmentation: parseIntStateValue(\n      indicateurQuatre.nombreSalarieesPeriodeAugmentation\n    ),\n    nombreSalarieesAugmentees: parseIntStateValue(\n      indicateurQuatre.nombreSalarieesAugmentees\n    )\n  };\n\n  const saveForm = (formData: any) => {\n    const {\n      presenceAugmentation,\n      presenceCongeMat,\n      nombreSalarieesPeriodeAugmentation,\n      nombreSalarieesAugmentees\n    } = formData;\n\n    updateIndicateurQuatre({\n      presenceAugmentation: presenceAugmentation === \"true\",\n      presenceCongeMat: presenceCongeMat === \"true\",\n      nombreSalarieesPeriodeAugmentation: parseIntFormValue(\n        nombreSalarieesPeriodeAugmentation\n      ),\n      nombreSalarieesAugmentees: parseIntFormValue(nombreSalarieesAugmentees)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurQuatre(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit,\n    validate: validateForm\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations collective ou individuelle durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation collective ou individuelle durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocFormLight>\n          <RadiosBoolean\n            form={form}\n            fieldName=\"presenceCongeMat\"\n            readOnly={readOnly}\n            labelTrue=\"il y a eu des retours de congé maternité pendant la période de référence\"\n            labelFalse=\"il n’y a pas eu de retour de congé maternité pendant la période de référence\"\n          />\n          <div css={styles.spacer} />\n          {values.presenceCongeMat === \"true\" ? (\n            <Fragment>\n              <FieldInput\n                form={form}\n                fieldName=\"nombreSalarieesPeriodeAugmentation\"\n                label=\"pour combien de salariées, ces congés maternités ont eu lieu pendant des périodes d’augmentation\"\n                readOnly={readOnly}\n              />\n              <FieldInput\n                form={form}\n                fieldName=\"nombreSalarieesAugmentees\"\n                label=\"parmi ces salariées combien ont été augmentées à leur retour\"\n                readOnly={readOnly}\n              />\n            </Fragment>\n          ) : (\n            <div css={styles.emptyFields} />\n          )}\n        </BlocFormLight>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  spacer: css({\n    height: 24\n  }),\n  emptyFields: css({\n    height: (FieldInputHeight + FieldInputMarginTop) * 2\n  })\n};\n\nexport default memo(\n  IndicateurQuatreForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport { displayPercent } from \"../utils/helpers\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartNombreSalarieesAugmentees: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nfunction IndicateurQuatreResult({\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurEcartNombreSalarieesAugmentees !== undefined\n            ? displayPercent(indicateurEcartNombreSalarieesAugmentees, 1)\n            : \"--\"\n        }\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n          \"/15\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurQuatreResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurQuatreData\n} from \"../globals.d\";\n\nimport calculIndicateurQuatre from \"../utils/calculsEgaProIndicateurQuatre\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurQuatreForm from \"./IndicateurQuatreForm\";\nimport IndicateurQuatreResult from \"./IndicateurQuatreResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurQuatre({ state, dispatch }: Props) {\n  const updateIndicateurQuatre = useCallback(\n    (data: ActionIndicateurQuatreData) =>\n      dispatch({ type: \"updateIndicateurQuatre\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurQuatre = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurQuatre\", valid }),\n    [dispatch]\n  );\n\n  const {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  } = calculIndicateurQuatre(state);\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurQuatre>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurQuatre>\n    );\n  }\n\n  return (\n    <PageIndicateurQuatre>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurQuatreForm\n            indicateurQuatre={state.indicateurQuatre}\n            readOnly={state.indicateurQuatre.formValidated === \"Valid\"}\n            updateIndicateurQuatre={updateIndicateurQuatre}\n            validateIndicateurQuatre={validateIndicateurQuatre}\n          />\n        }\n        childrenResult={\n          state.indicateurQuatre.formValidated === \"Valid\" && (\n            <IndicateurQuatreResult\n              indicateurEcartNombreSalarieesAugmentees={\n                indicateurEcartNombreSalarieesAugmentees\n              }\n              noteIndicateurQuatre={noteIndicateurQuatre}\n              validateIndicateurQuatre={validateIndicateurQuatre}\n            />\n          )\n        }\n      />\n    </PageIndicateurQuatre>\n  );\n}\n\nfunction PageIndicateurQuatre({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n      tagline=\"Renseignez le taux de salariées en congès maternité durant la période de référence ayant reçu une augmentation à leur retour.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurQuatre;\n","import { AppState } from \"../globals.d\";\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\n//////////////////\n// INDICATEUR 5 //\n//////////////////\n\nconst baremeEcartRemuneration = [0, 0, 5, 5, 10, 10];\n\nexport const calculIndicateurSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined\n): \"hommes\" | \"femmes\" | \"egalite\" | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? nombreSalariesHommes > nombreSalariesFemmes\n      ? \"femmes\"\n      : nombreSalariesHommes < nombreSalariesFemmes\n      ? \"hommes\"\n      : \"egalite\"\n    : undefined;\n\nexport const calculIndicateurNombreSalariesSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined\n): number | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? Math.min(nombreSalariesHommes, nombreSalariesFemmes)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurNombreSalariesSexeSousRepresente: number | undefined\n): number | undefined =>\n  indicateurNombreSalariesSexeSousRepresente !== undefined\n    ? baremeEcartRemuneration[\n        clamp(\n          indicateurNombreSalariesSexeSousRepresente,\n          0,\n          baremeEcartRemuneration.length - 1\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurCinq(state: AppState) {\n  const indicateurSexeSousRepresente = calculIndicateurSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes\n  );\n\n  const indicateurNombreSalariesSexeSousRepresente = calculIndicateurNombreSalariesSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes\n  );\n\n  const noteIndicateurCinq = calculNote(\n    indicateurNombreSalariesSexeSousRepresente\n  );\n\n  return {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo, useEffect } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport createDecorator from \"final-form-calculate\";\n\nimport { AppState, FormState, ActionIndicateurCinqData } from \"../globals.d\";\n\nimport {\n  parseIntFormValue,\n  parseIntStateValue,\n  required,\n  mustBeNumber,\n  minNumber,\n  maxNumber\n} from \"../utils/formHelpers\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput from \"../components/FieldInput\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  const minNumberError = minNumber(value, 0);\n  const maxNumberError = maxNumber(value, 10);\n  if (\n    !requiredError &&\n    !mustBeNumberError &&\n    !minNumberError &&\n    !maxNumberError\n  ) {\n    return undefined;\n  } else {\n    return {\n      required: requiredError,\n      mustBeNumber: mustBeNumberError,\n      minNumber: minNumberError,\n      maxNumber: maxNumberError\n    };\n  }\n};\n\nconst validateForm = ({\n  nombreSalariesFemmes,\n  nombreSalariesHommes\n}: {\n  nombreSalariesFemmes: string;\n  nombreSalariesHommes: string;\n}) => ({\n  nombreSalariesFemmes: validate(nombreSalariesFemmes),\n  nombreSalariesHommes: validate(nombreSalariesHommes)\n});\n\nconst valueValidateForCalculator = (value: string) => {\n  return validate(value) === undefined;\n};\n\nconst calculator = createDecorator(\n  {\n    field: \"nombreSalariesFemmes\",\n    updates: {\n      nombreSalariesHommes: (femmesValue, { nombreSalariesHommes }: any) =>\n        valueValidateForCalculator(femmesValue)\n          ? parseIntStateValue(10 - parseIntFormValue(femmesValue))\n          : nombreSalariesHommes\n    }\n  },\n  {\n    field: \"nombreSalariesHommes\",\n    updates: {\n      nombreSalariesFemmes: (hommesValue, { nombreSalariesFemmes }: any) =>\n        valueValidateForCalculator(hommesValue)\n          ? parseIntStateValue(10 - parseIntFormValue(hommesValue))\n          : nombreSalariesFemmes\n    }\n  }\n);\n\n///////////////////\n\ninterface Props {\n  indicateurCinq: AppState[\"indicateurCinq\"];\n  readOnly: boolean;\n  updateIndicateurCinq: (data: ActionIndicateurCinqData) => void;\n  validateIndicateurCinq: (valid: FormState) => void;\n}\n\nfunction IndicateurCinqForm({\n  indicateurCinq,\n  readOnly,\n  updateIndicateurCinq,\n  validateIndicateurCinq\n}: Props) {\n  const initialValues = {\n    nombreSalariesHommes: parseIntStateValue(\n      indicateurCinq.nombreSalariesHommes\n    ),\n    nombreSalariesFemmes: parseIntStateValue(\n      indicateurCinq.nombreSalariesFemmes\n    )\n  };\n\n  const saveForm = (formData: any) => {\n    const { nombreSalariesHommes, nombreSalariesFemmes } = formData;\n\n    updateIndicateurCinq({\n      nombreSalariesHommes: parseIntFormValue(nombreSalariesHommes),\n      nombreSalariesFemmes: parseIntFormValue(nombreSalariesFemmes)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurCinq(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit,\n    validate: validateForm\n  });\n\n  useEffect(() => {\n    const unsubscribe = calculator(form);\n    return () => unsubscribe();\n  }, [form]);\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <BlocFormLight>\n        <FieldInput\n          form={form}\n          fieldName=\"nombreSalariesFemmes\"\n          label=\"nombre de femmes parmis les 10 plus hauts salaires\"\n          readOnly={readOnly}\n        />\n        <FieldInput\n          form={form}\n          fieldName=\"nombreSalariesHommes\"\n          label=\"nombre d’hommes parmis les 10 plus hauts salaires\"\n          readOnly={readOnly}\n        />\n      </BlocFormLight>\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/recapitulatif\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurCinqForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined;\n  indicateurNombreSalariesSexeSousRepresente: number | undefined;\n  noteIndicateurCinq: number | undefined;\n  validateIndicateurCinq: (valid: FormState) => void;\n}\n\nfunction IndicateurCinqResult({\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq,\n  validateIndicateurCinq\n}: Props) {\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les hommes et les femmes sont à parité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\";\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurNombreSalariesSexeSousRepresente !== undefined\n            ? String(indicateurNombreSalariesSexeSousRepresente)\n            : \"--\"\n        }\n        firstLineInfo={firstLineInfo}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") + \"/10\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurCinq(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurCinqResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurCinqData\n} from \"../globals.d\";\n\nimport calculIndicateurCinq from \"../utils/calculsEgaProIndicateurCinq\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\n\nimport IndicateurCinqForm from \"./IndicateurCinqForm\";\nimport IndicateurCinqResult from \"./IndicateurCinqResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurCinq({ state, dispatch }: Props) {\n  const updateIndicateurCinq = useCallback(\n    (data: ActionIndicateurCinqData) =>\n      dispatch({ type: \"updateIndicateurCinq\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurCinq = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurCinq\", valid }),\n    [dispatch]\n  );\n\n  const {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  } = calculIndicateurCinq(state);\n\n  return (\n    <PageIndicateurCinq>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurCinqForm\n            indicateurCinq={state.indicateurCinq}\n            readOnly={state.indicateurCinq.formValidated === \"Valid\"}\n            updateIndicateurCinq={updateIndicateurCinq}\n            validateIndicateurCinq={validateIndicateurCinq}\n          />\n        }\n        childrenResult={\n          state.indicateurCinq.formValidated === \"Valid\" && (\n            <IndicateurCinqResult\n              indicateurSexeSousRepresente={indicateurSexeSousRepresente}\n              indicateurNombreSalariesSexeSousRepresente={\n                indicateurNombreSalariesSexeSousRepresente\n              }\n              noteIndicateurCinq={noteIndicateurCinq}\n              validateIndicateurCinq={validateIndicateurCinq}\n            />\n          )\n        }\n      />\n    </PageIndicateurCinq>\n  );\n}\n\nfunction PageIndicateurCinq({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n      tagline=\"Renseignez le nombre d’hommes et de femmes parmi les 10 plus hautes rémunérations durant la période de référence.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurCinq;\n","import { roundDecimal } from \"./helpers\";\n\n///////////\n// Index //\n///////////\n\nexport const calculNoteIndex = (\n  noteIndicateurUn: number | undefined,\n  noteIndicateurDeux: number | undefined,\n  noteIndicateurTrois: number | undefined,\n  noteIndicateurQuatre: number | undefined,\n  noteIndicateurCinq: number | undefined\n): number | undefined => {\n  const noteIndicateurUnPointCalculable =\n    noteIndicateurUn !== undefined ? 40 : 0;\n  const noteIndicateurDeuxPointCalculable =\n    noteIndicateurDeux !== undefined ? 20 : 0;\n  const noteIndicateurTroisPointCalculable =\n    noteIndicateurTrois !== undefined ? 15 : 0;\n  const noteIndicateurQuatrePointCalculable =\n    noteIndicateurQuatre !== undefined ? 15 : 0;\n  const noteIndicateurCinqPointCalculable =\n    noteIndicateurCinq !== undefined ? 10 : 0;\n\n  const totalPointCalculable =\n    noteIndicateurUnPointCalculable +\n    noteIndicateurDeuxPointCalculable +\n    noteIndicateurTroisPointCalculable +\n    noteIndicateurQuatrePointCalculable +\n    noteIndicateurCinqPointCalculable;\n\n  if (totalPointCalculable < 75) {\n    return undefined;\n  }\n\n  const totalPoint =\n    (noteIndicateurUn || 0) +\n    (noteIndicateurDeux || 0) +\n    (noteIndicateurTrois || 0) +\n    (noteIndicateurQuatre || 0) +\n    (noteIndicateurCinq || 0);\n\n  return roundDecimal((totalPoint * 100) / totalPointCalculable, 3);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../../../utils/globalStyles\";\n\nimport ResultBubble, {\n  Props as ResultBubbleProps\n} from \"../../../components/ResultBubble\";\n\nimport { useColumnsWidth } from \"../../../components/GridContext\";\n\ninterface Props {\n  title: string;\n  children: ReactNode;\n  resultBubble: ResultBubbleProps;\n}\n\nexport function RecapBloc({ title, children, resultBubble }: Props) {\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.container}>\n      <div css={[styles.blocInfo, css({ width })]}>\n        <div css={styles.title}>{title}</div>\n\n        {children && (\n          <div css={styles.bloc}>\n            <div css={styles.background} />\n\n            <div css={styles.bloc}>{children}</div>\n          </div>\n        )}\n\n        <div\n          css={[styles.borderBottomBloc, !children && styles.borderNoChildren]}\n        />\n        <div\n          css={[styles.borderLeftBloc, !children && styles.borderNoChildren]}\n        />\n      </div>\n\n      <div css={styles.blocResult}>\n        <div\n          css={[\n            styles.borderBottomResult,\n            !children && styles.borderNoChildren\n          ]}\n        />\n        <div\n          css={[styles.borderRightResult, !children && styles.borderNoChildren]}\n        />\n        <ResultBubble {...resultBubble} />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"row\"\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -20,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n\n  blocInfo: css({\n    position: \"relative\",\n    flexShrink: 0,\n    paddingLeft: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginBottom: 20,\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n\n  bloc: css({\n    position: \"relative\"\n  }),\n  borderBottomBloc: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: 0,\n    right: 0\n  }),\n  borderLeftBloc: css({\n    position: \"absolute\",\n    width: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    top: 0,\n    left: 0\n  }),\n\n  borderBottomResult: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: -globalStyles.grid.gutterWidth,\n    right: \"50%\"\n  }),\n  borderRightResult: css({\n    position: \"absolute\",\n    width: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    top: 0,\n    right: \"50%\"\n  }),\n  blocResult: css({\n    position: \"relative\",\n    maxWidth: 250,\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n\n  borderNoChildren: css({\n    bottom: \"50%\"\n  })\n};\n\nexport default RecapBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../../../utils/globalStyles\";\n\nimport { displayFractionPercent } from \"../../../utils/helpers\";\n\nimport { CellHead, Cell } from \"../../../components/Cell\";\n\nfunction RowData({\n  name,\n  data\n}: {\n  name: string;\n  data: Array<number | undefined>;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={styles.cellHead}>{name}</CellHead>\n\n        {data.map((datum, index) => (\n          <Cell\n            key={index}\n            style={[\n              styles.cell,\n              datum !== undefined && Math.sign(datum) > 0\n                ? styles.cellMen\n                : styles.cellWomen,\n              datum === undefined && styles.cellEmpty\n            ]}\n          >\n            {datum !== undefined ? displayFractionPercent(datum, 1) : \"nc\"}\n          </Cell>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport function RowDataFull({\n  name,\n  data\n}: {\n  name: string;\n  data: number | undefined;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={styles.cellHead}>{name}</CellHead>\n\n        <Cell\n          style={[\n            styles.cell,\n            styles.cellFull,\n            data !== undefined && Math.sign(data) > 0\n              ? styles.cellMen\n              : styles.cellWomen,\n            data === undefined && styles.cellEmpty\n          ]}\n        >\n          {data !== undefined ? displayFractionPercent(data, 1) : \"nc\"}\n        </Cell>\n      </div>\n    </div>\n  );\n}\n\nexport function RowLabels({ labels }: { labels: Array<string> }) {\n  return (\n    <div css={[styles.row, styles.rowLabel]}>\n      <CellHead />\n\n      {labels.map((label, index) => (\n        <Cell key={index} style={[styles.cell, styles.cellLabel]}>\n          {label}\n        </Cell>\n      ))}\n    </div>\n  );\n}\n\nexport function RowLabelFull({ label }: { label: string }) {\n  return (\n    <div css={[styles.row, styles.rowLabel]}>\n      <CellHead />\n\n      <Cell style={[styles.cell, styles.cellLabel, styles.cellFull]}>\n        {label}\n      </Cell>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  rowLabel: css({\n    marginBottom: 10\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n\n  cell: css({\n    marginLeft: 4,\n    width: 48,\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 14\n  }),\n  cellMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    color: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    color: globalStyles.colors.invalid\n  }),\n  cellLabel: css({\n    fontSize: 12,\n    fontStyle: \"italic\",\n    textAlign: \"center\"\n  }),\n  cellFull: css({\n    width: 48 * 4 + 3 * 4\n  })\n};\n\nexport default RowData;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState, TranchesAges, CategorieSocioPro } from \"../../globals.d\";\n\nimport {\n  displayNameTranchesAges,\n  displayNameCategorieSocioPro\n} from \"../../utils/helpers\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\nimport RowData, { RowLabels, RowLabelFull } from \"./components/RowData\";\n\ninterface Props {\n  indicateurUnFormValidated: FormState;\n  effectifsIndicateurUnCalculable: boolean;\n  effectifEtEcartRemuParTranche: Array<{\n    ecartRemunerationMoyenne: number | undefined;\n  }>;\n  indicateurEcartRemuneration: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurUn: number | undefined;\n}\n\nfunction RecapitulatifIndicateurUn({\n  indicateurUnFormValidated,\n  effectifsIndicateurUnCalculable,\n  effectifEtEcartRemuParTranche,\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn\n}: Props) {\n  if (!effectifsIndicateurUnCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car l’ensemble des groupes valables (c’est-à-dire comptant au moins 3 femmes et 3 hommes), représentent moins de 40% des effectifs.\"\n        />\n      </div>\n    );\n  }\n\n  if (indicateurUnFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartRemuneration !== undefined\n              ? indicateurEcartRemuneration.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <RowLabelFull label=\"écart de rémunération par csp\" />\n        <RowLabels\n          labels={[\n            displayNameTranchesAges(TranchesAges.MoinsDe30ans),\n            displayNameTranchesAges(TranchesAges.De30a39ans),\n            displayNameTranchesAges(TranchesAges.De40a49ans),\n            displayNameTranchesAges(TranchesAges.PlusDe50ans)\n          ]}\n        />\n\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Ouvriers)}\n          data={[\n            effectifEtEcartRemuParTranche[0].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[1].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[2].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[3].ecartRemunerationMoyenne\n          ]}\n        />\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Employes)}\n          data={[\n            effectifEtEcartRemuParTranche[4].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[5].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[6].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[7].ecartRemunerationMoyenne\n          ]}\n        />\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Techniciens)}\n          data={[\n            effectifEtEcartRemuParTranche[8].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[9].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[10].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[11].ecartRemunerationMoyenne\n          ]}\n        />\n        <RowData\n          name={displayNameCategorieSocioPro(CategorieSocioPro.Cadres)}\n          data={[\n            effectifEtEcartRemuParTranche[12].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[13].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[14].ecartRemunerationMoyenne,\n            effectifEtEcartRemuParTranche[15].ecartRemunerationMoyenne\n          ]}\n        />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurUn;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState, CategorieSocioPro } from \"../../globals.d\";\n\nimport { displayNameCategorieSocioPro } from \"../../utils/helpers\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\nimport { RowDataFull, RowLabelFull } from \"./components/RowData\";\n\ninterface Props {\n  indicateurDeuxFormValidated: FormState;\n  effectifsIndicateurDeuxCalculable: boolean;\n  indicateurDeuxCalculable: boolean;\n  effectifEtEcartAugmentParGroupe: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    ecartTauxAugmentation: number | undefined;\n  }>;\n  indicateurEcartAugmentation: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurDeux: number | undefined;\n}\n\nfunction RecapitulatifIndicateurDeux({\n  indicateurDeuxFormValidated,\n  effectifsIndicateurDeuxCalculable,\n  indicateurDeuxCalculable,\n  effectifEtEcartAugmentParGroupe,\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux\n}: Props) {\n  if (!effectifsIndicateurDeuxCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car l’ensemble des groupes valables (c’est-à-dire comptant au moins 10 femmes et 10 hommes), représentent moins de 40% des effectifs.\"\n        />\n      </div>\n    );\n  }\n\n  if (indicateurDeuxFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurDeuxCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu d’augmentation durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartAugmentation !== undefined\n              ? indicateurEcartAugmentation.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") +\n            \"/20\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <RowLabelFull label=\"écart de taux d’augmentation par csp\" />\n\n        {effectifEtEcartAugmentParGroupe.map(\n          ({ categorieSocioPro, ecartTauxAugmentation }) => (\n            <RowDataFull\n              key={categorieSocioPro}\n              name={displayNameCategorieSocioPro(categorieSocioPro)}\n              data={ecartTauxAugmentation}\n            />\n          )\n        )}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurDeux;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState, CategorieSocioPro } from \"../../globals.d\";\n\nimport { displayNameCategorieSocioPro } from \"../../utils/helpers\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\nimport { RowDataFull, RowLabelFull } from \"./components/RowData\";\n\ninterface Props {\n  indicateurTroisFormValidated: FormState;\n  effectifsIndicateurTroisCalculable: boolean;\n  indicateurTroisCalculable: boolean;\n  effectifEtEcartPromoParGroupe: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    ecartTauxPromotion: number | undefined;\n  }>;\n  indicateurEcartPromotion: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurTrois: number | undefined;\n}\n\nfunction RecapitulatifIndicateurTrois({\n  indicateurTroisFormValidated,\n  effectifsIndicateurTroisCalculable,\n  indicateurTroisCalculable,\n  effectifEtEcartPromoParGroupe,\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois\n}: Props) {\n  if (!effectifsIndicateurTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car l’ensemble des groupes valables (c’est-à-dire comptant au moins 10 femmes et 10 hommes), représentent moins de 40% des effectifs.\"\n        />\n      </div>\n    );\n  }\n\n  if (indicateurTroisFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu de promotion durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartPromotion !== undefined\n              ? indicateurEcartPromotion.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n            \"/15\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <RowLabelFull label=\"écart de taux de promotion par csp\" />\n\n        {effectifEtEcartPromoParGroupe.map(\n          ({ categorieSocioPro, ecartTauxPromotion }) => (\n            <RowDataFull\n              key={categorieSocioPro}\n              name={displayNameCategorieSocioPro(categorieSocioPro)}\n              data={ecartTauxPromotion}\n            />\n          )\n        )}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurTrois;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurQuatreFormValidated: FormState;\n  indicateurQuatreCalculable: boolean;\n  indicateurEcartNombreSalarieesAugmentees: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n}\n\nfunction RecapitulatifIndicateurQuatre({\n  indicateurQuatreFormValidated,\n  indicateurQuatreCalculable,\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre\n}: Props) {\n  if (indicateurQuatreFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurQuatreCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu de congé maternité durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartNombreSalarieesAugmentees !== undefined\n              ? indicateurEcartNombreSalarieesAugmentees.toFixed(1)\n              : \"--\") + \" %\",\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n            \"/15\"\n        }}\n      >\n        {null}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurQuatre;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurCinqFormValidated: FormState;\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined;\n  indicateurNombreSalariesSexeSousRepresente: number | undefined;\n  noteIndicateurCinq: number | undefined;\n}\n\nfunction RecapitulatifIndicateurCinq({\n  indicateurCinqFormValidated,\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq\n}: Props) {\n  if (indicateurCinqFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les hommes et les femmes sont à parité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\";\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            indicateurNombreSalariesSexeSousRepresente !== undefined\n              ? String(indicateurNombreSalariesSexeSousRepresente)\n              : \"--\",\n          firstLineInfo,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") +\n            \"/10\"\n        }}\n      >\n        {null}\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurCinq;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport { AppState } from \"../../globals.d\";\n\nimport calculIndicateurUn from \"../../utils/calculsEgaProIndicateurUn\";\nimport calculIndicateurDeux from \"../../utils/calculsEgaProIndicateurDeux\";\nimport calculIndicateurTrois from \"../../utils/calculsEgaProIndicateurTrois\";\nimport calculIndicateurQuatre from \"../../utils/calculsEgaProIndicateurQuatre\";\nimport calculIndicateurCinq from \"../../utils/calculsEgaProIndicateurCinq\";\nimport { calculNoteIndex } from \"../../utils/calculsEgaProIndex\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport Page from \"../../components/Page\";\n\nimport RecapitulatifIndicateurUn from \"./RecapitulatifIndicateurUn\";\nimport RecapitulatifIndicateurDeux from \"./RecapitulatifIndicateurDeux\";\nimport RecapitulatifIndicateurTrois from \"./RecapitulatifIndicateurTrois\";\nimport RecapitulatifIndicateurQuatre from \"./RecapitulatifIndicateurQuatre\";\nimport RecapitulatifIndicateurCinq from \"./RecapitulatifIndicateurCinq\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n}\n\nfunction Recapitulatif({ state }: Props) {\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurUnCalculable,\n    effectifEtEcartRemuParTranche,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente: indicateurUnSexeSurRepresente,\n    noteIndicateurUn\n  } = calculIndicateurUn(state);\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurDeuxCalculable,\n    indicateurCalculable: indicateurDeuxCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    noteIndicateurDeux\n  } = calculIndicateurDeux(state);\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurTroisCalculable,\n    indicateurCalculable: indicateurTroisCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente: indicateurTroisSexeSurRepresente,\n    noteIndicateurTrois\n  } = calculIndicateurTrois(state);\n\n  const {\n    indicateurCalculable: indicateurQuatreCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  } = calculIndicateurQuatre(state);\n\n  const {\n    indicateurSexeSousRepresente: indicateurCinqSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  } = calculIndicateurCinq(state);\n\n  const allIndicateurValid =\n    (state.indicateurUn.formValidated === \"Valid\" ||\n      !effectifsIndicateurUnCalculable) &&\n    (state.indicateurDeux.formValidated === \"Valid\" ||\n      !effectifsIndicateurDeuxCalculable) &&\n    (state.indicateurTrois.formValidated === \"Valid\" ||\n      !effectifsIndicateurTroisCalculable) &&\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    state.indicateurCinq.formValidated === \"Valid\";\n\n  const noteIndex = calculNoteIndex(\n    noteIndicateurUn,\n    noteIndicateurDeux,\n    noteIndicateurTrois,\n    noteIndicateurQuatre,\n    noteIndicateurCinq\n  );\n\n  return (\n    <Page\n      title=\"Récapitulatif des résultats de vos indicateurs\"\n      tagline=\"Oubliez pas de décalarer vos résultats sur SOLEN avant le 1er septembre.\"\n    >\n      <div css={styles.indexBloc}>\n        {allIndicateurValid ? (\n          noteIndex ? (\n            <InfoBloc\n              title=\"Index égalité homme-femme\"\n              text={`votre résultat total est ${noteIndex}/100`}\n              icon={null}\n            />\n          ) : (\n            <InfoBloc\n              title=\"Index égalité homme-femme\"\n              text=\"Vos indicateurs représentent moins de 75 points, votre index ne peut-être calculé.\"\n            />\n          )\n        ) : (\n          <InfoBloc\n            title=\"Index égalité homme-femme\"\n            text=\"Vous n’avez pas encore validé tous vos indicateur, votre index ne peut-être calculé.\"\n          />\n        )}\n      </div>\n      <RecapitulatifIndicateurUn\n        indicateurUnFormValidated={state.indicateurUn.formValidated}\n        effectifsIndicateurUnCalculable={effectifsIndicateurUnCalculable}\n        effectifEtEcartRemuParTranche={effectifEtEcartRemuParTranche}\n        indicateurEcartRemuneration={indicateurEcartRemuneration}\n        indicateurSexeSurRepresente={indicateurUnSexeSurRepresente}\n        noteIndicateurUn={noteIndicateurUn}\n      />\n      <RecapitulatifIndicateurDeux\n        indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n        effectifsIndicateurDeuxCalculable={effectifsIndicateurDeuxCalculable}\n        indicateurDeuxCalculable={indicateurDeuxCalculable}\n        effectifEtEcartAugmentParGroupe={effectifEtEcartAugmentParGroupe}\n        indicateurEcartAugmentation={indicateurEcartAugmentation}\n        indicateurSexeSurRepresente={indicateurDeuxSexeSurRepresente}\n        noteIndicateurDeux={noteIndicateurDeux}\n      />\n      <RecapitulatifIndicateurTrois\n        indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n        effectifsIndicateurTroisCalculable={effectifsIndicateurTroisCalculable}\n        indicateurTroisCalculable={indicateurTroisCalculable}\n        effectifEtEcartPromoParGroupe={effectifEtEcartPromoParGroupe}\n        indicateurEcartPromotion={indicateurEcartPromotion}\n        indicateurSexeSurRepresente={indicateurTroisSexeSurRepresente}\n        noteIndicateurTrois={noteIndicateurTrois}\n      />\n      <RecapitulatifIndicateurQuatre\n        indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n        indicateurQuatreCalculable={indicateurQuatreCalculable}\n        indicateurEcartNombreSalarieesAugmentees={\n          indicateurEcartNombreSalarieesAugmentees\n        }\n        noteIndicateurQuatre={noteIndicateurQuatre}\n      />\n      <RecapitulatifIndicateurCinq\n        indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        indicateurSexeSousRepresente={indicateurCinqSexeSousRepresente}\n        indicateurNombreSalariesSexeSousRepresente={\n          indicateurNombreSalariesSexeSousRepresente\n        }\n        noteIndicateurCinq={noteIndicateurCinq}\n      />\n    </Page>\n  );\n}\n\nconst styles = {\n  indexBloc: css({\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default Recapitulatif;\n","import Recapitulatif from \"./Recapitulatif\";\nexport default Recapitulatif;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport Page from \"../components/Page\";\n\nimport ActionBar from \"../components/ActionBar\";\nimport Button from \"../components/Button\";\n\nfunction PageNotFound({ history }: RouteComponentProps) {\n  return (\n    <Page title=\"Malheureusement la page que vous cherchez n’existe pas !\">\n      <ActionBar>\n        <div onClick={() => history.goBack()}>\n          <Button label=\"retour\" />\n        </div>\n      </ActionBar>\n    </Page>\n  );\n}\n\nexport default PageNotFound;\n","type EnumType = { [s: number]: string };\n\nexport default function mapEnum(enumerable: EnumType, fn: Function): any[] {\n  // get all the members of the enum\n  let enumMembers: any[] = Object.keys(enumerable).map(\n    (key: any) => enumerable[key]\n  );\n\n  // we are only interested in the numeric identifiers as these represent the values\n  let enumValues: number[] = enumMembers.filter(v => typeof v === \"number\");\n\n  // now map through the enum values\n  return enumValues.map(m => fn(m));\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useReducer, useEffect, useCallback, ReactNode } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  RouteComponentProps\n} from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  TranchesAges,\n  CategorieSocioPro,\n  ActionEffectifData\n} from \"./globals.d\";\n\nimport globalStyles from \"./utils/globalStyles\";\nimport mapEnum from \"./utils/mapEnum\";\n\nimport AppReducer from \"./AppReducer\";\n\nimport GridProvider from \"./components/GridContext\";\nimport Header from \"./components/Header\";\nimport Menu from \"./components/Menu\";\n\nimport FAQ from \"./views/FAQ\";\n\nimport Home from \"./views/Home\";\nimport GroupEffectif from \"./views/GroupEffectif\";\nimport IndicateurUn from \"./views/IndicateurUn\";\nimport IndicateurDeux from \"./views/IndicateurDeux\";\nimport IndicateurTrois from \"./views/IndicateurTrois\";\nimport IndicateurQuatre from \"./views/IndicateurQuatre\";\nimport IndicateurCinq from \"./views/IndicateurCinq\";\nimport Recapitulatif from \"./views/Recapitulatif\";\nimport PageNotFound from \"./views/PageNotFound\";\n\nconst baseGroupTranchesAgesState = {\n  nombreSalariesFemmes: undefined,\n  nombreSalariesHommes: undefined,\n  remunerationAnnuelleBrutFemmes: undefined,\n  remunerationAnnuelleBrutHommes: undefined\n};\n\nconst baseTranchesAge = mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n  trancheAge,\n  ...baseGroupTranchesAgesState\n}));\n\nconst baseGroupe = {\n  tranchesAges: [...baseTranchesAge],\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined\n};\n\nconst defaultState: AppState = {\n  data: [\n    {\n      categorieSocioPro: CategorieSocioPro.Ouvriers,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Employes,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Techniciens,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Cadres,\n      ...baseGroupe\n    }\n  ],\n  effectif: {\n    formValidated: \"None\"\n  },\n  indicateurUn: {\n    formValidated: \"None\"\n  },\n  indicateurDeux: {\n    formValidated: \"None\",\n    presenceAugmentation: true\n  },\n  indicateurTrois: {\n    formValidated: \"None\",\n    presencePromotion: true\n  },\n  indicateurQuatre: {\n    formValidated: \"None\",\n    presenceAugmentation: true,\n    presenceCongeMat: true,\n    nombreSalarieesPeriodeAugmentation: undefined,\n    nombreSalarieesAugmentees: undefined\n  },\n  indicateurCinq: {\n    formValidated: \"None\",\n    nombreSalariesHommes: undefined,\n    nombreSalariesFemmes: undefined\n  }\n};\n\nconst localStorageEgapro = localStorage.getItem(\"egapro\");\nconst initialState = localStorageEgapro\n  ? JSON.parse(localStorageEgapro)\n  : defaultState;\n\nfunction App() {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    const stateStringify = JSON.stringify(state);\n    localStorage.setItem(\"egapro\", stateStringify);\n  }, [state]);\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch]\n  );\n\n  const validateEffectif = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateEffectif\", valid }),\n    [dispatch]\n  );\n\n  return (\n    <Router basename=\"/egapro\">\n      <GridProvider>\n        <div css={styles.layout}>\n          <div css={styles.leftColumn}>\n            <Header />\n\n            <MainScrollViewWithRouter state={state}>\n              <Switch>\n                <Route path=\"/\" exact render={props => <Home {...props} />} />\n                <Route\n                  path=\"/effectifs\"\n                  render={props => (\n                    <GroupEffectif\n                      {...props}\n                      state={state}\n                      updateEffectif={updateEffectif}\n                      validateEffectif={validateEffectif}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur1\"\n                  render={props => (\n                    <IndicateurUn\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur2\"\n                  render={props => (\n                    <IndicateurDeux\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur3\"\n                  render={props => (\n                    <IndicateurTrois\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur4\"\n                  render={props => (\n                    <IndicateurQuatre\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur5\"\n                  render={props => (\n                    <IndicateurCinq\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/recapitulatif\"\n                  render={props => <Recapitulatif {...props} state={state} />}\n                />\n                <Route component={PageNotFound} />\n              </Switch>\n            </MainScrollViewWithRouter>\n          </div>\n\n          <div css={styles.rightColumn}>\n            <FAQ />\n          </div>\n        </div>\n      </GridProvider>\n    </Router>\n  );\n}\n\ninterface MainScrollViewProps extends RouteComponentProps {\n  children: ReactNode;\n  state: AppState;\n}\n\nfunction MainScrollView({ children, state, location }: MainScrollViewProps) {\n  // Usefull to reset the scroll while navigating\n  return (\n    <div css={styles.main} key={location.key}>\n      <div css={styles.menu}>\n        <Menu\n          effectifFormValidated={state.effectif.formValidated}\n          indicateurUnFormValidated={state.indicateurUn.formValidated}\n          indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n          indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n          indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n          indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        />\n      </div>\n      <div css={styles.view}>{children}</div>\n    </div>\n  );\n}\nconst MainScrollViewWithRouter = withRouter(MainScrollView);\n\nconst styles = {\n  layout: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  }),\n  leftColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxWidth: globalStyles.grid.maxWidth - 375\n  }),\n  rightColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 375,\n    flexShrink: 0\n  }),\n  main: css({\n    overflowY: \"auto\",\n    display: \"flex\",\n    flex: 1,\n    position: \"relative\",\n    background:\n      \"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), #EFF0FA\",\n    borderRight: \"1px solid #EFECEF\"\n  }),\n  menu: css({\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    paddingBottom: 80\n  }),\n  view: css({\n    flex: 1\n  })\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}