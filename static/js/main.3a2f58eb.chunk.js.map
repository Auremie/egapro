{"version":3,"sources":["globals.d.ts","utils/globalStyles.tsx","AppReducer.tsx","components/GridContext.tsx","components/Logo.tsx","components/Header.tsx","components/Menu.tsx","components/Page.tsx","components/Button.tsx","components/ButtonLink.tsx","views/Home.tsx","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/FieldInputsMenWomen.tsx","components/ButtonSubmit.tsx","components/ActionLink.tsx","utils/helpers.tsx","views/GroupEffectif.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","components/LayoutFormAndResult.tsx","components/InfoBloc.tsx","components/ActionBar.tsx","components/FormSubmit.tsx","views/IndicateurUnForm.tsx","components/ResultBubble.tsx","views/IndicateurUnResult.tsx","views/IndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","components/RadiosBoolean.tsx","views/IndicateurDeuxForm.tsx","views/IndicateurDeuxResult.tsx","views/IndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","views/IndicateurTroisForm.tsx","views/IndicateurTroisResult.tsx","views/IndicateurTrois.tsx","utils/calculsEgaProIndicateurQuatre.tsx","components/FieldInput.tsx","views/IndicateurQuatreForm.tsx","views/IndicateurQuatreResult.tsx","views/IndicateurQuatre.tsx","utils/calculsEgaProIndicateurCinq.tsx","views/IndicateurCinqForm.tsx","views/IndicateurCinqResult.tsx","views/IndicateurCinq.tsx","utils/calculsEgaProIndex.tsx","views/Recapitulatif/components/RecapBloc.tsx","views/Recapitulatif/RecapitulatifIndicateurUn.tsx","views/Recapitulatif/RecapitulatifIndicateurDeux.tsx","views/Recapitulatif/RecapitulatifIndicateurTrois.tsx","views/Recapitulatif/RecapitulatifIndicateurQuatre.tsx","views/Recapitulatif/RecapitulatifIndicateurCinq.tsx","views/Recapitulatif/Recapitulatif.tsx","views/Recapitulatif/index.js","views/PageNotFound.tsx","utils/mapEnum.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","globalStyles","colors","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","updateIndicateurUn","stateData","actionData","map","group","datumCat","find","_ref5","categorieSocioPro","Object","objectSpread","tranchesAges","groupTranchesAges","datumAge","_ref6","trancheAge","assign","AppReducer","state","action","type","data","_ref3","_ref4","valid","effectif","formValidated","indicateurUn","indicateurDeux","indicateurTrois","_action$data","tauxAugmentation","presenceAugmentation","datum","_ref","_action$data2","tauxPromotion","presencePromotion","_ref2","indicateurQuatre","indicateurCinq","totalGuttersWidth","getColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","GridContext","React","createContext","window","innerWidth","GridProvider","children","_useState","useState","_useState2","slicedToArray","setColumnWidth","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","value","useMemo","react_default","a","createElement","Provider","useColumnsWidth","numColumns","_useGridContext","useContext","styles","container","css","display","flexDirection","width","image","height","border","text","marginTop","fontSize","textAlign","Logo","core_browser_esm","src","process","header","backgroundColor","flexShrink","alignItems","justifyContent","borderBottom","headerLeft","marginLeft","marginRight","containerLogo","headerInner","flexGrow","title","fontFamily","subtitle","Header","components_Logo","CustomNavLink","label","_ref$valid","to","_ref$activeOnlyWhenEx","activeOnlyWhenExact","react_router","path","exact","match","react_router_dom","link","activeLink","menu","paddingTop","paddingBottom","color","lineHeight","textDecoration",":hover","Menu","effectifFormValidated","indicateurUnFormValidated","indicateurDeuxFormValidated","indicateurTroisFormValidated","indicateurQuatreFormValidated","indicateurCinqFormValidated","page","marginBottom","tagline","Page","button","padding","concat","borderRadius","cursor","buttonOutline","buttonError","borderColor","Button","_ref$outline","outline","_ref$error","ButtonLink","components_Button","Home","props","components_Page","components_ButtonLink","Cell","style","cell","Cell2","cell2","CellHead","cellHead","BlocFormLight","_ref2$superLight","superLight","background","blocForm","blocFormLight","blocFormSuperLight","blocFormInner","position","top","bottom","left","right","borderLeft","borderRight","blocFormWithFooter","paddingRight","paddingLeft","rowHead","minHeight","rowHeadCellHead","textTransform","rowHeadCell","rowHeadBorder","rowGender","cellMen","cellWomen","rowFoot","rowFootCell","rowFootTotal","rowFootBorderLeft","flex","rowFootBorderRight","BlocForm","footer","react","hasFieldError","meta","submitFailed","touched","mustBeNumber","input","appearance","inputError","CellInput","_ref$field","field","_ref$field$input","inputProps","objectWithoutProperties","autoComplete","active","validate","requiredError","required","mustBeNumberError","Number","isNaN","row","cellHeadInvalid","cellHeadError","cellEmpty","cellEmptyMen","cellEmptyWomen","fontStyle","FieldInputsMenWomen","form","name","readOnly","calculable","femmeFieldName","hommeFieldName","femmesField","useField","undefined","hommesField","femmesError","hommesError","Fragment","components_CellInput","all","ButtonSubmit","ActionLink","onClick","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Ouvriers","Employes","Techniciens","Cadres","displayPercent","digits","arguments","length","toFixed","roundDecimal","decimal","mult","pow","round","fractionToPercentage","percentageToFraction","getFieldName","genre","parseFormValue","defaultValue","parseInt","parseStateValue","String","bloc","blocTitle","blocSubtitle","actionError","indicatorInvalid","indicatorInvalidTitle","indicatorInvalidText","indicatorInvalidLink","memo","updateEffectif","validateEffectif","infoFields","nombreSalariesFemmes","nombreSalariesHommes","nbSalarieFemmeName","nbSalarieFemmeValue","nbSalarieHommeName","nbSalarieHommeValue","initialValues","reduce","acc1","acc2","_objectSpread2","defineProperty","saveForm","formData","_ref7","_useForm","useForm","onSubmit","handleSubmit","values","hasValidationErrors","subscribe","_ref8","dirty","_ref9","totalNbSalarie","acc","_ref10","components_BlocForm","key","_ref11","components_FieldInputsMenWomen","components_ActionLink","components_ButtonSubmit","prevProps","nextProps","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","filter","effectifEtEcart","effectifsValides","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","includes","ecartPondere","val","rowEffectifsParCategorieSocioPro","calculValiditeGroupe","_tranchesAges$reduce","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","_groupEffectif$reduce","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","calculEffectifsIndicateurCalculable","baremeEcartRemuneration","calculEffectifsEtEcartRemuParTrancheAge","groupTrancheAge","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","effectifs","rowEffectifsParTrancheAge","ecartRemunerationMoyenne","calculEcartRemunerationMoyenne","ecartApresApplicationSeuilPertinence","sign","abs","calculEcartApresApplicationSeuilPertinence","calculEcartsPonderesParTrancheAge","calculIndicateurEcartRemuneration","indicateurCalculable","totalEcartPondere","calculIndicateurSexeSousRepresente","indicateurEcartRemuneration","calculIndicateurEcartRemunerationAbsolute","calculNote","ceil","calculIndicateurUn","effectifEtEcartRemuParTranche","_calculTotalEffectifs","ecartsPonderesByRow","effectifsIndicateurCalculable","indicateurSexeSurRepresente","noteIndicateurUn","body","result","LayoutFormAndResult","childrenForm","childrenResult","blocText","InfoBloc","actionBar","ActionBar","FormSubmit","errorMessage","validateIndicateurUn","remunerationAnnuelleBrutFemmesName","remunerationAnnuelleBrutFemmesValue","remunerationAnnuelleBrutHommesName","remunerationAnnuelleBrutHommesValue","components_ActionBar","components_FormSubmit","blocInfo","message","messageLabel","messageData","fontWeight","info","ResultBubble","firstLineLabel","firstLineData","firstLineInfo","secondLineLabel","secondLineData","secondLineInfo","edit","IndicateurUnResult","components_ResultBubble","PageIndicateurUn","IndicateurUn","dispatch","_calculIndicateurUn","components_InfoBloc","components_LayoutFormAndResult","views_IndicateurUnForm","views_IndicateurUnResult","baremEcartAugmentation","calculEcartTauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","calculEffectifsEtEcartAugmentParCategorieSocioPro","ecartTauxAugmentation","calculTotalEffectifsEtTauxAugmentation","groupEffectifEtEcartAugment","_groupEffectifEtEcart","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculEcartsPonderesParCategorieSocioPro","calculIndicateurCalculable","calculIndicateurEcartAugmentation","indicateurEcartAugmentation","calculIndicateurEcartAugmentationAbsolute","calculIndicateurDeux","effectifEtEcartAugmentParGroupe","_calculTotalEffectifs2","noteIndicateurDeux","RadioField","disabled","checked","radio","fakeRadio","fakeRadioChecked","labelText","backgroundImage","radioFieldFalse","radioFieldFalseDisabled","opacity","RadiosBoolean","fieldName","labelTrue","labelFalse","parseFloat","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","validateIndicateurDeux","tauxAugmentationFemmesName","tauxAugmentationFemmesValue","tauxAugmentationHommesName","tauxAugmentationHommesValue","ecartAugmentParCategorieSocioProPourTotal","groupAugment","index","infoField","components_RadiosBoolean","IndicateurDeuxResult","PageIndicateurDeux","IndicateurDeux","_calculIndicateurDeux","views_IndicateurDeuxForm","views_IndicateurDeuxResult","baremEcartPromotion","calculEcartTauxPromotion","calculEffectifsEtEcartPromoParCategorieSocioPro","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","calculTotalEffectifsEtTauxPromotion","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculIndicateurEcartPromotion","calculIndicateurEcartPromotionAbsolute","indicateurEcartPromotion","calculIndicateurTrois","effectifEtEcartPromoParGroupe","noteIndicateurTrois","ecartPromoParCategorieSocioPro","updateIndicateurTrois","validateIndicateurTrois","tauxPromotionFemmesName","tauxPromotionFemmesValue","tauxPromotionHommesName","tauxPromotionHommesValue","ecartPromoParCategorieSocioProPourTotal","IndicateurTroisResult","PageIndicateurTrois","IndicateurTrois","_calculIndicateurTroi","views_IndicateurTroisForm","views_IndicateurTroisResult","nombreSalariees","nombreSalarieesPeriodeAugmentation","calculIndicateurEcartNombreSalarieesAugmentees","nombreSalarieesAugmentees","indicateurEcartNombreSalarieesAugmentees","calculIndicateurQuatre","noteIndicateurQuatre","FieldInput","updateIndicateurQuatre","validateIndicateurQuatre","components_FieldInput","IndicateurQuatreResult","PageIndicateurQuatre","IndicateurQuatre","_calculIndicateurQuat","views_IndicateurQuatreForm","views_IndicateurQuatreResult","calculIndicateurNombreSalariesSexeSousRepresente","indicateurNombreSalariesSexeSousRepresente","calculIndicateurCinq","indicateurSexeSousRepresente","noteIndicateurCinq","calculator","createDecorator","updates","femmesValue","hommesValue","updateIndicateurCinq","validateIndicateurCinq","unsubscribe","IndicateurCinqResult","PageIndicateurCinq","IndicateurCinq","_calculIndicateurCinq","views_IndicateurCinqForm","views_IndicateurCinqResult","calculNoteIndex","totalPointCalculable","borderResult","blocResult","RecapBloc","resultBubble","RecapitulatifIndicateurUn","components_RecapBloc","RecapitulatifIndicateurDeux","indicateurDeuxCalculable","RecapitulatifIndicateurTrois","indicateurTroisCalculable","RecapitulatifIndicateurQuatre","indicateurQuatreCalculable","RecapitulatifIndicateurCinq","indexBloc","Recapitulatif","indicateurUnSexeSurRepresente","indicateurDeuxSexeSurRepresente","indicateurTroisSexeSurRepresente","indicateurCinqSexeSousRepresente","allIndicateurValid","noteIndex","Recapitulatif_RecapitulatifIndicateurUn","Recapitulatif_RecapitulatifIndicateurDeux","Recapitulatif_RecapitulatifIndicateurTrois","Recapitulatif_RecapitulatifIndicateurQuatre","Recapitulatif_RecapitulatifIndicateurCinq","PageNotFound","enumerable","fn","history","goBack","baseGroupTranchesAgesState","baseTranchesAge","keys","v","m","baseGroupe","toConsumableArray","defaultState","localStorageEgapro","localStorage","getItem","initialState","JSON","parse","MainScrollViewWithRouter","withRouter","location","main","components_Menu","view","layout","leftColumn","rightColumn","overflowY","App","_useReducer","useReducer","_useReducer2","stateStringify","stringify","setItem","basename","components_GridContext","components_Header","render","views_Home","views_GroupEffectif","views_IndicateurUn","views_IndicateurDeux","views_IndicateurTrois","views_IndicateurQuatre","views_IndicateurCinq","views_Recapitulatif","component","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6JAkIYA,EAOAC,mGAPAD,0JAOAC,6HCzIZ,IAgBeC,EAhBM,CACnBC,OAAQ,CACNC,QAAS,UACTC,IAAK,UACLC,MAAO,UACPC,MAAO,UACPC,QAAS,WAEXC,KAAM,CACJC,YAAa,GACbC,QAAS,GACTC,SAAU,KACVC,SAAU,OCyJd,SAASC,EACPC,EACAC,GAEA,OAAOD,EAAUE,IAAI,SAACC,GACpB,IAAMC,EAAWH,EAAWI,KAC1B,SAAAC,GAAA,OAAAA,EAAGC,oBAA8CJ,EAAMI,oBAEzD,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACFL,EADL,CAEEO,aAAcP,EAAMO,aAAaR,IAC/B,SAACS,GACC,IAAMC,EACJR,GACAA,EAASM,aAAaL,KACpB,SAAAQ,GAAA,OAAAA,EAAGC,aAAgCH,EAAkBG,aAEzD,OAAON,OAAOO,OAAO,GAAIJ,EAAmBC,SAOvCI,MApLf,SAAoBC,EAAiBC,GACnC,OAAQA,EAAOC,MACb,IAAK,iBACH,OAAOX,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEG,MAgINpB,EAhI2BiB,EAAMG,KAiIjCnB,EAjIuCiB,EAAOE,KAmIvCpB,EAAUE,IAAI,SAACC,GACpB,IAAMC,EAAWH,EAAWI,KAC1B,SAAAgB,GAAA,IAAGd,EAAHc,EAAGd,kBAAH,OAA2BA,IAAsBJ,EAAMI,oBAEzD,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACFL,EADL,CAEEO,aAAcP,EAAMO,aAAaR,IAC/B,SAACS,GACC,IAAMC,EACJR,GACAA,EAASM,aAAaL,KACpB,SAAAiB,GAAA,IAAGR,EAAHQ,EAAGR,WAAH,OAAoBA,IAAeH,EAAkBG,aAEzD,OAAON,OAAOO,OAAO,GAAIJ,EAAmBC,YA7IlD,IAAK,mBACH,MAAqB,SAAjBM,EAAOK,MACFf,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEO,SAAShB,OAAAC,EAAA,EAAAD,CAAA,GAAMS,EAAMO,SAAb,CAAuBC,cAAeP,EAAOK,QACrDG,aACuC,UAArCT,EAAMS,aAAaD,cAAnBjB,OAAAC,EAAA,EAAAD,CAAA,GACSS,EAAMS,aADf,CAC6BD,cAAe,YACxCR,EAAMS,aACZC,eACyC,UAAvCV,EAAMU,eAAeF,cAArBjB,OAAAC,EAAA,EAAAD,CAAA,GACSS,EAAMU,eADf,CAC+BF,cAAe,YAC1CR,EAAMU,eACZC,gBAC0C,UAAxCX,EAAMW,gBAAgBH,cAAtBjB,OAAAC,EAAA,EAAAD,CAAA,GACSS,EAAMW,gBADf,CACgCH,cAAe,YAC3CR,EAAMW,kBAGTpB,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEO,SAAShB,OAAAC,EAAA,EAAAD,CAAA,GAAMS,EAAMO,SAAb,CAAuBC,cAAeP,EAAOK,UAGzD,IAAK,qBACH,OAAOf,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEG,KAAMrB,EAAmBkB,EAAMG,KAAMF,EAAOE,QAGhD,IAAK,uBACH,OAAOZ,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEES,aAAalB,OAAAC,EAAA,EAAAD,CAAA,GAAMS,EAAMS,aAAb,CAA2BD,cAAeP,EAAOK,UAGjE,IAAK,uBAAwB,IAAAM,EACwBX,EAAOE,KAAlDU,EADmBD,EACnBC,iBAAkBC,EADCF,EACDE,qBAEpBX,EAAOH,EAAMG,KAAKlB,IAAI,SAACC,GAC3B,IAAM6B,EAAQF,EAAiBzB,KAC7B,SAAA4B,GAAA,OAAAA,EAAG1B,oBACqBJ,EAAMI,oBAEhC,OAAOC,OAAOO,OAAO,GAAIZ,EAAO6B,KAElC,OAAOxB,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEG,OACAO,eAAenB,OAAAC,EAAA,EAAAD,CAAA,GAAMS,EAAMU,eAAb,CAA6BI,2BAG/C,IAAK,yBACH,OAAOvB,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEU,eAAenB,OAAAC,EAAA,EAAAD,CAAA,GAAMS,EAAMU,eAAb,CAA6BF,cAAeP,EAAOK,UAGrE,IAAK,wBAAyB,IAAAW,EACiBhB,EAAOE,KAA5Ce,EADoBD,EACpBC,cAAeC,EADKF,EACLE,kBAEjBhB,EAAOH,EAAMG,KAAKlB,IAAI,SAACC,GAC3B,IAAM6B,EAAQG,EAAc9B,KAC1B,SAAAgC,GAAA,OAAAA,EAAG9B,oBACqBJ,EAAMI,oBAEhC,OAAOC,OAAOO,OAAO,GAAIZ,EAAO6B,KAElC,OAAOxB,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEG,OACAQ,gBAAgBpB,OAAAC,EAAA,EAAAD,CAAA,GAAMS,EAAMW,gBAAb,CAA8BQ,wBAGjD,IAAK,0BACH,OAAO5B,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEW,gBAAgBpB,OAAAC,EAAA,EAAAD,CAAA,GACXS,EAAMW,gBADI,CAEbH,cAAeP,EAAOK,UAI5B,IAAK,yBACH,OAAOf,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEqB,iBAAiB9B,OAAAC,EAAA,EAAAD,CAAA,GACZS,EAAMqB,iBACNpB,EAAOE,QAIhB,IAAK,2BACH,OAAOZ,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEqB,iBAAiB9B,OAAAC,EAAA,EAAAD,CAAA,GACZS,EAAMqB,iBADK,CAEdb,cAAeP,EAAOK,UAI5B,IAAK,uBACH,OAAOf,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEsB,eAAe/B,OAAAC,EAAA,EAAAD,CAAA,GACVS,EAAMsB,eACNrB,EAAOE,QAIhB,IAAK,yBACH,OAAOZ,OAAAC,EAAA,EAAAD,CAAA,GACFS,EADL,CAEEsB,eAAe/B,OAAAC,EAAA,EAAAD,CAAA,GACVS,EAAMsB,eADG,CAEZd,cAAeP,EAAOK,UAI5B,QACE,OAAON,EAIb,IACEjB,EACAC,GCrIMP,EAASP,EAATO,KAGF8C,GADc9C,EAAKE,QAAU,GACKF,EAAKC,YAM7C,SAAS8C,EAAeC,GACtB,IALaC,EAAaC,EAAaC,EAOjCC,IAPOH,EAKcD,EALDE,EAKclD,EAAKI,SALN+C,EAKgBnD,EAAKG,SAJrDkD,KAAKH,IAAIC,EAAKE,KAAKF,IAAID,EAAKD,KAKiBH,GACD,GACnD,OAAOO,KAAKC,MAAMF,GAKb,IAAMG,EAAcC,IAAMC,cAAc,CAC7CL,YAAaL,EAAeW,OAAOC,YACnC1D,YAAaD,EAAKC,cAgCL2D,MA3Bf,SAAArB,GAA6D,IAArCsB,EAAqCtB,EAArCsB,SAAqCC,EACrBC,mBACpChB,EAAeW,OAAOC,aAFmCK,EAAAlD,OAAAmD,EAAA,EAAAnD,CAAAgD,EAAA,GACpDV,EADoDY,EAAA,GACvCE,EADuCF,EAAA,GAKrDG,EAAeC,sBACnB,SAACC,GAAD,OACEH,EAAenB,EAAesB,EAAMC,cAAcX,cACpD,CAACO,IAGHK,oBAAU,WAER,OADAb,OAAOc,iBAAiB,SAAUL,GAC3B,kBAAMT,OAAOe,oBAAoB,SAAUN,MAGpD,IAAMO,EAAQC,kBACZ,iBAAO,CACLvB,cACAnD,YAAaD,EAAKC,cAEpB,CAACmD,IAGH,OAAOwB,EAAAC,EAAAC,cAACvB,EAAYwB,SAAb,CAAsBL,MAAOA,GAAQb,IASjCmB,EAAkB,SAACC,GAAuB,IAAAC,EAFnBC,qBAAW5B,GAI7C,OAFqD2B,EAC7C9B,YACa6B,EAFgCC,EAChCjF,aAC4BgF,EAAa,IC1DhE,IAAMG,EAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfC,MAAO,KAETC,MAAOJ,YAAI,CACTC,QAAS,QACTE,MAAO,GACPE,OAAQ,GACRC,OAAQ,oBAEVC,KAAMP,YAAI,CACRQ,UAAW,EACXC,SAAU,EACVC,UAAW,YAIAC,EA5Bf,WACE,OACEnF,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOM,MAAOS,IAAKC,yBAC7BtF,OAAAoF,EAAA,EAAApF,CAAA,QAAMwE,IAAKF,EAAOS,MAAlB,6BCqBN,IAAMT,EAAS,CACbiB,OAAQf,YAAI,CACVgB,gBAAiB,OACjBX,OAAQ,GACRY,WAAY,EACZhB,QAAS,OACTC,cAAe,MACfgB,WAAY,SACZC,eAAgB,SAChBC,aAAc,sBAEhBC,WAAYrB,YAAI,CACdC,QAAS,OACTC,cAAe,MACfoB,WAAYnH,EAAaO,KAAKC,YAC9B4G,YAAapH,EAAaO,KAAKC,cAEjC6G,cAAexB,YAAI,CACjBsB,WAAY,OACZC,YAAa,KAEfE,YAAazB,YAAI,CACfC,QAAS,OACTC,cAAe,MACfwB,SAAU,EACVR,WAAY,aAEdS,MAAO3B,YAAI,CACT4B,WAAY,oBACZL,YAAa,GACbd,SAAU,KAEZoB,SAAU7B,YAAI,CACZ4B,WAAY,oBACZnB,SAAU,MAICqB,EAzDf,WACE,IAAM3B,EAAQT,EAAgB,GAC9B,OACElE,OAAAoF,EAAA,EAAApF,CAAA,UAAQwE,IAAKF,EAAOiB,QAClBvF,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,EAAOuB,WAAYrB,YAAI,CAAEG,YAClC3E,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO0B,eACfhG,OAAAoF,EAAA,EAAApF,CAACuG,EAAD,QAGJvG,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO2B,aACfjG,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,EAAO6B,OAAf,UACAnG,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,EAAO+B,UAAf,wDCFR,SAASG,EAAT/E,GAMuB,IALrB0E,EAKqB1E,EALrB0E,MACAM,EAIqBhF,EAJrBgF,MAIqBC,EAAAjF,EAHrBV,aAGqB,IAAA2F,EAHb,OAGaA,EAFrBC,EAEqBlF,EAFrBkF,GAEqBC,EAAAnF,EADrBoF,2BACqB,IAAAD,KACrB,OACE5G,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAMJ,EACNK,MAAOH,EACP9D,SAAU,SAAAlB,GAAA,IAAGoF,EAAHpF,EAAGoF,MAAH,OACRjH,OAAAoF,EAAA,EAAApF,CAACkH,EAAA,EAAD,CAAMP,GAAIA,EAAInC,IAAK,CAACF,EAAO6C,KAAMF,GAAS3C,EAAO8C,aAC/CpH,OAAAoF,EAAA,EAAApF,CAAA,YACa,UAAVe,EAAoB,UAAiB,YAAVA,EAAsB,UAAO,GACxDoF,GAEHnG,OAAAoF,EAAA,EAAApF,CAAA,WACCyG,GAASzG,OAAAoF,EAAA,EAAApF,CAAA,YAAOyG,OAoE3B,IAAMnC,EAAS,CACb+C,KAAM7C,YAAI,CACRC,QAAS,OACTC,cAAe,SACfgB,WAAY,aACZI,WAAYnH,EAAaO,KAAKC,YAC9B4G,YAAapH,EAAaO,KAAKC,cAEjCgI,KAAM3C,YAAI,CACR8C,WAAY,EACZC,cAAe,EACfC,MAAO7I,EAAaC,OAAOC,QAC3BoG,SAAU,GACVwC,WAAY,OACZC,eAAgB,OAChBC,SAAU,CACRH,MAAO7I,EAAaC,OAAOG,SAG/BqI,WAAY5C,YAAI,CACdgD,MAAO7I,EAAaC,OAAOG,SAIhB6I,EA5Ef,SAAA/G,GAOU,IANRgH,EAMQhH,EANRgH,sBACAC,EAKQjH,EALRiH,0BACAC,EAIQlH,EAJRkH,4BACAC,EAGQnH,EAHRmH,6BACAC,EAEQpH,EAFRoH,8BACAC,EACQrH,EADRqH,4BAEMvD,EAAQT,EAAgB,GAE9B,OACElE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,EAAO+C,KAAM7C,YAAI,CAAEG,YAC5B3E,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CACEG,GAAG,aACHR,MAAM,WACNpF,MAAO8G,IAET7H,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CACEG,GAAG,eACHR,MAAM,eACNM,MAAM,iCACN1F,MAAO+G,IAET9H,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CACEG,GAAG,eACHR,MAAM,eACNM,MAAM,+BACN1F,MAAOgH,IAET/H,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CACEG,GAAG,eACHR,MAAM,eACNM,MAAM,yBACN1F,MAAOiH,IAEThI,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CACEG,GAAG,eACHR,MAAM,eACNM,MAAM,wBACN1F,MAAOkH,IAETjI,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CACEG,GAAG,eACHR,MAAM,eACNM,MAAM,6BACN1F,MAAOmH,IAETlI,OAAAoF,EAAA,EAAApF,CAACwG,EAAD,CAAeG,GAAG,iBAAiBR,MAAM,uBC7E/C,IAAM7B,EAAS,CACb6D,KAAM3D,YAAI,CACRC,QAAS,OACTC,cAAe,SACfqB,YAAapH,EAAaO,KAAKC,YAC/BiJ,aAAczJ,EAAaO,KAAKC,cAElCgH,MAAO3B,YAAI,CACTQ,UAAW,GACXC,SAAU,KAEZoD,QAAS7D,YAAI,CACXQ,UAAW,GACXoD,aAAc,GACdnD,SAAU,MAICqD,EA5Bf,SAAA7G,GAAmD,IAAnC0E,EAAmC1E,EAAnC0E,MAAOkC,EAA4B5G,EAA5B4G,QAAStF,EAAmBtB,EAAnBsB,SAC9B,OACE/C,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO6D,MACfnI,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,EAAO6B,OAAQA,GACtBkC,GAAWrI,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,EAAO+D,SAAUA,GACpCtF,ICQP,IAAMuB,EAAS,CACbiE,OAAQ/D,YAAI,CACVC,QAAS,OACTiB,WAAY,SACZC,eAAgB,SAChBd,OAAQ,GACRvF,SAAU,IACVkJ,QAAS,SACThD,gBAAiB7G,EAAaC,OAAOG,MACrCyI,MAAO,OACP1C,OAAM,SAAA2D,OAAW9J,EAAaC,OAAOG,MAA/B,QACN2J,aAAc,EACdC,OAAQ,YAEVC,cAAepE,YAAI,CACjBgD,MAAO7I,EAAaC,OAAOG,MAC3ByG,gBAAiB,SAEnBqD,YAAarE,YAAI,CACfgD,MAAO7I,EAAaC,OAAOI,MAC3B8J,YAAanK,EAAaC,OAAOI,MACjCwG,gBAAiB,UAINuD,EAvCf,SAAAtH,GAAkE,IAAhDgF,EAAgDhF,EAAhDgF,MAAgDuC,EAAAvH,EAAzCwH,eAAyC,IAAAD,KAAAE,EAAAzH,EAAxBzC,aAAwB,IAAAkK,KAChE,OACElJ,OAAAoF,EAAA,EAAApF,CAAA,OACEwE,IAAK,CACHF,EAAOiE,OACPU,GAAW3E,EAAOsE,cAClB5J,GAASsF,EAAOuE,cAGjBpC,ICFP,IAAMnC,EAAS,CACbiE,OAAQ/D,YAAI,CACVC,QAAS,cACTiD,eAAgB,UAILyB,EAff,SAAA1H,GAA0C,IAApBgF,EAAoBhF,EAApBgF,MAAOE,EAAalF,EAAbkF,GAC3B,OACE3G,OAAAoF,EAAA,EAAApF,CAACkH,EAAA,EAAD,CAAMP,GAAIA,EAAInC,IAAKF,EAAOiE,QACxBvI,OAAAoF,EAAA,EAAApF,CAACoJ,EAAD,CAAQ3C,MAAOA,MCOrB,IAAMnC,EAAS,CACb5D,OAAQ8D,YAAI,CACVC,QAAS,OACTC,cAAe,MACfM,UAAW,MAIAqE,EArBf,SAAcC,GACZ,OACEtJ,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,uBACNkC,QAAQ,qGAERrI,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO5D,QACfV,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,aAAaF,MAAM,6CCL1C,SAASgD,EAAThI,GAA0C,IAA1BiI,EAA0BjI,EAA1BiI,MAAO3G,EAAmBtB,EAAnBsB,SACrB,OAAO/C,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,EAAOqF,KAAMD,IAAS3G,GAG1C,SAAS6G,EAAT/H,GAA2C,IAA1B6H,EAA0B7H,EAA1B6H,MAAO3G,EAAmBlB,EAAnBkB,SACtB,OAAO/C,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,EAAOuF,MAAOH,IAAS3G,GAG3C,SAAS+G,EAATjJ,GAA8C,IAA1B6I,EAA0B7I,EAA1B6I,MAAO3G,EAAmBlC,EAAnBkC,SACzB,OAAO/C,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,EAAOyF,SAAUL,IAAS3G,GAG9C,IAAMuB,EAAS,CACbqF,KAAMnF,YAAI,CACRG,MAAO,GACPc,WAAY,EACZK,WAAY,IAEd+D,MAAOrF,YAAI,CACTG,MAAO,IACPc,WAAY,EACZK,WAAY,IAEdiE,SAAUvF,YAAI,CACZ0B,SAAU,EACVH,YAAa,KCsBV,SAASiE,EAATnI,GAMJ,IALDkB,EAKClB,EALDkB,SAKCkH,EAAApI,EAJDqI,kBAIC,IAAAD,KACD,OACEjK,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO6F,aACjBnK,OAAAoF,EAAA,EAAApF,CAAA,OACEwE,IAAK,CACHF,EAAO8F,SACP9F,EAAO+F,cACPH,GAAc5F,EAAOgG,qBAGvBtK,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOiG,eAAgBxH,KAMzC,IAEMuB,EAAS,CACbC,UAAWC,YAAI,CACbgG,SAAU,WACVxF,UAAW,GACXoD,aAAc,KAEhB+B,WAAY3F,YAAI,CACdgB,gBAAiB,OACjBgF,SAAU,WACVC,KAAM,GACNC,QAAS,GACTC,MAAO,GACPC,OAAQ,GACRlC,aAAc,OACd5D,OAAQ,sBAEVsF,SAAU5F,YAAI,CACZgG,SAAU,WACVK,WAAU,SAAApC,OAAW9J,EAAaC,OAAOC,QAA/B,QACViM,YAAW,SAAArC,OAAW9J,EAAaC,OAAOC,QAA/B,QACX+G,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOC,QAA/B,QACZyI,WAAY,EACZC,cAAe,IAEjBwD,mBAAoBvG,YAAI,CACtBoB,aAAc,OACd2B,cAAe,KAEjB8C,cAAe7F,YAAI,CACjBsG,YAAa,SAEfR,mBAAoB9F,YAAI,CACtBoB,aAAc,SAGhB2E,cAAe/F,YAAI,CACjBwG,aAtCY,GAuCZC,YAvCY,KA0CdC,QAAS1G,YAAI,CACXC,QAAS,OACTC,cAAe,MACfgB,WAAY,WACZ8E,SAAU,WACVG,KAAM,EACNC,MAAO,EACPF,OAAQ,OACRtC,cAAe,EACf+C,UAAW,GACXF,YApDY,KAsDdG,gBAAiB5G,YAAI,CACnBS,SAAU,GACVoG,cAAe,cAEjBC,YAAa9G,YAAI,CACfK,OAAQ,GACRI,SAAU,GACVC,UAAW,WAEbqG,cAAe/G,YAAI,CACjBK,OAAQ,EACRW,gBAAiB7G,EAAaC,OAAOC,QACrC4G,WAAY,EACZd,MAnEY,GAoEZyD,aAAc,IAGhBoD,UAAWhH,YAAI,CACbC,QAAS,OACTC,cAAe,MACfgB,WAAY,WACZsF,aA3EY,GA4EZC,YA5EY,GA6EZjG,UAAW,GACXoD,aAAc,KAEhBqD,QAASjH,YAAI,CACXS,SAAU,GACVC,UAAW,SACXsC,MAAO7I,EAAaC,OAAOE,MAE7B4M,UAAWlH,YAAI,CACbS,SAAU,GACVC,UAAW,SACXsC,MAAO7I,EAAaC,OAAOG,QAG7B4M,QAASnH,YAAI,CACXC,QAAS,OACTC,cAAe,MACfgB,WAAY,SACZb,OAAQ,GACR2F,SAAU,WACVE,QAAS,EACTE,MAAO,EACPD,KAAM,IAERiB,YAAapH,YAAI,CACfS,SAAU,GACVC,UAAW,WAEb2G,aAAcrH,YAAI,CAChBS,SAAU,GACVa,WAAY,IAEdgG,kBAAmBtH,YAAI,CACrBK,OAAQ,EACRkB,YAAa,EACbP,gBAAiB7G,EAAaC,OAAOC,QACrCkN,KAAM,IAERC,mBAAoBxH,YAAI,CACtBK,OAAQ,EACRW,gBAAiB7G,EAAaC,OAAOC,QACrC8F,MAtHY,GAuHZc,WAAY,KAIDwG,EA1Lf,SAAAxK,GAAoE,IAAhD0E,EAAgD1E,EAAhD0E,MAAOM,EAAyChF,EAAzCgF,MAAOyF,EAAkCzK,EAAlCyK,OAAQnJ,EAA0BtB,EAA1BsB,SACxC,OADkEtB,EAAhBiI,MAEhD1J,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO6F,aACjBnK,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,EAAO8F,SAAU8B,GAAU5H,EAAOyG,qBAC3C/K,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO4G,SACflL,OAAAoF,EAAA,EAAApF,CAAC8J,EAAD,CAAUJ,MAAOpF,EAAO8G,iBAAkBjF,GAC1CnG,OAAAoF,EAAA,EAAApF,CAAC4J,EAAD,CAAOF,MAAOpF,EAAOgH,aAAc7E,GACnCzG,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOiH,iBAGnBvL,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOkH,WACfxL,OAAAoF,EAAA,EAAApF,CAAC8J,EAAD,MACA9J,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAOpF,EAAOmH,SAApB,UACAzL,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAOpF,EAAOoH,WAApB,WAGF1L,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOiG,eAAgBxH,GAEhCmJ,GACClM,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOqH,SACf3L,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOwH,oBACjB9L,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOuH,cAAjB,SACmB,kBAAXK,EACNlM,OAAAoF,EAAA,EAAApF,CAAC4J,EAAD,CAAOF,MAAOpF,EAAOsH,aAAcM,GAEnClM,OAAAoF,EAAA,EAAApF,CAACmM,EAAA,SAAD,KACEnM,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAOpF,EAAOsH,aAAcM,EAAO,IACzClM,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAOpF,EAAOsH,aAAcM,EAAO,KAI7ClM,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAO0H,iCCxChBI,EAAgB,SAACC,GAAD,OAC1BA,EAAKrN,OAASqN,EAAKC,cACnBD,EAAKrN,OAASqN,EAAKE,SAAWF,EAAKrN,MAAMwN,cA2B5C,IAAMlI,EAAS,CACbqF,KAAMnF,YAAI,CACRK,OAAQ,GACRJ,QAAS,SAEXgI,MAAOjI,YAAI,CACTkI,WAAY,OACZ5H,OAAM,SAAA2D,OAAW9J,EAAaC,OAAOC,QAA/B,QACN8F,MAAO,OACPM,SAAU,GACVC,UAAW,WAEbyH,WAAYnI,YAAI,CACdgD,MAAO7I,EAAaC,OAAOI,MAC3B8J,YAAanK,EAAaC,OAAOI,SAItB4N,EAtCf,SAAAnL,GAMU,IAAAoL,EAAApL,EALRqL,MAKQC,EAAAF,EAJNJ,MAAS7I,EAIHmJ,EAJGnJ,MAAUoJ,EAIbhN,OAAAiN,EAAA,EAAAjN,CAAA+M,EAAA,WAHNV,EAGMQ,EAHNR,KAEF3C,EACQjI,EADRiI,MAEM1K,EAAQoN,EAAcC,GAC5B,OACErM,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAOpF,EAAOqF,MAClB3J,OAAAoF,EAAA,EAAApF,CAAA,QAAAA,OAAAO,OAAA,CACEiE,IAAK,CAACF,EAAOmI,MAAO/C,EAAO1K,GAASsF,EAAOqI,YAC3CO,aAAa,MACbtJ,MAAO5E,IAAUqN,EAAKc,OAAS,SAAWvJ,GACtCoJ,MCfNI,EAAW,SAACxJ,GAChB,IAAMyJ,EANS,SAACzJ,GAAD,OAA6BA,EAMtB0J,CAAS1J,GACzB2J,EALa,SAAC3J,GAAD,QACnB4J,OAAOC,MAAMD,OAAO5J,IAIM4I,CAAa5I,GACvC,OAAKyJ,GAAkBE,EAGd,CAAED,SAAUD,EAAeb,aAAce,QAFhD,GA8FJ,IAAMjJ,EAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfgB,WAAY,UACZb,OAAQ,GACRuD,aAAc,KAEhBsF,IAAKlJ,YAAI,CACPC,QAAS,OACTC,cAAe,MACfgB,WAAY,eAEdqE,SAAUvF,YAAI,CACZK,OAAQ,GACRJ,QAAS,OACTiB,WAAY,SACZE,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOC,QAA/B,QACZoG,SAAU,KAEZ0I,gBAAiBnJ,YAAI,CACnBgD,MAAO7I,EAAaC,OAAOK,QAC3B6J,YAAa,gBAEf8E,cAAepJ,YAAI,CACjBgD,MAAO7I,EAAaC,OAAOI,MAC3B8J,YAAa,gBAEfe,MAAOrF,YAAI,CACTU,UAAW,WAEbuG,QAASjH,YAAI,CACXsE,YAAanK,EAAaC,OAAOE,MAEnC4M,UAAWlH,YAAI,CACbsE,YAAanK,EAAaC,OAAOG,QAEnC8O,UAAWrJ,YAAI,CACbK,OAAQ,GACRJ,QAAS,OACTiB,WAAY,SACZC,eAAgB,WAElBmI,aAActJ,YAAI,CAChBgD,MAAO7I,EAAaC,OAAOE,MAE7BiP,eAAgBvJ,YAAI,CAClBgD,MAAO7I,EAAaC,OAAOG,QAE7BE,QAASuF,YAAI,CACXC,QAAS,OACTiB,WAAY,SACZb,OAAQ,GACR0C,cAAe,EACfC,MAAO7I,EAAaC,OAAOK,QAC3BgG,SAAU,GACV+I,UAAW,SACXvG,WAAY,OACZ7B,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOK,QAA/B,UAEdD,MAAOwF,YAAI,CACTC,QAAS,OACTiB,WAAY,SACZb,OAAQ,GACRG,UAAW,EACXwC,MAAO7I,EAAaC,OAAOI,MAC3BiG,SAAU,GACV+I,UAAW,SACXvG,WAAY,OACZ7B,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOI,MAA/B,WAIDiP,GAxJf,SAAAxM,GAOU,IANRyM,EAMQzM,EANRyM,KACAC,EAKQ1M,EALR0M,KACAC,EAIQ3M,EAJR2M,SACAC,EAGQ5M,EAHR4M,WACAC,EAEQ7M,EAFR6M,eACAC,EACQ9M,EADR8M,eAEMC,EAAcC,YAClBH,EACAJ,EACAG,EAAajB,OAAWsB,GAEpBC,EAAcF,YAClBF,EACAL,EACAG,EAAajB,OAAWsB,GAGpBE,EAAcxC,EAAcoC,EAAYnC,MACxCwC,EAAczC,EAAcuC,EAAYtC,MACxCrN,EAAQ4P,GAAeC,EAE7B,OACE7O,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOoJ,KACf1N,OAAAoF,EAAA,EAAApF,CAAC8J,EAAD,CACEJ,MAAO,CACLpF,EAAOyF,UACNsE,GAAc/J,EAAOqJ,gBACtB3O,GAASqP,GAAc/J,EAAOsJ,gBAG/BY,EAAYnC,KAAKtL,OAAS4N,EAAYtC,KAAKtL,MACxCsN,EACE,UACA,UACFrP,EACA,UACA,KACHmP,GAGFC,EACCpO,OAAAoF,EAAA,EAAApF,CAAC8D,EAAAC,EAAM+K,SAAP,KACE9O,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAO,CAACpF,EAAOuJ,UAAWvJ,EAAOwJ,eACpCa,EAAYlC,MAAM7I,OAGrB5D,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAO,CAACpF,EAAOuJ,UAAWvJ,EAAOyJ,iBACpCS,EAAY/B,MAAM7I,QAGrByK,EACFrO,OAAAoF,EAAA,EAAApF,CAAC8D,EAAAC,EAAM+K,SAAP,KACE9O,OAAAoF,EAAA,EAAApF,CAAC+O,EAAD,CAAWjC,MAAO6B,EAAajF,MAAOpF,EAAOmH,UAE7CzL,OAAAoF,EAAA,EAAApF,CAAC+O,EAAD,CAAWjC,MAAO0B,EAAa9E,MAAOpF,EAAOoH,aAG/C1L,OAAAoF,EAAA,EAAApF,CAAC4J,EAAD,CAAOpF,IAAKF,EAAOuF,UAGrBwE,GACArO,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOrF,SAAjB,8DAEEe,OAAAoF,EAAA,EAAApF,CAAA,WAFF,mDAMDhB,GAASqP,GACRrO,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,EAAOtF,OAAjB,yECxFR,IAAMsF,GAAS,CACbiE,OAAQ/D,YAAI,CACVwK,IAAK,WAIMC,GAdf,SAAAxN,GAAwE,IAAhDgF,EAAgDhF,EAAhDgF,MAAgDuC,EAAAvH,EAAzCwH,eAAyC,IAAAD,KAAAE,EAAAzH,EAAxBzC,aAAwB,IAAAkK,KACtE,OACElJ,OAAAoF,EAAA,EAAApF,CAAA,UAAQW,KAAK,SAAS6D,IAAKF,GAAOiE,QAChCvI,OAAAoF,EAAA,EAAApF,CAACoJ,EAAD,CAAQ3C,MAAOA,EAAOwC,QAASA,EAASjK,MAAOA,MCIrD,IAAMsF,GAAS,CACbiE,OAAQ/D,YAAI,CACVwK,IAAK,QACLrG,OAAQ,UACR1D,SAAU,GACVC,UAAW,SACXwC,eAAgB,eAILwH,GAlBf,SAAAzN,GAAkD,IAA5BsB,EAA4BtB,EAA5BsB,SAAUoM,EAAkB1N,EAAlB0N,QAC9B,OACEnP,OAAAoF,EAAA,EAAApF,CAAA,UAAQwE,IAAKF,GAAOiE,OAAQ4G,QAASA,GAClCpM,ICVA,SAASqM,GAAwB9O,GACtC,OAAQA,GACN,KAAK7B,EAAa4Q,aAChB,MAAO,kBACT,KAAK5Q,EAAa6Q,WAChB,MAAO,iBACT,KAAK7Q,EAAa8Q,WAChB,MAAO,iBACT,KAAK9Q,EAAa+Q,YAChB,MAAO,iBACT,QACE,MAAO,SAIN,SAASC,GACd1P,GAEA,OAAQA,GACN,KAAKrB,EAAkBgR,SACrB,MAAO,WACT,KAAKhR,EAAkBiR,SACrB,MAAO,cACT,KAAKjR,EAAkBkR,YACrB,MAAO,uCACT,KAAKlR,EAAkBmR,OACrB,MAAO,0BACT,QACE,MAAO,SAIN,SAASC,GAAe3N,GAAyC,IAA5B4N,EAA4BC,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,GAAX,EAC3D,OAAc,IAAN7N,GAAW+N,QAAQH,GAAU,IAKhC,IAAMI,GAAe,SAAChO,EAAaiO,GACxC,IAAMC,EAAO9N,KAAK+N,IAAI,GAAIF,GAC1B,OAAO7N,KAAKgO,MAAMpO,EAAMkO,GAAQA,GAGrBG,GAAuB,SAACrO,GAAD,OAAiBgO,GAAmB,IAANhO,EAAW,IAEhEsO,GAAuB,SAACtO,GAAD,OAAiBgO,GAAahO,EAAM,IAAK,ICbvEuO,GAAe,SACnB3Q,EACAO,EACAqQ,GAHmB,MAIR,iBAAmB5Q,EAAoB4Q,EAAQrQ,GAEtDsQ,GAAiB,SAAChN,GAAD,IAAgBiN,EAAhBb,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,QAAoCtB,EAApC,MACX,KAAV9K,EACIiN,EACArD,OAAOC,MAAMD,OAAO5J,IACpBiN,EACAC,SAASlN,EAAO,KAEhBmN,GAAkB,SAACnN,GAAD,YACZ8K,IAAV9K,EAAsB,GAAKoN,OAAOpN,IAgMpC,IAAMU,GAAS,CACb6D,KAAM3D,YAAI,CACRC,QAAS,OACTC,cAAe,SACfqB,YAAapH,EAAaO,KAAKC,YAC/BiJ,aAAczJ,EAAaO,KAAKC,cAElC8R,KAAMzM,YAAI,CACRC,QAAS,OACTC,cAAe,WAEjBwM,UAAW1M,YAAI,CACbQ,UAAW,GACXC,SAAU,KAEZkM,aAAc3M,YAAI,CAChBQ,UAAW,GACXoD,aAAc,GACdnD,SAAU,KAEZvE,OAAQ8D,YAAI,CACVC,QAAS,OACTC,cAAe,MACfgB,WAAY,SACZC,eAAgB,gBAChBX,UAAW,GACXoD,aAAc,KAEhBgJ,YAAa5M,YAAI,CACfQ,UAAW,EACXwC,MAAO7I,EAAaC,OAAOI,MAC3BiG,SAAU,KAGZoM,iBAAkB7M,YAAI,CACpBgE,QAAS,GACT1D,OAAM,SAAA2D,OAAW9J,EAAaC,OAAOC,QAA/B,UAERyS,sBAAuB9M,YAAI,CACzBS,SAAU,GACVwC,WAAY,OACZ4D,cAAe,cAEjBkG,qBAAsB/M,YAAI,CACxBQ,UAAW,EACXC,SAAU,GACVwC,WAAY,SAEd+J,qBAAsBhN,YAAI,CACxBgD,MAAO7I,EAAaC,OAAOC,QAC3B6I,eAAgB,eAIL+J,kBApPf,SAAAhQ,GAA2E,IAAlDhB,EAAkDgB,EAAlDhB,MAAOiR,EAA2CjQ,EAA3CiQ,eAAgBC,EAA2BlQ,EAA3BkQ,iBACxCC,EAAanR,EAAMG,KAAKlB,IAAI,SAAAmC,GAAyC,IAAtC9B,EAAsC8B,EAAtC9B,kBAAmBG,EAAmB2B,EAAnB3B,aACtD,MAAO,CACLH,oBACAG,aAAcA,EAAaR,IACzB,SAAAmB,GAIyB,IAHvBP,EAGuBO,EAHvBP,WACAuR,EAEuBhR,EAFvBgR,qBACAC,EACuBjR,EADvBiR,qBAEA,MAAO,CACLxR,aACAyR,mBAAoBrB,GAClB3Q,EACAO,EACA,UAEF0R,oBAAqBjB,GAAgBc,GACrCI,mBAAoBvB,GAClB3Q,EACAO,EACA,UAEF4R,oBAAqBnB,GAAgBe,SAOzCK,EAAgBP,EAAWQ,OAAO,SAACC,EAADvR,GACtC,OADkEA,EAAnBZ,aAC3BkS,OAClB,SACEE,EADFxS,GAQK,IAAAyS,EALDR,EAKCjS,EALDiS,mBACAC,EAIClS,EAJDkS,oBACAC,EAGCnS,EAHDmS,mBACAC,EAECpS,EAFDoS,oBAGF,OAAOlS,OAAAC,EAAA,EAAAD,CAAA,GACFsS,GADLC,EAAA,GAAAvS,OAAAwS,EAAA,EAAAxS,CAAAuS,EAEGR,EAAqBC,GAFxBhS,OAAAwS,EAAA,EAAAxS,CAAAuS,EAGGN,EAAqBC,GAHxBK,KAMFF,IAED,IAEGI,EAAW,SAACC,GAChB,IAAM9R,EAA2BgR,EAAWlS,IAC1C,SAAAW,GAAA,MAA0C,CACxCN,kBADFM,EAAGN,kBAEDG,aAFFG,EAAsBH,aAEOR,IACzB,SAAAiT,GAAA,IAAGrS,EAAHqS,EAAGrS,WAAYyR,EAAfY,EAAeZ,mBAAoBE,EAAnCU,EAAmCV,mBAAnC,MAA6D,CAC3D3R,aACAuR,qBAAsBjB,GAAe8B,EAASX,IAC9CD,qBAAsBlB,GAAe8B,EAAST,UAKtDP,EAAe9Q,IAhEwDgS,EA8ErEC,YAAQ,CACVV,gBACAW,SAbe,SAACJ,GAChBD,EAASC,GACTf,EAAiB,YAIjBzD,EAzEuE0E,EAyEvE1E,KACA6E,EA1EuEH,EA0EvEG,aACAC,EA3EuEJ,EA2EvEI,OACAC,EA5EuEL,EA4EvEK,oBACA3G,EA7EuEsG,EA6EvEtG,aAMF4B,EAAKgF,UACH,SAAAC,GAAuB,IAApBH,EAAoBG,EAApBH,OAAoBG,EAAZC,OAEPX,EAASO,IAGb,CAAEA,QAAQ,EAAMI,OAAO,IAGzB,IAAMzO,EAAQT,EAAgB,GAE9B,OACElE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO6D,MACfnI,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAO4M,WAAf,4BACAlR,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAO6M,cAAf,oHAKAnR,OAAAoF,EAAA,EAAApF,CAAA,QAAM8S,SAAUC,EAAcvO,IAAK,CAACF,GAAO2M,KAAMzM,YAAI,CAAEG,YACpDiN,EAAWlS,IAAI,SAAA2T,GAAyC,IAAtCtT,EAAsCsT,EAAtCtT,kBAAmBG,EAAmBmT,EAAnBnT,aAC9BoT,EAAiBpT,EAAakS,OAClC,SAACmB,EAADC,GAAqD,IAA7CzB,EAA6CyB,EAA7CzB,mBAAoBE,EAAyBuB,EAAzBvB,mBAC1B,OACEsB,EACA3C,GAAeoC,EAAOjB,GAAqB,GAC3CnB,GAAeoC,EAAOf,GAAqB,IAG/C,GAEF,OACEjS,OAAAoF,EAAA,EAAApF,CAACyT,EAAD,CACEC,IAAK3T,EACLoG,MAAOsJ,GAA6B1P,GACpC0G,MAAM,wBACNyF,OAAQ8E,OAAOsC,IAEdpT,EAAaR,IACZ,SAAAiU,GAA4D,IAAzDrT,EAAyDqT,EAAzDrT,WAAYyR,EAA6C4B,EAA7C5B,mBAAoBE,EAAyB0B,EAAzB1B,mBACjC,OACEjS,OAAAoF,EAAA,EAAApF,CAAC4T,GAAD,CACEF,IAAKpT,EACL8N,SAA2C,UAAjC3N,EAAMO,SAASC,cACzBiN,KAAMA,EACNC,KAAMiB,GAAwB9O,GAC9B+N,YAAY,EACZC,eAAgByD,EAChBxD,eAAgB0D,SASI,UAAjCxR,EAAMO,SAASC,cACdjB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO5D,QACfV,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,YACpCzG,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMwC,EAAiB,UAA5C,oCAKF3R,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO5D,QACfV,OAAAoF,EAAA,EAAApF,CAAA,OACEwE,IAAKA,YAAI,CAAEE,cAAe,SAAUgB,WAAY,gBAEhD1F,OAAAoF,EAAA,EAAApF,CAAC8T,GAAD,CACErN,MAAM,UACNwC,QAASgK,EACTjU,MAAOsN,GAAgB2G,IAExB3G,GAAgB2G,GACfjT,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAO8M,aAAf,2CAEEpR,OAAAoF,EAAA,EAAApF,CAAA,WAFF,2DAWwB,UAAjCS,EAAMO,SAASC,eACuB,YAArCR,EAAMS,aAAaD,eACjBjB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO+M,kBACfrR,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOgN,uBAAf,2CAGAtR,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOiN,sBAAf,gHAIAvR,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOiN,sBACbvR,OAAAoF,EAAA,EAAApF,CAACkH,EAAA,EAAD,CAAMP,GAAG,eAAenC,IAAKF,GAAOkN,sBAApC,iCAkEZ,SAACuC,EAAWC,GAAZ,OACED,EAAUtT,MAAMO,SAASC,gBACzB+S,EAAUvT,MAAMO,SAASC,gBC7RvBgT,GAAyB,SAC7BC,EACArC,EACAC,GAH6B,OAIjBoC,EAAiBrC,EAAuBC,EAAuB,GAgBhEqC,GAAgC,SAC3CC,GAD2C,OAQxC,SACHC,EAOAC,GARG,OAUHD,EACGE,OAAO,SAAA9S,GAAA,OAAAA,EAAGyS,iBACVxU,IAAI,SAAA8U,GAAmB,IACdN,EAAqCM,EAArCN,eAAgBO,EAAqBD,EAArBC,iBAUxB,OA5CqB,SACzBP,EACAQ,EACAD,EACAH,GAJyB,OAMzBJ,GAAkBI,EAAwB,QAA0B5F,IAArBgG,EAC3CvE,GACGuE,EAAmBD,EAAoBH,EACxC,QAEF5F,EA0BqBiG,CACnBT,EAHuBE,EAAqBI,GAK5CC,EACAH,OAOKM,GAA0B,SACrCC,GADqC,OAGJ,IAAjCA,EAAsB5E,QACtB4E,EAAsBC,cAASpG,QAC3BA,EACAyB,GACE0E,EACGN,OAAO,SAAAQ,GAAY,YAAqBrG,IAAjBqG,IACvB3C,OACC,SAACmB,EAAKyB,GAAN,OAAezB,GAAO,SAAc7E,IAARsG,EAAoBA,EAAM,SACtDtG,IACG,EACP,IA4CKuG,GAAmC,SAC9C/U,EACAgV,GAIkB,IAAAC,EAIdjV,EAAakS,OACf,SAAAvR,EAAAC,GAAA,IACIsU,EADJvU,EACIuU,2BAA4BC,EADhCxU,EACgCwU,2BADhC,MAGM,CACJD,2BACEA,GALJtU,EAEI+Q,sBAGsD,GACxDwD,2BACEA,GAPJvU,EAE0BgR,sBAKgC,KAE1D,CAAEsD,2BAA4B,EAAGC,2BAA4B,IAZ7DD,EAFgBD,EAEhBC,2BACAC,EAHgBF,EAGhBE,2BAeInB,EAAiBgB,EACrBE,EACAC,GASF,MAAO,CACLxD,qBAAsBuD,EACtBtD,qBAAsBuD,EACtBnB,iBACAO,iBAVuBR,GACvBC,EACAkB,EACAC,KAWSC,GAAuB,SAACC,GAAwC,IAAAC,EAIvED,EAAcnD,OAChB,SAAAtS,EAAAO,GAGK,IAFDoV,EAEC3V,EAFD2V,0BAA2BC,EAE1B5V,EAF0B4V,0BAG7B,MAAO,CACLD,0BACEA,EAHDpV,EADDwR,qBAKA6D,0BACEA,EALDrV,EADqByR,uBAS1B,CACE2D,0BAA2B,EAC3BC,0BAA2B,IAhB7BD,EAFyED,EAEzEC,0BACAC,EAHyEF,EAGzEE,0BA6BF,MAAO,CACLD,4BACAC,4BACAC,oBAXAF,EAA4BC,EAY5BpB,sBAT4BiB,EAAcnD,OAC1C,SAACmB,EAADZ,GAAA,OAA+BY,EAA/BZ,EAAQ8B,kBACR,KAYSmB,GAAsC,SACjDD,EACArB,GAFiD,OAIjDqB,EAAsB,GACtBrB,GAhNgC,GAgNPqB,GChMrBE,GAA0B,CAC9B,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GAkBWX,GAAuB,SAClCrD,EACAC,GAFkC,OAGtBD,GAAwB,GAAKC,GAAwB,GAmCtDgE,GAA0C,SACrDrV,GAwCA,OAtCkBA,EAAM2R,OACtB,SAACmB,EAA+B5T,GAAhC,OAA0C4T,EAAI9K,OAAO9I,EAAMO,eAC3D,IAGkCR,IAClC,SAACqW,GACC,IAAMC,EACJD,EAAgBC,gCAAkC,EAC9CC,EACJF,EAAgBE,gCAAkC,EAE9CC,EDpB6B,SAAArU,EAEvCqT,GAIkB,IALhBrD,EAKgBhQ,EALhBgQ,qBAAsBC,EAKNjQ,EALMiQ,qBAUlBoC,EAAiBgB,EAJvBrD,EAAuBA,GAAwB,EAC/CC,EAAuBA,GAAwB,GAc/C,MAAO,CACLD,uBACAC,uBACAoC,iBACAO,iBAVuBR,GACvBC,EACArC,EACAC,ICCoBqE,CAChBJ,EACAb,IAIIkB,EArDkC,SAC5CJ,EACAC,GAF4C,OAI5CD,EAAiC,GAAKC,EAAiC,EACnE9F,IACG8F,EAAiCD,GAChCC,EACF,QAEFvH,EA2CiC2H,CAC/BL,EACAC,GAGIK,EA7C8C,SACxDF,GADwD,YAG3B1H,IAA7B0H,EACIjG,GACE5N,KAAKgU,KAAKH,GACR7T,KAAKF,IAAI,EAAGE,KAAKiU,IAAIJ,GAnEP,KAoEhB,QAEF1H,EAoC6C+H,CAC3CL,GAGF,OAAOpW,OAAAC,EAAA,EAAAD,CAAA,GACFkW,EADL,CAEE5V,WAAYyV,EAAgBzV,WAC5B0V,iCACAC,iCACAG,2BACAE,4CAQKI,GAAoCvC,GAC/C,SAAA1S,GAAA,OAAAA,EAAG6U,uCAKQK,GAAoC,SAC/CC,EACAC,GAF+C,OAI/CD,QAA8ClI,IAAtBmI,EACpB1G,GAAa,IAAM0G,EAAmB,QACtCnI,GAEOoI,GAAqC,SAChDC,GADgD,YAGhBrI,IAAhCqI,EACIxU,KAAKgU,KAAKQ,GAA+B,EACvC,SACA,cACFrI,GAEOsI,GAA4C,SACvDD,GADuD,YAGvBrI,IAAhCqI,EACIxU,KAAKiU,IAAIO,QACTrI,GAGOuI,GAAa,SACxBF,GADwB,YAGQrI,IAAhCqI,EACIlB,GACEtT,KAAKH,IACHyT,GAAwB5F,OAAS,EACjC1N,KAAK2U,KAAK3U,KAAKF,IAAI,EAAG0U,WAG1BrI,GAMS,SAASyI,GAAmB1W,GACzC,IAAM2W,EAAgCtB,GACpCrV,EAAMG,MAFkDyW,EAKH/B,GACrD8B,GADMzB,EALkD0B,EAKlD1B,oBAAqBrB,EAL6B+C,EAK7B/C,sBAIvBgD,EAAsBZ,GAC1BU,EACA9C,GAIIuC,EAAoBjC,GAAwB0C,GAG5CC,EAAgC3B,GACpCD,EACArB,GAIIyC,EAA8BJ,GAClCY,EACAV,GAcF,MAAO,CACLU,gCACAR,4BAb0CC,GAC1CD,GAaAS,4BAVkCV,GAClCC,GAUAU,iBANuBR,GAAWF,IC9MtC,IAAMzS,GAAS,CACboT,KAAMlT,YAAI,CACRC,QAAS,OACTC,cAAe,MACfgB,WAAY,eAEdiS,OAAQnT,YAAI,CACVuH,KAAM,EACNjG,WAAYnH,EAAaO,KAAKC,YAC9BqL,SAAU,SACVC,IAAK,EACLhG,QAAS,OACTC,cAAe,YAIJkT,GA1Bf,SAAAnW,GAAsE,IAAvCoW,EAAuCpW,EAAvCoW,aAAcC,EAAyBrW,EAAzBqW,eACrCnT,EAAQT,EAAgB,GAC9B,OACElE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOoT,MACf1X,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKA,YAAI,CAAEG,WAAWkT,GAC3B7X,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOqT,QAASG,KCDhC,IAAMxT,GAAS,CACb2M,KAAMzM,YAAI,CACRgE,QAAS,GACThD,gBAAiB,OACjBV,OAAQ,sBAEVoM,UAAW1M,YAAI,CACbS,SAAU,GACVwC,WAAY,OACZ4D,cAAe,cAEjB0M,SAAUvT,YAAI,CACZQ,UAAW,EACXC,SAAU,GACVwC,WAAY,UAIDuQ,GA3Bf,SAAAvW,GAA0C,IAAtB0E,EAAsB1E,EAAtB0E,MAAOpB,EAAetD,EAAfsD,KACzB,OACE/E,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO2M,MACfjR,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAO4M,WAAY/K,GAC1BpB,GAAQ/E,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOyT,UAAWhT,KCAzC,IAAMT,GAAS,CACb2T,UAAWzT,YAAI,CACbC,QAAS,OACTC,cAAe,MACfgB,WAAY,SACZV,UAAW,GACXoD,aAAc,MAIH8P,GAdf,SAAAzW,GAAwC,IAAnBsB,EAAmBtB,EAAnBsB,SACnB,OAAO/C,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO2T,WAAYlV,ICuBtC,IAAMuB,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfgB,WAAY,eAEd1G,MAAOwF,YAAI,CACTQ,UAAW,EACXwC,MAAO7I,EAAaC,OAAOI,MAC3BiG,SAAU,MAICkT,GAhCf,SAAA1W,GAIU,IAHR6K,EAGQ7K,EAHR6K,aACA2G,EAEQxR,EAFRwR,oBACAmF,EACQ3W,EADR2W,aAEA,OACEpY,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC8T,GAAD,CACErN,MAAM,UACNwC,QAASgK,EACTjU,MAAOsN,GAAgB2G,IAExB3G,GAAgB2G,GACfjT,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOtF,OAAQoZ,KCOzB1H,GAAe,SACnB3Q,EACAO,EACAqQ,GAHmB,MAKnB,2BAA6B5Q,EAAoB4Q,EAAQrQ,GAErDsQ,GAAiB,SAAChN,GAAD,IAAgBiN,EAAhBb,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,QAAoCtB,EAApC,MACX,KAAV9K,EACIiN,EACArD,OAAOC,MAAMD,OAAO5J,IACpBiN,EACAC,SAASlN,EAAO,KAEhBmN,GAAkB,SAACnN,GAAD,YACZ8K,IAAV9K,EAAsB,GAAKoN,OAAOpN,IAkKpC,IAAMU,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,YAIJ+M,kBAvKf,SAAAhQ,GAKU,IAJRb,EAIQa,EAJRb,KACAwN,EAGQ3M,EAHR2M,SACA7O,EAEQkC,EAFRlC,mBACA8Y,EACQ5W,EADR4W,qBAEMzG,EAAahR,EAAKlB,IAAI,SAAAmC,GAAyC,IAAtC9B,EAAsC8B,EAAtC9B,kBAAmBG,EAAmB2B,EAAnB3B,aAChD,MAAO,CACLH,oBACAG,aAAcA,EAAaR,IACzB,SAAAmB,GAMyB,IALvBP,EAKuBO,EALvBP,WACAuR,EAIuBhR,EAJvBgR,qBACAC,EAGuBjR,EAHvBiR,qBACAkE,EAEuBnV,EAFvBmV,+BACAC,EACuBpV,EADvBoV,+BAEA,MAAO,CACL3V,aACA+N,WAAY6G,GACVrD,GAAwB,EACxBC,GAAwB,GAE1BwG,mCAAoC5H,GAClC3Q,EACAO,EACA,UAEFiY,oCAAqCxH,GACnCiF,GAEFwC,mCAAoC9H,GAClC3Q,EACAO,EACA,UAEFmY,oCAAqC1H,GACnCkF,SAQN9D,EAAgBP,EAAWQ,OAAO,SAACC,EAADvR,GACtC,OADkEA,EAAnBZ,aAC3BkS,OAClB,SACEE,EADFxS,GAQK,IAAAyS,EALD+F,EAKCxY,EALDwY,mCACAC,EAICzY,EAJDyY,oCACAC,EAGC1Y,EAHD0Y,mCACAC,EAEC3Y,EAFD2Y,oCAGF,OAAOzY,OAAAC,EAAA,EAAAD,CAAA,GACFsS,GADLC,EAAA,GAAAvS,OAAAwS,EAAA,EAAAxS,CAAAuS,EAEG+F,EAAqCC,GAFxCvY,OAAAwS,EAAA,EAAAxS,CAAAuS,EAGGiG,EAAqCC,GAHxClG,KAMFF,IAED,IAEGI,EAAW,SAACC,GAChB,IAAM9R,EAA+BgR,EAAWlS,IAC9C,SAAAW,GAAA,MAA0C,CACxCN,kBADFM,EAAGN,kBAEDG,aAFFG,EAAsBH,aAEOR,IACzB,SAAAiT,GAAA,IACErS,EADFqS,EACErS,WACAgY,EAFF3F,EAEE2F,mCACAE,EAHF7F,EAGE6F,mCAHF,MAIO,CACLlY,aACA0V,+BAAgCpF,GAC9B8B,EAAS4F,IAEXrC,+BAAgCrF,GAC9B8B,EAAS8F,UAMnBjZ,EAAmBqB,IAlFbgS,EA0F0DC,YAAQ,CACxEV,gBACAW,SAPe,SAACJ,GAChBD,EAASC,GACT2F,EAAqB,YAGfnK,EA1FA0E,EA0FA1E,KAAM6E,EA1FNH,EA0FMG,aAAcE,EA1FpBL,EA0FoBK,oBAAqB3G,EA1FzCsG,EA0FyCtG,aAcjD,OATA4B,EAAKgF,UACH,SAAAC,GAAuB,IAApBH,EAAoBG,EAApBH,OAAoBG,EAAZC,OAEPX,EAASO,IAGb,CAAEA,QAAQ,EAAMI,OAAO,IAIvBpT,OAAAoF,EAAA,EAAApF,CAAA,QAAM8S,SAAUC,EAAcvO,IAAKF,GAAOC,WACvCqN,EAAWlS,IAAI,SAAA2T,GAAyC,IAAtCtT,EAAsCsT,EAAtCtT,kBAAmBG,EAAmBmT,EAAnBnT,aACpC,OACEF,OAAAoF,EAAA,EAAApF,CAACyT,EAAD,CACEC,IAAK3T,EACLoG,MAAOsJ,GAA6B1P,GACpC0G,MAAM,8BAELvG,EAAaR,IACZ,SAAA8T,GAKM,IAJJlT,EAIIkT,EAJJlT,WACA+N,EAGImF,EAHJnF,WACAiK,EAEI9E,EAFJ8E,mCACAE,EACIhF,EADJgF,mCAEA,OACExY,OAAAoF,EAAA,EAAApF,CAAC4T,GAAD,CACEF,IAAKpT,EACL4N,KAAMA,EACNC,KAAMiB,GAAwB9O,GAC9B8N,SAAUA,EACVC,WAAYA,EACZC,eAAgBgK,EAChB/J,eAAgBiK,SAS7BpK,EACCpO,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,aAGtCzG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC2Y,GAAD,CACE1F,oBAAqBA,EACrB3G,aAAcA,EACd8L,aAAa,yGAkBvB,SAACrE,EAAWC,GAAZ,OAA0BD,EAAU3F,WAAa4F,EAAU5F,WC9K7D,IAAM9J,GAAS,CACbC,UAAWC,YAAI,CACbG,MAAO,OACP6F,SAAU,WACV3F,OAAQ,EACRyC,WAAY,SAEd2J,KAAMzM,YAAI,CACRgG,SAAU,WACVC,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,EAEPpC,QAAS,SACT/D,QAAS,OACTC,cAAe,SACfiB,eAAgB,gBAEhB6B,MAAO,QACPhC,gBAAiB7G,EAAaC,OAAOC,QACrC6J,aAAc,SAEhBkQ,SAAUpU,YAAI,CACZoB,aAAc,sBAEhBiT,QAASrU,YAAI,CACX4D,aAAc,EACd3D,QAAS,OACTiB,WAAY,WAEZT,SAAU,GACVwC,WAAY,SAEdqR,aAActU,YAAI,CAChBuB,YAAa,SAEfgT,YAAavU,YAAI,CACfwU,WAAY,SAEdC,KAAMzU,YAAI,CACRQ,UAAW,EACXC,SAAU,GACV+I,UAAW,SACXvG,WAAY,UAIDyR,GA/Ef,SAAAzX,GAOU,IANR0X,EAMQ1X,EANR0X,eACAC,EAKQ3X,EALR2X,cACAC,EAIQ5X,EAJR4X,cACAC,EAGQ7X,EAHR6X,gBACAC,EAEQ9X,EAFR8X,eACAC,EACQ/X,EADR+X,eAEA,OACExZ,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO2M,MACfjR,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOsU,UACf5Y,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOuU,SACb7Y,OAAAoF,EAAA,EAAApF,CAAA,QAAMwE,IAAKF,GAAOwU,cAAeK,EAAjC,KACAnZ,OAAAoF,EAAA,EAAApF,CAAA,QAAMwE,IAAKF,GAAOyU,aAAcK,IAEjCC,GAAiBrZ,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAO2U,MAAOI,IAG1CrZ,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOsU,UACf5Y,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOuU,SACb7Y,OAAAoF,EAAA,EAAApF,CAAA,QAAMwE,IAAKF,GAAOwU,cAAeQ,EAAjC,KACAtZ,OAAAoF,EAAA,EAAApF,CAAA,QAAMwE,IAAKF,GAAOyU,aAAcQ,IAEjCC,GAAkBxZ,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAO2U,MAAOO,OCSnD,IAAMlV,GAAS,CACbC,UAAWC,YAAI,CACbnF,SAAU,IACV2F,UAAW,KAEbyU,KAAMjV,YAAI,CACRQ,UAAW,GACXE,UAAW,YAIAwU,GA3Cf,SAAAjY,GAKU,IAJRsV,EAIQtV,EAJRsV,4BACAS,EAGQ/V,EAHR+V,4BACAC,EAEQhW,EAFRgW,iBACAY,EACQ5W,EADR4W,qBAEA,OACErY,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC2Z,GAAD,CACER,eAAe,8BACfC,oBACmC1K,IAAhCqI,EACGA,EAA4B7G,QAAQ,GACpC,MAAQ,KAEdmJ,cAAa,0BAAA5Q,OAAyB+O,GACtC8B,gBAAgB,yBAChBC,qBACwB7K,IAArB+I,EAAiCA,EAAmB,MAAQ,MAE/D+B,eAAe,2CAGjBxZ,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOmV,MACbzZ,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMkJ,EAAqB,UAAhD,sCCmER,SAASuB,GAAT/X,GAAiE,IAArCkB,EAAqClB,EAArCkB,SAC1B,OACE/C,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,+CACNkC,QAAQ,kIAGPtF,GAKQ8W,OA1Ff,SAAApY,GAAkD,IAA1BhB,EAA0BgB,EAA1BhB,MAAOqZ,EAAmBrY,EAAnBqY,SACvBva,EAAqB+D,sBACzB,SAAC1C,GAAD,OACEkZ,EAAS,CAAEnZ,KAAM,qBAAsBC,UACzC,CAACkZ,IAGGzB,EAAuB/U,sBAC3B,SAACvC,GAAD,OAAsB+Y,EAAS,CAAEnZ,KAAM,uBAAwBI,WAC/D,CAAC+Y,IAT6CC,EAiB5C5C,GAAmB1W,GAJrB8W,EAb8CwC,EAa9CxC,8BACAR,EAd8CgD,EAc9ChD,4BACAS,EAf8CuC,EAe9CvC,4BACAC,EAhB8CsC,EAgB9CtC,iBAIF,MAAqC,UAAjChX,EAAMO,SAASC,cAEfjB,OAAAoF,EAAA,EAAApF,CAAC4Z,GAAD,KACE5Z,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CAAU7T,MAAM,wFAChBnG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,aAAaF,MAAM,gCAQvC8Q,EAmBHvX,OAAAoF,EAAA,EAAApF,CAAC4Z,GAAD,KACE5Z,OAAAoF,EAAA,EAAApF,CAACia,GAAD,CACEpC,aACE7X,OAAAoF,EAAA,EAAApF,CAACka,GAAD,CACEtZ,KAAMH,EAAMG,KACZwN,SAA+C,UAArC3N,EAAMS,aAAaD,cAC7B1B,mBAAoBA,EACpB8Y,qBAAsBA,IAG1BP,eACuC,UAArCrX,EAAMS,aAAaD,eACjBjB,OAAAoF,EAAA,EAAApF,CAACma,GAAD,CACEpD,4BAA6BA,EAC7BS,4BAA6BA,EAC7BC,iBAAkBA,EAClBY,qBAAsBA,OAjC9BrY,OAAAoF,EAAA,EAAApF,CAAC4Z,GAAD,KACE5Z,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6DACNpB,KAAK,0JAIP/E,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,gBC5D1C2T,GAAyB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAgB1DlF,GAAuB,SAClCrD,EACAC,GAFkC,OAGtBD,GAAwB,IAAMC,GAAwB,IAGvDuI,GAA8B,SACzCC,EACAC,GAFyC,OAIzCD,GAA0B,GAAKC,GAA0B,EACrDpK,GAAaoK,EAAyBD,EAAwB,QAC9D5L,GASO8L,GAAoD,SAC/D/Z,GAEA,OAAOA,EAAMf,IACX,SAAA+B,GAKc,IAJZ1B,EAIY0B,EAJZ1B,kBACAG,EAGYuB,EAHZvB,aACAoa,EAEY7Y,EAFZ6Y,uBACAC,EACY9Y,EADZ8Y,uBAEMrE,EAAYjB,GAChB/U,EACAgV,IAIIuF,EAAwBJ,GAC5BC,GAA0B,EAC1BC,GAA0B,GAG5B,OAAOva,OAAAC,EAAA,EAAAD,CAAA,GACFkW,EADL,CAEEnW,oBACAua,yBACAC,yBACAE,6BAMKC,GAAyC,SACpDC,GACG,IAAAtD,EAMC/B,GAAqBqF,GAJvBlF,EAFC4B,EAED5B,0BACAC,EAHC2B,EAGD3B,0BACAC,EAJC0B,EAID1B,oBACArB,EALC+C,EAKD/C,sBALCsG,EAWCD,EAA4BvI,OAC9B,SAAAvQ,EAAAhB,GAWK,IATDga,EASChZ,EATDgZ,mCACAC,EAQCjZ,EARDiZ,mCAGAjJ,EAKChR,EALDgR,qBACAC,EAICjR,EAJDiR,qBAKF,MAAO,CACL+I,mCACEA,GAHDha,EAHDyZ,wBAO6B,GAAKzI,EAClCiJ,mCACEA,GANDja,EAFD0Z,wBAS6B,GAAKzI,IAGtC,CACE+I,mCAAoC,EACpCC,mCAAoC,IAYxC,MAAO,CACLnF,sBACArB,wBACAyG,4BAlDCH,EASDC,mCAgCqCpF,EAUrCuF,4BAnDCJ,EAUDE,mCAmCqCpF,IAU5BuF,GAA2C9G,GACtD,SAAArT,GAAA,OAAAA,EAAG2Z,wBAIQS,GAA6B,SACxC3Z,EACAoU,EACArB,EACAyG,EACAC,GALwC,OAOxCzZ,GACAqU,GACED,EACArB,KAEDyG,EAA8B,GAAKC,EAA8B,IAGvDG,GAAoC,SAC/CvE,EACAC,GAF+C,OAI/CD,QAA8ClI,IAAtBmI,EACpB1G,GAAa,IAAM0G,EAAmB,QACtCnI,GAEOoI,GAAqC,SAChDsE,GADgD,YAGhB1M,IAAhC0M,EACI7Y,KAAKgU,KAAK6E,GAA+B,EACvC,SACA,cACF1M,GAEO2M,GAA4C,SACvDD,GADuD,YAGvB1M,IAAhC0M,EACI7Y,KAAKiU,IAAI4E,QACT1M,GAGOuI,GAAa,SACxBmE,GADwB,YAGQ1M,IAAhC0M,EACIhB,GACE7X,KAAKH,IACHgY,GAAuBnK,OAAS,EAChC1N,KAAK2U,KAAK3U,KAAKF,IAAI,EAAG+Y,WAG1B1M,GAMS,SAAS4M,GAAqB7a,GAC3C,IAAM8a,EAAkCf,GACtC/Z,EAAMG,MAFoD4a,EAUxDd,GAAuCa,GAJzC5F,EAN0D6F,EAM1D7F,oBACArB,EAP0DkH,EAO1DlH,sBACAyG,EAR0DS,EAQ1DT,4BACAC,EAT0DQ,EAS1DR,4BAGI1D,EAAsB2D,GAC1BM,EACAjH,GAIIuC,EAAoBjC,GAAwB0C,GAG5CC,EAAgC3B,GACpCD,EACArB,GAIIsC,EAAuBsE,GAC3Bza,EAAMU,eAAeI,qBACrBoU,EACArB,EACAyG,EACAC,GAIII,EAA8BD,GAClCvE,EACAC,GAcF,MAAO,CACLU,gCACAgE,kCACA3E,uBACAwE,4BAf0CC,GAC1CD,GAeA5D,4BAZkCV,GAClCsE,GAYAK,mBARyBxE,GAAWmE,ICnPxC,SAASM,GAATja,GAUG,IATQgL,EASRhL,EATDqL,MAASL,MACThG,EAQChF,EARDgF,MACA7C,EAOCnC,EAPDmC,MACA+X,EAMCla,EANDka,SAOMC,EAAUnP,EAAM7I,QAAUA,EAChC,OACE5D,OAAAoF,EAAA,EAAApF,CAAA,SAAOwE,IAAKF,GAAOmC,OACjBzG,OAAAoF,EAAA,EAAApF,CAAA,QAAAA,OAAAO,OAAA,CACEiE,IAAKF,GAAOuX,OACRpP,EAFN,CAGE9L,KAAK,QACLiD,MAAOA,EACPgY,QAASA,EACTD,SAAUA,KAEZ3b,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,GAAOwX,UAAWF,GAAWtX,GAAOyX,oBAC/C/b,OAAAoF,EAAA,EAAApF,CAAA,QAAMwE,IAAKF,GAAO0X,WAAYvV,IA8CpC,IAAMnC,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,WAEjB+B,MAAOjC,YAAI,CACTC,QAAS,OACTQ,SAAU,GACV0D,OAAQ,YAEVqT,UAAWxX,YAAI,CACbiD,WAAY,SAEdoU,MAAOrX,YAAI,CACTC,QAAS,SAEXqX,UAAWtX,YAAI,CACbG,MAAO,GACPE,OAAQ,GACRY,WAAY,EACZM,YAAa,EACb2C,aAAc,EACdlD,gBAAiB,QACjBV,OAAM,SAAA2D,OAAW9J,EAAaC,OAAOC,QAA/B,UAERkd,iBAAkBvX,YAAI,CACpByX,gBAAe,mBAAAxT,OAAqB9J,EAAaC,OAAOC,QAAzC,SAAA4J,OACb9J,EAAaC,OAAOC,QADP,qBAIjBqd,gBAAiB1X,YAAI,CACnBQ,UAAW,IAEbmX,wBAAyB3X,YAAI,CAC3B4X,QAAS,KAIEC,GAvEf,SAAAxa,GAMU,IALRqM,EAKQrM,EALRqM,KACAE,EAIQvM,EAJRuM,SACAkO,EAGQza,EAHRya,UACAC,EAEQ1a,EAFR0a,UACAC,EACQ3a,EADR2a,WAEM1P,EAAQ2B,YAAS6N,EAAWpO,GAClC,OACElO,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC0b,GAAD,CACE5O,MAAOA,EACPrG,MAAO8V,EACP3Y,MAAM,OACN+X,SAAUvN,IAEZpO,OAAAoF,EAAA,EAAApF,CAAA,OACEwE,IAAK,CACHF,GAAO4X,gBACP9N,GAAY9J,GAAO6X,0BAGrBnc,OAAAoF,EAAA,EAAApF,CAAC0b,GAAD,CACE5O,MAAOA,EACPrG,MAAO+V,EACP5Y,MAAM,QACN+X,SAAUvN,OC/BdsC,GAAe,SACnB3Q,EACA4Q,GAFmB,MAGR,mBAAqB5Q,EAAoB4Q,GAEhDC,GAAiB,SAAChN,GAAD,IAAgBiN,EAAhBb,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,QAAoCtB,EAApC,MACX,KAAV9K,EACIiN,EACArD,OAAOC,MAAMD,OAAO5J,IACpBiN,EACAJ,GAAqBgM,WAAW7Y,KAEhCmN,GAAkB,SAACnN,GAAD,YACZ8K,IAAV9K,EAAsB,GAAKoN,OAAOR,GAAqB5M,KAsLzD,IAAMU,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,YAIJ+M,kBA3Lf,SAAAhQ,GAMU,IALRib,EAKQjb,EALRib,iCACAnb,EAIQE,EAJRF,qBACA6M,EAGQ3M,EAHR2M,SACAuO,EAEQlb,EAFRkb,qBACAC,EACQnb,EADRmb,uBAEMhL,EAAa8K,EAAiChd,IAClD,SAAAmC,GAKM,IAJJ9B,EAII8B,EAJJ9B,kBACAmU,EAGIrS,EAHJqS,eACAoG,EAEIzY,EAFJyY,uBACAC,EACI1Y,EADJ0Y,uBAEA,MAAO,CACLxa,oBACAmU,iBACA2I,2BAA4BnM,GAAa3Q,EAAmB,UAC5D+c,4BAA6B/L,GAAgBuJ,GAC7CyC,2BAA4BrM,GAAa3Q,EAAmB,UAC5Did,4BAA6BjM,GAAgBwJ,MAK7CpI,EAAgBP,EAAWQ,OAC/B,SACEmB,EADF1S,GAQK,IAAA0R,EALDsK,EAKChc,EALDgc,2BACAC,EAICjc,EAJDic,4BACAC,EAGClc,EAHDkc,2BACAC,EAECnc,EAFDmc,4BAGF,OAAOhd,OAAAC,EAAA,EAAAD,CAAA,GACFuT,GADLhB,EAAA,GAAAvS,OAAAwS,EAAA,EAAAxS,CAAAuS,EAEGsK,EAA6BC,GAFhC9c,OAAAwS,EAAA,EAAAxS,CAAAuS,EAGGwK,EAA6BC,GAHhCzK,KAMF,CAAEhR,qBAAsByP,OAAOzP,KAG3BkR,EAAW,SAACC,GAAkB,IAC1BnR,EAAyBmR,EAAzBnR,qBACFD,EAAmBsQ,EAAWlS,IAClC,SAAAoB,GAAA,IACEf,EADFe,EACEf,kBACA8c,EAFF/b,EAEE+b,2BACAE,EAHFjc,EAGEic,2BAHF,MAIO,CACLhd,oBACAua,uBAAwB1J,GACtB8B,EAASmK,IAEXtC,uBAAwB3J,GACtB8B,EAASqK,OAIfJ,EAAqB,CACnBrb,mBACAC,qBAA+C,SAAzBA,KAzDlBqR,EAwEJC,YAAQ,CACVV,gBACAW,SAbe,SAACJ,GAChBD,EAASC,GACTkK,EAAuB,YAIvB1O,EAnEM0E,EAmEN1E,KACA8E,EApEMJ,EAoENI,OACAD,EArEMH,EAqENG,aACAE,EAtEML,EAsENK,oBACA3G,EAvEMsG,EAuENtG,aAMF4B,EAAKgF,UACH,SAAApT,GAAuB,IAApBkT,EAAoBlT,EAApBkT,OAAoBlT,EAAZsT,OAEPX,EAASO,IAGb,CAAEA,QAAQ,EAAMI,OAAO,IAIzB,IAAM6J,EAA4CP,EAAiChd,IACjF,SAACwd,EAAcC,GACb,IAAMC,EAAYxL,EAAWuL,GACvB7C,EAAyB1J,GAC7BoC,EAAOoK,EAAUP,6BAEbtC,EAAyB3J,GAC7BoC,EAAOoK,EAAUL,6BAEbtC,EAAwBJ,GAC5BC,EACAC,GAEF,OAAOva,OAAAC,EAAA,EAAAD,CAAA,GACFkd,EADL,CAEE5C,yBACAC,yBACAE,4BAxGEpD,EA+GJqD,GACFuC,GAHAlC,EA7GM1D,EA6GN0D,4BACAC,EA9GM3D,EA8GN2D,4BAKF,OACEhb,OAAAoF,EAAA,EAAApF,CAAA,QAAM8S,SAAUC,EAAcvO,IAAKF,GAAOC,WACxCvE,OAAAoF,EAAA,EAAApF,CAACqd,GAAD,CACEnP,KAAMA,EACNoO,UAAU,uBACVlO,SAAUA,EACVmO,UAAU,sEACVC,WAAW,qFAGoB,SAAhCxJ,EAAOzR,sBACNvB,OAAAoF,EAAA,EAAApF,CAACyT,EAAD,CACEhN,MAAM,gCACNyF,OAAQ,CACN4D,GAAekL,GACflL,GAAeiL,KAGhBnJ,EAAWlS,IACV,SAAAW,GAKM,IAJJN,EAIIM,EAJJN,kBACAmU,EAGI7T,EAHJ6T,eACA2I,EAEIxc,EAFJwc,2BACAE,EACI1c,EADJ0c,2BAEA,OACE/c,OAAAoF,EAAA,EAAApF,CAAC4T,GAAD,CACEF,IAAK3T,EACLmO,KAAMA,EACNC,KAAMsB,GAA6B1P,GACnCqO,SAAUA,EACVC,WAAY6F,EACZ5F,eAAgBuO,EAChBtO,eAAgBwO,OAQ3B3O,EACCpO,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,aAGtCzG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC2Y,GAAD,CACE1F,oBAAqBA,EACrB3G,aAAcA,EACd8L,aAAa,yGAkBvB,SAACrE,EAAWC,GAAZ,OAA0BD,EAAU3F,WAAa4F,EAAU5F,WCnM7D,IAAM9J,GAAS,CACbC,UAAWC,YAAI,CACbnF,SAAU,IACV2F,UAAW,KAEbyU,KAAMjV,YAAI,CACRQ,UAAW,GACXE,UAAW,YAIAoY,GA3Cf,SAAA7b,GAKU,IAJR2Z,EAIQ3Z,EAJR2Z,4BACA5D,EAGQ/V,EAHR+V,4BACAiE,EAEQha,EAFRga,mBACAmB,EACQnb,EADRmb,uBAEA,OACE5c,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC2Z,GAAD,CACER,eAAe,8BACfC,oBACmC1K,IAAhC0M,EACGA,EAA4BlL,QAAQ,GACpC,MAAQ,KAEdmJ,cAAa,0BAAA5Q,OAAyB+O,GACtC8B,gBAAgB,yBAChBC,qBAC0B7K,IAAvB+M,EAAmCA,EAAqB,MAAQ,MAEnEjC,eAAe,2CAGjBxZ,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOmV,MACbzZ,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMyN,EAAuB,UAAlD,sCC6FR,SAASW,GAAT1b,GAAmE,IAArCkB,EAAqClB,EAArCkB,SAC5B,OACE/C,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,6FACNkC,QAAQ,wIAEPtF,GAKQya,OAlHf,SAAA/b,GAAoD,IAA1BhB,EAA0BgB,EAA1BhB,MAAOqZ,EAAmBrY,EAAnBqY,SACzB6C,EAAuBrZ,sBAC3B,SAAC1C,GAAD,OACEkZ,EAAS,CAAEnZ,KAAM,uBAAwBC,UAC3C,CAACkZ,IAGG8C,EAAyBtZ,sBAC7B,SAACvC,GAAD,OAAsB+Y,EAAS,CAAEnZ,KAAM,yBAA0BI,WACjE,CAAC+Y,IAT+C2D,EAmB9CnC,GAAqB7a,GANvB8W,EAbgDkG,EAahDlG,8BACAgE,EAdgDkC,EAchDlC,gCACA3E,EAfgD6G,EAehD7G,qBACAwE,EAhBgDqC,EAgBhDrC,4BACA5D,EAjBgDiG,EAiBhDjG,4BACAiE,EAlBgDgC,EAkBhDhC,mBAIF,MAAqC,UAAjChb,EAAMO,SAASC,cAEfjB,OAAAoF,EAAA,EAAApF,CAACud,GAAD,KACEvd,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CAAU7T,MAAM,wFAChBnG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,aAAaF,MAAM,gCAQvC8Q,EAmBsC,UAAvC9W,EAAMU,eAAeF,eAA8B2V,EAsBrD5W,OAAAoF,EAAA,EAAApF,CAACud,GAAD,KACEvd,OAAAoF,EAAA,EAAApF,CAACia,GAAD,CACEpC,aACE7X,OAAAoF,EAAA,EAAApF,CAAC0d,GAAD,CACEhB,iCAAkCnB,EAClCha,qBAAsBd,EAAMU,eAAeI,qBAC3C6M,SAAiD,UAAvC3N,EAAMU,eAAeF,cAC/B0b,qBAAsBA,EACtBC,uBAAwBA,IAG5B9E,eACyC,UAAvCrX,EAAMU,eAAeF,eACnBjB,OAAAoF,EAAA,EAAApF,CAAC2d,GAAD,CACEvC,4BAA6BA,EAC7B5D,4BAA6BA,EAC7BiE,mBAAoBA,EACpBmB,uBAAwBA,OArChC5c,OAAAoF,EAAA,EAAApF,CAACud,GAAD,KACEvd,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6DACNpB,KAAK,uGAEP/E,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMyN,EAAuB,UAAlD,oCAIF5c,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,eA/B1CzG,OAAAoF,EAAA,EAAApF,CAACud,GAAD,KACEvd,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6DACNpB,KAAK,0JAIP/E,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,gBCxD1CmX,GAAsB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAkBvDC,GAA2BxD,GAS3ByD,GAAkD,SAC7Drd,GAEA,OAAOA,EAAMf,IACX,SAAA+B,GAKc,IAJZ1B,EAIY0B,EAJZ1B,kBACAG,EAGYuB,EAHZvB,aACA6d,EAEYtc,EAFZsc,oBACAC,EACYvc,EADZuc,oBAEM9H,EAAYjB,GAChB/U,EACAgV,IAII+I,EAAqBJ,GACzBE,GAAuB,EACvBC,GAAuB,GAGzB,OAAOhe,OAAAC,EAAA,EAAAD,CAAA,GACFkW,EADL,CAEEnW,oBACAge,sBACAC,sBACAC,0BAMKC,GAAsC,SACjDvD,GACG,IAAAtD,EAMC/B,GAAqBqF,GAJvBlF,EAFC4B,EAED5B,0BACAC,EAHC2B,EAGD3B,0BACAC,EAJC0B,EAID1B,oBACArB,EALC+C,EAKD/C,sBALCsG,EAWCD,EAA4BvI,OAC9B,SAAAvQ,EAAAhB,GAQK,IAPDsd,EAOCtc,EAPDsc,gCAAiCC,EAOhCvc,EAPgCuc,gCAEjCvM,EAKChR,EALDgR,qBACAC,EAICjR,EAJDiR,qBAKF,MAAO,CACLqM,gCACEA,GAHDtd,EAHDkd,qBAO0B,GAAKlM,EAC/BuM,gCACEA,GANDvd,EAFDmd,qBAS0B,GAAKlM,IAGnC,CACEqM,gCAAiC,EACjCC,gCAAiC,IAYrC,MAAO,CACLzI,sBACArB,wBACA+J,yBA/CCzD,EASDuD,gCA6BkC1I,EAUlC6I,yBAhDC1D,EAUDwD,gCAgCkC1I,IAUzBuF,GAA2C9G,GACtD,SAAArT,GAAA,OAAAA,EAAGmd,qBAIQM,GAAiCpD,GAEjCqD,GAAyCnD,GAGzCpE,GAAa,SACxBwH,GADwB,YAGK/P,IAA7B+P,EACIb,GACErb,KAAKH,IACHwb,GAAoB3N,OAAS,EAC7B1N,KAAK2U,KAAK3U,KAAKF,IAAI,EAAGoc,WAG1B/P,GAMS,SAASgQ,GAAsBje,GAC5C,IAAMke,EAAgCb,GACpCrd,EAAMG,MAFqD4a,EAUzD0C,GAAoCS,GAJtChJ,EAN2D6F,EAM3D7F,oBACArB,EAP2DkH,EAO3DlH,sBACA+J,EAR2D7C,EAQ3D6C,yBACAC,EAT2D9C,EAS3D8C,yBAGIhH,EAAsB2D,GAC1B0D,EACArK,GAIIuC,EAAoBjC,GAAwB0C,GAG5CC,EAAgC3B,GACpCD,EACArB,GAIIsC,EAAuBsE,GAC3Bza,EAAMW,gBAAgBQ,kBACtB+T,EACArB,EACA+J,EACAC,GAIIG,EAA2BF,GAC/B3H,EACAC,GAcF,MAAO,CACLU,gCACAoH,gCACA/H,uBACA6H,yBAfuCD,GACvCC,GAeAjH,4BAZkCV,GAClC2H,GAYAG,oBAR0B3H,GAAWwH,IC3KzC,IAAM/N,GAAe,SACnB3Q,EACA4Q,GAFmB,MAGR,gBAAkB5Q,EAAoB4Q,GAE7CC,GAAiB,SAAChN,GAAD,IAAgBiN,EAAhBb,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,QAAoCtB,EAApC,MACX,KAAV9K,EACIiN,EACArD,OAAOC,MAAMD,OAAO5J,IACpBiN,EACAJ,GAAqBgM,WAAW7Y,KAEhCmN,GAAkB,SAACnN,GAAD,YACZ8K,IAAV9K,EAAsB,GAAKoN,OAAOR,GAAqB5M,KAiLzD,IAAMU,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,YAIJ+M,kBAtLf,SAAAhQ,GAMU,IALRod,EAKQpd,EALRod,+BACAjd,EAIQH,EAJRG,kBACAwM,EAGQ3M,EAHR2M,SACA0Q,EAEQrd,EAFRqd,sBACAC,EACQtd,EADRsd,wBAEMnN,EAAaiN,EAA+Bnf,IAChD,SAAAmC,GAKM,IAJJ9B,EAII8B,EAJJ9B,kBACAmU,EAGIrS,EAHJqS,eACA6J,EAEIlc,EAFJkc,oBACAC,EACInc,EADJmc,oBAEA,MAAO,CACLje,oBACAmU,iBACA8K,wBAAyBtO,GAAa3Q,EAAmB,UACzDkf,yBAA0BlO,GAAgBgN,GAC1CmB,wBAAyBxO,GAAa3Q,EAAmB,UACzDof,yBAA0BpO,GAAgBiN,MAK1C7L,EAAgBP,EAAWQ,OAC/B,SACEmB,EADF1S,GAQK,IAAA0R,EALDyM,EAKCne,EALDme,wBACAC,EAICpe,EAJDoe,yBACAC,EAGCre,EAHDqe,wBACAC,EAECte,EAFDse,yBAGF,OAAOnf,OAAAC,EAAA,EAAAD,CAAA,GACFuT,GADLhB,EAAA,GAAAvS,OAAAwS,EAAA,EAAAxS,CAAAuS,EAEGyM,EAA0BC,GAF7Bjf,OAAAwS,EAAA,EAAAxS,CAAAuS,EAGG2M,EAA0BC,GAH7B5M,KAMF,CAAE3Q,kBAAmBoP,OAAOpP,KAGxB6Q,EAAW,SAACC,GAAkB,IAC1B9Q,EAAsB8Q,EAAtB9Q,kBACFD,EAAgBiQ,EAAWlS,IAC/B,SAAAoB,GAAA,IACEf,EADFe,EACEf,kBACAif,EAFFle,EAEEke,wBACAE,EAHFpe,EAGEoe,wBAHF,MAIO,CACLnf,oBACAge,oBAAqBnN,GAAe8B,EAASsM,IAC7ChB,oBAAqBpN,GAAe8B,EAASwM,OAGjDJ,EAAsB,CACpBnd,gBACAC,kBAAyC,SAAtBA,KArDfgR,EAoEJC,YAAQ,CACVV,gBACAW,SAbe,SAACJ,GAChBD,EAASC,GACTqM,EAAwB,YAIxB7Q,EA/DM0E,EA+DN1E,KACA8E,EAhEMJ,EAgENI,OACAD,EAjEMH,EAiENG,aACAE,EAlEML,EAkENK,oBACA3G,EAnEMsG,EAmENtG,aAMF4B,EAAKgF,UACH,SAAApT,GAAuB,IAApBkT,EAAoBlT,EAApBkT,OAAoBlT,EAAZsT,OAEPX,EAASO,IAGb,CAAEA,QAAQ,EAAMI,OAAO,IAIzB,IAAMgM,EAA0CP,EAA+Bnf,IAC7E,SAACwd,EAAcC,GACb,IAAMC,EAAYxL,EAAWuL,GACvBY,EAAsBnN,GAC1BoC,EAAOoK,EAAU4B,0BAEbhB,EAAsBpN,GAC1BoC,EAAOoK,EAAU8B,0BAEbjB,EAAqBJ,GACzBE,EACAC,GAEF,OAAOhe,OAAAC,EAAA,EAAAD,CAAA,GACFkd,EADL,CAEEa,sBACAC,sBACAC,yBApGE5G,EA2GJ6G,GACFkB,GAHAf,EAzGMhH,EAyGNgH,yBACAC,EA1GMjH,EA0GNiH,yBAKF,OACEte,OAAAoF,EAAA,EAAApF,CAAA,QAAM8S,SAAUC,EAAcvO,IAAKF,GAAOC,WACxCvE,OAAAoF,EAAA,EAAApF,CAACqd,GAAD,CACEnP,KAAMA,EACNoO,UAAU,oBACVlO,SAAUA,EACVmO,UAAU,mEACVC,WAAW,+EAGiB,SAA7BxJ,EAAOpR,mBACN5B,OAAAoF,EAAA,EAAApF,CAACyT,EAAD,CACEhN,MAAM,0BACNyF,OAAQ,CACN4D,GAAewO,GACfxO,GAAeuO,KAGhBzM,EAAWlS,IACV,SAAAW,GAKM,IAJJN,EAIIM,EAJJN,kBACAmU,EAGI7T,EAHJ6T,eACA8K,EAEI3e,EAFJ2e,wBACAE,EACI7e,EADJ6e,wBAEA,OACElf,OAAAoF,EAAA,EAAApF,CAAC4T,GAAD,CACEF,IAAK3T,EACLmO,KAAMA,EACNC,KAAMsB,GAA6B1P,GACnCqO,SAAUA,EACVC,WAAY6F,EACZ5F,eAAgB0Q,EAChBzQ,eAAgB2Q,OAQ3B9Q,EACCpO,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,aAGtCzG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC2Y,GAAD,CACE1F,oBAAqBA,EACrB3G,aAAcA,EACd8L,aAAa,yGAiBvB,SAACrE,EAAWC,GAAZ,OAA0BD,EAAU3F,WAAa4F,EAAU5F,WC7L7D,IAAM9J,GAAS,CACbC,UAAWC,YAAI,CACbnF,SAAU,IACV2F,UAAW,KAEbyU,KAAMjV,YAAI,CACRQ,UAAW,GACXE,UAAW,YAIAma,GA5Cf,SAAA5d,GAKU,IAJRgd,EAIQhd,EAJRgd,yBACAjH,EAGQ/V,EAHR+V,4BACAoH,EAEQnd,EAFRmd,oBACAG,EACQtd,EADRsd,wBAEA,OACE/e,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC2Z,GAAD,CACER,eAAe,8BACfC,oBACgC1K,IAA7B+P,EACGA,EAAyBvO,QAAQ,GACjC,MAAQ,KAEdmJ,cAAa,0BAAA5Q,OAAyB+O,GACtC8B,gBAAgB,yBAChBC,qBAC2B7K,IAAxBkQ,EAAoCA,EAAsB,MAC3D,MAEFpF,eAAe,2CAGjBxZ,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOmV,MACbzZ,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAM4P,EAAwB,UAAnD,sCC+FR,SAASO,GAATzd,GAAoE,IAArCkB,EAAqClB,EAArCkB,SAC7B,OACE/C,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,+CACNkC,QAAQ,gIAEPtF,GAKQwc,OArHf,SAAA9d,GAAqD,IAA1BhB,EAA0BgB,EAA1BhB,MAAOqZ,EAAmBrY,EAAnBqY,SAC1BgF,EAAwBxb,sBAC5B,SAAC1C,GAAD,OACEkZ,EAAS,CAAEnZ,KAAM,wBAAyBC,UAC5C,CAACkZ,IAGGiF,EAA0Bzb,sBAC9B,SAACvC,GAAD,OAAsB+Y,EAAS,CAAEnZ,KAAM,0BAA2BI,WAClE,CAAC+Y,IATgD0F,EAmB/Cd,GAAsBje,GANxB8W,EAbiDiI,EAajDjI,8BACAoH,EAdiDa,EAcjDb,8BACA/H,EAfiD4I,EAejD5I,qBACA6H,EAhBiDe,EAgBjDf,yBACAjH,EAjBiDgI,EAiBjDhI,4BACAoH,EAlBiDY,EAkBjDZ,oBAIF,MAAqC,UAAjCne,EAAMO,SAASC,cAEfjB,OAAAoF,EAAA,EAAApF,CAACsf,GAAD,KACEtf,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CAAU7T,MAAM,wFAChBnG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,aAAaF,MAAM,gCAQvC8Q,EAoBqC,UAAxC9W,EAAMW,gBAAgBH,eACrB2V,EAuBD5W,OAAAoF,EAAA,EAAApF,CAACsf,GAAD,KACEtf,OAAAoF,EAAA,EAAApF,CAACia,GAAD,CACEpC,aACE7X,OAAAoF,EAAA,EAAApF,CAACyf,GAAD,CACEZ,+BAAgCF,EAChC/c,kBAAmBnB,EAAMW,gBAAgBQ,kBACzCwM,SAAkD,UAAxC3N,EAAMW,gBAAgBH,cAChC6d,sBAAuBA,EACvBC,wBAAyBA,IAG7BjH,eAC0C,UAAxCrX,EAAMW,gBAAgBH,eACpBjB,OAAAoF,EAAA,EAAApF,CAAC0f,GAAD,CACEjB,yBAA0BA,EAC1BjH,4BAA6BA,EAC7BoH,oBAAqBA,EACrBG,wBAAyBA,OArCjC/e,OAAAoF,EAAA,EAAApF,CAACsf,GAAD,KACEtf,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6DACNpB,KAAK,mFAEP/E,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAM4P,EAAwB,UAAnD,oCAIF/e,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,eAlC1CzG,OAAAoF,EAAA,EAAApF,CAACsf,GAAD,KACEtf,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6DACNpB,KAAK,0JAIP/E,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,gBCpEnCyU,GAA6B,SACxC3Z,EACAoe,EACAC,GAEA,OACEre,QACoBmN,IAApBiR,GACAA,EAAkB,QACqBjR,IAAvCkR,GACAA,EAAqC,GAI5BC,GAAiD,SAC5DjJ,EACAgJ,EACAE,GAH4D,OAK5DlJ,QACuClI,IAAvCkR,QAC8BlR,IAA9BoR,GACAF,GAAsCE,EAClCvd,KAAKiU,IACHrG,GAEK2P,EAA4BF,EAD/B,IAEA,SAGJlR,GAGOuI,GAAa,SACxB8I,GADwB,YAGqBrR,IAA7CqR,EACIA,EAA2C,IACzC,EACA,QACFrR,GAMS,SAASsR,GAAuBvf,GAC7C,IAAMmW,EAAuBsE,GAC3Bza,EAAMqB,iBAAiBP,qBACvBd,EAAMqB,iBAAiB6d,gBACvBlf,EAAMqB,iBAAiB8d,oCAGnBG,EAA2CF,GAC/CjJ,EACAnW,EAAMqB,iBAAiB8d,mCACvBnf,EAAMqB,iBAAiBge,2BAOzB,MAAO,CACLlJ,uBACAmJ,2CACAE,qBAP2BhJ,GAC3B8I,IC1DJ,IAKM3S,GAAW,SAACxJ,GAChB,IAAMyJ,EANS,SAACzJ,GAAD,OAA6BA,EAMtB0J,CAAS1J,GACzB2J,EALa,SAAC3J,GAAD,QACnB4J,OAAOC,MAAMD,OAAO5J,IAIM4I,CAAa5I,GACvC,OAAKyJ,GAAkBE,EAGd,CAAED,SAAUD,EAAeb,aAAce,QAFhD,GA0CJ,IAAMjJ,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfgB,WAAY,UACZb,OAAQ,GACRG,UAAW,KAEb0I,IAAKlJ,YAAI,CACPC,QAAS,OACTC,cAAe,MACfgB,WAAY,aAEdqE,SAAUvF,YAAI,CACZK,OAAQ,GACR0C,cAAe,EACf9C,QAAS,OACTiB,WAAY,WACZE,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOC,QAA/B,QACZoG,SAAU,KAEZ2I,cAAepJ,YAAI,CACjBgD,MAAO7I,EAAaC,OAAOI,MAC3B8J,YAAa,gBAEf2C,QAASjH,YAAI,CACXsE,YAAanK,EAAaC,OAAOE,MAEnC4M,UAAWlH,YAAI,CACbsE,YAAanK,EAAaC,OAAOG,QAEnC8O,UAAWrJ,YAAI,CACbK,OAAQ,GACRJ,QAAS,OACTiB,WAAY,SACZC,eAAgB,WAElBmI,aAActJ,YAAI,CAChBgD,MAAO7I,EAAaC,OAAOE,MAE7BiP,eAAgBvJ,YAAI,CAClBgD,MAAO7I,EAAaC,OAAOG,QAE7BC,MAAOwF,YAAI,CACTC,QAAS,OACTiB,WAAY,SACZb,OAAQ,GACRG,UAAW,EACXwC,MAAO7I,EAAaC,OAAOI,MAC3BiG,SAAU,GACV+I,UAAW,SACXvG,WAAY,OACZ7B,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOI,MAA/B,WAIDkhB,GArFf,SAAAze,GAAiE,IAA3CyM,EAA2CzM,EAA3CyM,KAAMoO,EAAqC7a,EAArC6a,UAAW7V,EAA0BhF,EAA1BgF,MAAO2H,EAAmB3M,EAAnB2M,SACtCtB,EAAQ2B,YAAS6N,EAAWpO,EAAMd,IAClCpO,EAAQoN,EAAcU,EAAMT,MAElC,OACErM,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOoJ,KACf1N,OAAAoF,EAAA,EAAApF,CAAC8J,EAAD,CAAUJ,MAAO,CAACpF,GAAOyF,SAAU/K,GAASsF,GAAOsJ,gBAChDd,EAAMT,KAAKtL,MAAQ,UAAO/B,EAAQ,UAAO,KACzCyH,GAGF2H,EACCpO,OAAAoF,EAAA,EAAApF,CAACyJ,EAAD,CAAMC,MAAO,CAACpF,GAAOuJ,UAAWvJ,GAAOyJ,iBACpCjB,EAAML,MAAM7I,OAGf5D,OAAAoF,EAAA,EAAApF,CAAC+O,EAAD,CAAWjC,MAAOA,EAAOpD,MAAOpF,GAAOoH,aAG1C1M,GACCgB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOtF,OAAjB,yECjCF4R,GAAiB,SAAChN,GAAD,IAAgBiN,EAAhBb,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,QAAoCtB,EAApC,MACX,KAAV9K,EACIiN,EACArD,OAAOC,MAAMD,OAAO5J,IACpBiN,EACAC,SAASlN,EAAO,KAEhBmN,GAAkB,SAACnN,GAAD,YACZ8K,IAAV9K,EAAsB,GAAKoN,OAAOpN,IAgHpC,IAAMU,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,YAIJ+M,kBArHf,SAAAhQ,GAKU,IAJRK,EAIQL,EAJRK,iBACAsM,EAGQ3M,EAHR2M,SACA+R,EAEQ1e,EAFR0e,uBACAC,EACQ3e,EADR2e,yBAEMjO,EAAgB,CACpB5Q,qBAAsByP,OAAOlP,EAAiBP,sBAC9Coe,gBAAiB5O,GAAgBjP,EAAiB6d,iBAClDC,mCAAoC7O,GAClCjP,EAAiB8d,oCAEnBE,0BAA2B/O,GACzBjP,EAAiBge,4BAIfrN,EAAW,SAACC,GAAkB,IAEhCnR,EAIEmR,EAJFnR,qBACAoe,EAGEjN,EAHFiN,gBACAC,EAEElN,EAFFkN,mCACAE,EACEpN,EADFoN,0BAGFK,EAAuB,CACrB5e,qBAA+C,SAAzBA,EACtBoe,gBAAiB/O,GAAe+O,GAChCC,mCAAoChP,GAClCgP,GAEFE,0BAA2BlP,GAAekP,MA1BtClN,EAyCJC,YAAQ,CACVV,gBACAW,SAbe,SAACJ,GAChBD,EAASC,GACT0N,EAAyB,YAIzBlS,EApCM0E,EAoCN1E,KACA8E,EArCMJ,EAqCNI,OACAD,EAtCMH,EAsCNG,aACAE,EAvCML,EAuCNK,oBACA3G,EAxCMsG,EAwCNtG,aAeF,OATA4B,EAAKgF,UACH,SAAArR,GAAuB,IAApBmR,EAAoBnR,EAApBmR,OAAoBnR,EAAZuR,OAEPX,EAASO,IAGb,CAAEA,QAAQ,EAAMI,OAAO,IAIvBpT,OAAAoF,EAAA,EAAApF,CAAA,QAAM8S,SAAUC,EAAcvO,IAAKF,GAAOC,WACxCvE,OAAAoF,EAAA,EAAApF,CAACqd,GAAD,CACEnP,KAAMA,EACNoO,UAAU,uBACVlO,SAAUA,EACVmO,UAAU,iGACVC,WAAW,gHAGoB,SAAhCxJ,EAAOzR,sBACNvB,OAAAoF,EAAA,EAAApF,CAACgK,EAAD,KACEhK,OAAAoF,EAAA,EAAApF,CAACqgB,GAAD,CACEnS,KAAMA,EACNoO,UAAU,kBACV7V,MAAM,4DACN2H,SAAUA,IAEZpO,OAAAoF,EAAA,EAAApF,CAACqgB,GAAD,CACEnS,KAAMA,EACNoO,UAAU,qCACV7V,MAAM,+FACN2H,SAAUA,IAEZpO,OAAAoF,EAAA,EAAApF,CAACqgB,GAAD,CACEnS,KAAMA,EACNoO,UAAU,4BACV7V,MAAM,+HACN2H,SAAUA,KAKfA,EACCpO,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,aAGtCzG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC2Y,GAAD,CACE1F,oBAAqBA,EACrB3G,aAAcA,EACd8L,aAAa,yGAiBvB,SAACrE,EAAWC,GAAZ,OAA0BD,EAAU3F,WAAa4F,EAAU5F,WCzG7D,IAAM9J,GAAS,CACbC,UAAWC,YAAI,CACbnF,SAAU,IACV2F,UAAW,KAEbyU,KAAMjV,YAAI,CACRQ,UAAW,GACXE,UAAW,YAIAob,GAzCf,SAAA7e,GAIU,IAHRse,EAGQte,EAHRse,yCACAE,EAEQxe,EAFRwe,qBACAG,EACQ3e,EADR2e,yBAEA,OACEpgB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC2Z,GAAD,CACER,eAAe,8BACfC,oBACgD1K,IAA7CqR,EACGA,EAAyC7P,QAAQ,GACjD,MAAQ,KAEdoJ,gBAAgB,yBAChBC,qBAC4B7K,IAAzBuR,EAAqCA,EAAuB,MAC7D,QAIJjgB,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOmV,MACbzZ,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMiR,EAAyB,UAApD,sCC+DR,SAASG,GAAT1e,GAAqE,IAArCkB,EAAqClB,EAArCkB,SAC9B,OACE/C,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,uHACNkC,QAAQ,yJAEPtF,GAKQyd,OAjFf,SAAA/e,GAAsD,IAA1BhB,EAA0BgB,EAA1BhB,MAAOqZ,EAAmBrY,EAAnBqY,SAC3BqG,EAAyB7c,sBAC7B,SAAC1C,GAAD,OACEkZ,EAAS,CAAEnZ,KAAM,yBAA0BC,UAC7C,CAACkZ,IAGGsG,EAA2B9c,sBAC/B,SAACvC,GAAD,OAAsB+Y,EAAS,CAAEnZ,KAAM,2BAA4BI,WACnE,CAAC+Y,IATiD2G,EAgBhDT,GAAuBvf,GAHzBmW,EAbkD6J,EAalD7J,qBACAmJ,EAdkDU,EAclDV,yCACAE,EAfkDQ,EAelDR,qBAIF,MAC2C,UAAzCxf,EAAMqB,iBAAiBb,eACtB2V,EAuBD5W,OAAAoF,EAAA,EAAApF,CAACugB,GAAD,KACEvgB,OAAAoF,EAAA,EAAApF,CAACia,GAAD,CACEpC,aACE7X,OAAAoF,EAAA,EAAApF,CAAC0gB,GAAD,CACE5e,iBAAkBrB,EAAMqB,iBACxBsM,SAAmD,UAAzC3N,EAAMqB,iBAAiBb,cACjCkf,uBAAwBA,EACxBC,yBAA0BA,IAG9BtI,eAC2C,UAAzCrX,EAAMqB,iBAAiBb,eACrBjB,OAAAoF,EAAA,EAAApF,CAAC2gB,GAAD,CACEZ,yCACEA,EAEFE,qBAAsBA,EACtBG,yBAA0BA,OArClCpgB,OAAAoF,EAAA,EAAApF,CAACugB,GAAD,KACEvgB,OAAAoF,EAAA,EAAApF,CAAA,WACEA,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6DACNpB,KAAK,mFAEP/E,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMiR,EAAyB,UAApD,oCAIFpgB,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,eAAeF,MAAM,gBCvDhD,IAAMoP,GAA0B,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,IAEpCiB,GAAqC,SAChDhF,EACAD,GAFgD,YAIvBnD,IAAzBoD,QAA+DpD,IAAzBmD,EAClCC,EAAuBD,EACrB,SACAC,EAAuBD,EACvB,SACA,eACFnD,GAEOkS,GAAmD,SAC9D9O,EACAD,GAF8D,YAIrCnD,IAAzBoD,QAA+DpD,IAAzBmD,EAClCtP,KAAKH,IAAI0P,EAAsBD,QAC/BnD,GAGOuI,GAAa,SACxB4J,GADwB,YAGuBnS,IAA/CmS,EACIhL,IAnCS1T,EAqCL0e,EArCkBze,EAsClB,EAtC+BC,EAuC/BwT,GAAwB5F,OAAS,EAtClC1N,KAAKH,IAAIC,EAAKE,KAAKF,IAAID,EAAKD,WAyC/BuM,EA1CN,IAAevM,EAAaC,EAAaC,GAgD1B,SAASye,GAAqBrgB,GAC3C,IAAMsgB,EAA+BjK,GACnCrW,EAAMsB,eAAe+P,qBACrBrR,EAAMsB,eAAe8P,sBAGjBgP,EAA6CD,GACjDngB,EAAMsB,eAAe+P,qBACrBrR,EAAMsB,eAAe8P,sBAOvB,MAAO,CACLkP,+BACAF,6CACAG,mBAPyB/J,GACzB4J,iBCzCEjQ,GAAiB,SAAChN,GAAD,IAAgBiN,EAAhBb,UAAAC,OAAA,QAAAvB,IAAAsB,UAAA,GAAAA,UAAA,QAAoCtB,EAApC,MACX,KAAV9K,EACIiN,EACArD,OAAOC,MAAMD,OAAO5J,IACpBiN,EACAC,SAASlN,EAAO,KAEhBmN,GAAkB,SAACnN,GAAD,YACZ8K,IAAV9K,EAAsB,GAAKoN,OAAOpN,IAE9Bqd,GAAaC,aACjB,CACEpU,MAAO,uBACPqU,QAAS,CACPrP,qBAAsB,SAACsP,EAAD3f,GAAA,IAAgBqQ,EAAhBrQ,EAAgBqQ,qBAAhB,MACJ,KAAhBsP,EACIrQ,GAAgB,GAAKH,GAAewQ,IACpCtP,KAGV,CACEhF,MAAO,uBACPqU,QAAS,CACPtP,qBAAsB,SAACwP,EAADxf,GAAA,IAAgBgQ,EAAhBhQ,EAAgBgQ,qBAAhB,MACJ,KAAhBwP,EACItQ,GAAgB,GAAKH,GAAeyQ,IACpCxP,MAmFZ,IAAMvN,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,YAIJ+M,kBArFf,SAAA5Q,GAKU,IAJRkB,EAIQlB,EAJRkB,eACAqM,EAGQvN,EAHRuN,SACAkT,EAEQzgB,EAFRygB,qBACAC,EACQ1gB,EADR0gB,uBAEMpP,EAAgB,CACpBL,qBAAsBf,GAAgBhP,EAAe+P,sBACrDD,qBAAsBd,GAAgBhP,EAAe8P,uBAGjDY,EAAW,SAACC,GAAkB,IAC1BZ,EAA+CY,EAA/CZ,qBAAsBD,EAAyBa,EAAzBb,qBAE9ByP,EAAqB,CACnBxP,qBAAsBlB,GAAekB,GACrCD,qBAAsBjB,GAAeiB,MAXjCe,EAoB0DC,YAAQ,CACxEV,gBACAW,SAPe,SAACJ,GAChBD,EAASC,GACT6O,EAAuB,YAGjBrT,EApBA0E,EAoBA1E,KAAM6E,EApBNH,EAoBMG,aAAcE,EApBpBL,EAoBoBK,oBAAqB3G,EApBzCsG,EAoByCtG,aAmBjD,OAdA7I,oBAAU,WACR,IAAM+d,EAAcP,GAAW/S,GAC/B,OAAO,kBAAMsT,MACZ,CAACtT,IAEJA,EAAKgF,UACH,SAAApS,GAAuB,IAApBkS,EAAoBlS,EAApBkS,OAAoBlS,EAAZsS,OAEPX,EAASO,IAGb,CAAEA,QAAQ,EAAMI,OAAO,IAIvBpT,OAAAoF,EAAA,EAAApF,CAAA,QAAM8S,SAAUC,EAAcvO,IAAKF,GAAOC,WACxCvE,OAAAoF,EAAA,EAAApF,CAACgK,EAAD,KACEhK,OAAAoF,EAAA,EAAApF,CAACqgB,GAAD,CACEnS,KAAMA,EACNoO,UAAU,uBACV7V,MAAM,qDACN2H,SAAUA,IAEZpO,OAAAoF,EAAA,EAAApF,CAACqgB,GAAD,CACEnS,KAAMA,EACNoO,UAAU,uBACV7V,MAAM,yDACN2H,SAAUA,KAIbA,EACCpO,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAACwJ,EAAD,CAAY7C,GAAG,iBAAiBF,MAAM,aAGxCzG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAC2Y,GAAD,CACE1F,oBAAqBA,EACrB3G,aAAcA,EACd8L,aAAa,yGAiBvB,SAACrE,EAAWC,GAAZ,OAA0BD,EAAU3F,WAAa4F,EAAU5F,WCrF7D,IAAM9J,GAAS,CACbC,UAAWC,YAAI,CACbnF,SAAU,IACV2F,UAAW,KAEbyU,KAAMjV,YAAI,CACRQ,UAAW,GACXE,UAAW,YAIAuc,GAlDf,SAAAhgB,GAKU,IAJRsf,EAIQtf,EAJRsf,6BACAF,EAGQpf,EAHRof,2CACAG,EAEQvf,EAFRuf,mBACAO,EACQ9f,EADR8f,uBAEMlI,OAC6B3K,IAAjCqS,OACIrS,EACiC,YAAjCqS,EACA,+CACiC,WAAjCA,EACA,yCACA,wCACN,OACE/gB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAAC2Z,GAAD,CACER,eAAe,8BACfC,mBACiD1K,IAA/CmS,EACI7P,OAAO6P,GACP,KAENxH,cAAeA,EACfC,gBAAgB,yBAChBC,qBAC0B7K,IAAvBsS,EAAmCA,EAAqB,MAAQ,QAIrEhhB,OAAAoF,EAAA,EAAApF,CAAA,KAAGwE,IAAKF,GAAOmV,MACbzZ,OAAAoF,EAAA,EAAApF,CAAC6T,GAAD,CAAY1E,QAAS,kBAAMoS,EAAuB,UAAlD,sCCyBR,SAASG,GAAT7f,GAAmE,IAArCkB,EAAqClB,EAArCkB,SAC5B,OACE/C,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,iHACNkC,QAAQ,yIAEPtF,GAKQ4e,OAzDf,SAAAlgB,GAAoD,IAA1BhB,EAA0BgB,EAA1BhB,MAAOqZ,EAAmBrY,EAAnBqY,SACzBwH,EAAuBhe,sBAC3B,SAAC1C,GAAD,OACEkZ,EAAS,CAAEnZ,KAAM,uBAAwBC,UAC3C,CAACkZ,IAGGyH,EAAyBje,sBAC7B,SAACvC,GAAD,OAAsB+Y,EAAS,CAAEnZ,KAAM,yBAA0BI,WACjE,CAAC+Y,IAT+C8H,EAgB9Cd,GAAqBrgB,GAHvBsgB,EAbgDa,EAahDb,6BACAF,EAdgDe,EAchDf,2CACAG,EAfgDY,EAehDZ,mBAGF,OACEhhB,OAAAoF,EAAA,EAAApF,CAAC0hB,GAAD,KACE1hB,OAAAoF,EAAA,EAAApF,CAACia,GAAD,CACEpC,aACE7X,OAAAoF,EAAA,EAAApF,CAAC6hB,GAAD,CACE9f,eAAgBtB,EAAMsB,eACtBqM,SAAiD,UAAvC3N,EAAMsB,eAAed,cAC/BqgB,qBAAsBA,EACtBC,uBAAwBA,IAG5BzJ,eACyC,UAAvCrX,EAAMsB,eAAed,eACnBjB,OAAAoF,EAAA,EAAApF,CAAC8hB,GAAD,CACEf,6BAA8BA,EAC9BF,2CACEA,EAEFG,mBAAoBA,EACpBO,uBAAwBA,QCxDzBQ,GAAkB,SAC7BtK,EACAgE,EACAmD,EACAqB,EACAe,GAEA,IAWMgB,QAViBtT,IAArB+I,EAAiC,GAAK,SAEf/I,IAAvB+M,EAAmC,GAAK,SAEhB/M,IAAxBkQ,EAAoC,GAAK,SAEhBlQ,IAAzBuR,EAAqC,GAAK,SAEnBvR,IAAvBsS,EAAmC,GAAK,GAS1C,KAAIgB,EAAuB,IAW3B,OAAO7R,GAA2B,MAN/BsH,GAAoB,IACpBgE,GAAsB,IACtBmD,GAAuB,IACvBqB,GAAwB,IACxBe,GAAsB,IAEgBgB,EAAsB,ICFjE,IAEM1d,GAAS,CACbC,UAAWC,YAAI,CACbgG,SAAU,WAIV/F,QAAS,OACTC,cAAe,QAEjByF,WAAY3F,YAAI,CACdgB,gBAAiB,OACjBgF,SAAU,WACVC,KAAM,GACNC,QAAS,GACTC,MAAO,GACPC,OAAQ,GACRlC,aAAc,OACd5D,OAAQ,sBAGV8T,SAAUpU,YAAI,CACZiB,WAAY,EACZuF,aAAcrM,EAAaO,KAAKC,YAChC8L,YAAatM,EAAaO,KAAKC,YAC/B0L,WAAU,SAAApC,OAAW9J,EAAaC,OAAOC,QAA/B,QACV+G,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOC,QAA/B,UAEdsH,MAAO3B,YAAI,CACTS,SAAU,GACVwC,WAAY,OACZ4D,cAAe,cAGjBjB,SAAU5F,YAAI,CACZgG,SAAU,WACVK,WAAU,SAAApC,OAAW9J,EAAaC,OAAOC,QAA/B,QACV+G,aAAY,SAAA6C,OAAW9J,EAAaC,OAAOC,QAA/B,QACZyI,WAAY,EACZC,cAAe,IAEjBgD,cAAe/F,YAAI,CACjBwG,aA3CY,GA4CZC,YA5CY,KA+CdgX,aAAczd,YAAI,CAChBgG,SAAU,WACV3F,OAAQ,EACRW,gBAAiB7G,EAAaC,OAAOC,QACrC6L,OAAQ,EACRC,MAAOhM,EAAaO,KAAKC,YACzByL,MAAO,QAETsX,WAAY1d,YAAI,CACdgG,SAAU,WACVnL,SAAU,IACV0M,KAAM,EACNjG,WAAYnH,EAAaO,KAAKC,YAC9BsF,QAAS,OACTC,cAAe,YAIJyd,GAvFR,SAAA1gB,GAA6D,IAAxC0E,EAAwC1E,EAAxC0E,MAAiBic,GAAuB3gB,EAAjCsB,SAAiCtB,EAAvB2gB,cACrCzd,EAAQT,EAAgB,GAE9B,OACElE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WAMfvE,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAK,CAACF,GAAOsU,SAAUpU,YAAI,CAAEG,YAChC3E,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO6B,OAAQA,IAG3BnG,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO4d,YACfliB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO2d,eACjBjiB,OAAAoF,EAAA,EAAApF,CAAC2Z,GAAiByI,MCqB1B,IAAM9d,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfM,UAAW,GACXoD,aAAc,MAIHia,GAjDf,SAAA5gB,GAKU,IAJRqG,EAIQrG,EAJRqG,0BACAiP,EAGQtV,EAHRsV,4BACAS,EAEQ/V,EAFR+V,4BACAC,EACQhW,EADRgW,iBAEA,MAAkC,UAA9B3P,EAEA9H,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,8EACNpB,KAAK,sHAOX/E,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACsiB,GAAD,CACEnc,MAAM,8EACNic,aAAc,CACZjJ,eAAgB,8BAChBC,oBACmC1K,IAAhCqI,EACGA,EAA4B7G,QAAQ,GACpC,MAAQ,KACdmJ,cAAa,0BAAA5Q,OAAyB+O,GACtC8B,gBAAiB,yBACjBC,qBACwB7K,IAArB+I,EAAiCA,EAAmB,MAAQ,MAC/D+B,eAAgB,2CAGlBxZ,OAAAoF,EAAA,EAAApF,CAAA,eCoBR,IAAMsE,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfM,UAAW,GACXoD,aAAc,MAIHma,GA9Df,SAAA9gB,GAMU,IALRsG,EAKQtG,EALRsG,4BACAya,EAIQ/gB,EAJR+gB,yBACApH,EAGQ3Z,EAHR2Z,4BACA5D,EAEQ/V,EAFR+V,4BACAiE,EACQha,EADRga,mBAEA,MAAoC,UAAhC1T,EAEA/H,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,oFACNpB,KAAK,sHAMRyd,EAYHxiB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACsiB,GAAD,CACEnc,MAAM,oFACNic,aAAc,CACZjJ,eAAgB,8BAChBC,oBACmC1K,IAAhC0M,EACGA,EAA4BlL,QAAQ,GACpC,MAAQ,KACdmJ,cAAa,0BAAA5Q,OAAyB+O,GACtC8B,gBAAiB,yBACjBC,qBAC0B7K,IAAvB+M,EAAmCA,EAAqB,MACzD,MACFjC,eAAgB,2CAGlBxZ,OAAAoF,EAAA,EAAApF,CAAA,cA3BFA,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,oFACNpB,KAAK,6IC8Bf,IAAMT,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfM,UAAW,GACXoD,aAAc,MAIHqa,GA9Df,SAAAhhB,GAMU,IALRuG,EAKQvG,EALRuG,6BACA0a,EAIQjhB,EAJRihB,0BACAjE,EAGQhd,EAHRgd,yBACAjH,EAEQ/V,EAFR+V,4BACAoH,EACQnd,EADRmd,oBAEA,MAAqC,UAAjC5W,EAEAhI,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6EACNpB,KAAK,sHAMR2d,EAYH1iB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACsiB,GAAD,CACEnc,MAAM,6EACNic,aAAc,CACZjJ,eAAgB,8BAChBC,oBACgC1K,IAA7B+P,EACGA,EAAyBvO,QAAQ,GACjC,MAAQ,KACdmJ,cAAa,0BAAA5Q,OAAyB+O,GACtC8B,gBAAiB,yBACjBC,qBAC2B7K,IAAxBkQ,EAAoCA,EAAsB,MAC3D,MACFpF,eAAgB,2CAGlBxZ,OAAAoF,EAAA,EAAApF,CAAA,cA3BFA,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,6EACNpB,KAAK,sIC0Bf,IAAMT,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfM,UAAW,GACXoD,aAAc,MAIHua,GA3Df,SAAAlhB,GAKU,IAJRwG,EAIQxG,EAJRwG,8BACA2a,EAGQnhB,EAHRmhB,2BACA7C,EAEQte,EAFRse,yCACAE,EACQxe,EADRwe,qBAEA,MAAsC,UAAlChY,EAEAjI,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,uHACNpB,KAAK,sHAMR6d,EAYH5iB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACsiB,GAAD,CACEnc,MAAM,uHACNic,aAAc,CACZjJ,eAAgB,8BAChBC,oBACgD1K,IAA7CqR,EACGA,EAAyC7P,QAAQ,GACjD,MAAQ,KACdoJ,gBAAiB,yBACjBC,qBAC4B7K,IAAzBuR,EAAqCA,EAAuB,MAC7D,QAGJjgB,OAAAoF,EAAA,EAAApF,CAAA,cAzBFA,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,uHACNpB,KAAK,kJC2Bf,IAAMT,GAAS,CACbC,UAAWC,YAAI,CACbC,QAAS,OACTC,cAAe,SACfM,UAAW,GACXoD,aAAc,MAIHya,GA1Df,SAAAphB,GAKU,IAJRyG,EAIQzG,EAJRyG,4BACA6Y,EAGQtf,EAHRsf,6BACAF,EAEQpf,EAFRof,2CACAG,EACQvf,EADRuf,mBAEA,GAAoC,UAAhC9Y,EACF,OACElI,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,iHACNpB,KAAK,sHAMb,IAAMsU,OAC6B3K,IAAjCqS,OACIrS,EACiC,YAAjCqS,EACA,+CACiC,WAAjCA,EACA,yCACA,wCAEN,OACE/gB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOC,WACfvE,OAAAoF,EAAA,EAAApF,CAACsiB,GAAD,CACEnc,MAAM,iHACNic,aAAc,CACZjJ,eAAgB,8BAChBC,mBACiD1K,IAA/CmS,EACI7P,OAAO6P,GACP,KACNxH,gBACAC,gBAAiB,yBACjBC,qBAC0B7K,IAAvBsS,EAAmCA,EAAqB,MACzD,QAGJhhB,OAAAoF,EAAA,EAAApF,CAAA,eC0ER,IAAMsE,GAAS,CACbwe,UAAWte,YAAI,CACbQ,UAAW,GACXoD,aAAc,MCtIH2a,GDyBf,SAAAthB,GAAyC,IAAhBhB,EAAgBgB,EAAhBhB,MAAgBsZ,EAKnC5C,GAAmB1W,GAHrBsW,EAFqCgD,EAErChD,4BAC6BiM,EAHQjJ,EAGrCvC,4BACAC,EAJqCsC,EAIrCtC,iBAJqCgG,EAYnCnC,GAAqB7a,GAJD+hB,EARe/E,EAQrC7G,qBACAwE,EATqCqC,EASrCrC,4BAC6B6H,EAVQxF,EAUrCjG,4BACAiE,EAXqCgC,EAWrChC,mBAXqC+D,EAmBnCd,GAAsBje,GAJFiiB,EAfelD,EAerC5I,qBACA6H,EAhBqCe,EAgBrCf,yBAC6ByE,EAjBQ1D,EAiBrChI,4BACAoH,EAlBqCY,EAkBrCZ,oBAlBqC6B,EAyBnCT,GAAuBvf,GAHHmiB,EAtBenC,EAsBrC7J,qBACAmJ,EAvBqCU,EAuBrCV,yCACAE,EAxBqCQ,EAwBrCR,qBAxBqC2B,EA+BnCd,GAAqBrgB,GAHO0iB,EA5BOvB,EA4BrCb,6BACAF,EA7BqCe,EA6BrCf,2CACAG,EA9BqCY,EA8BrCZ,mBAGIoC,EACiC,UAArC3iB,EAAMS,aAAaD,eACoB,UAAvCR,EAAMU,eAAeF,eACmB,UAAxCR,EAAMW,gBAAgBH,eACmB,UAAzCR,EAAMqB,iBAAiBb,eACgB,UAAvCR,EAAMsB,eAAed,cAEjBoiB,EAAYtB,GAChBtK,EACAgE,EACAmD,EACAqB,EACAe,GAGF,OACEhhB,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CACEpD,MAAM,uDACNkC,QAAQ,kFAERrI,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOwe,WACdM,EACCpjB,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,kCACNpB,KAAI,+BAAA0D,OAA8B4a,EAA9B,UAGNrjB,OAAAoF,EAAA,EAAApF,CAACga,GAAD,CACE7T,MAAM,kCACNpB,KAAK,wGAIX/E,OAAAoF,EAAA,EAAApF,CAACsjB,GAAD,CACExb,0BAA2BrH,EAAMS,aAAaD,cAC9C8V,4BAA6BA,EAC7BS,4BAA6BwL,EAC7BvL,iBAAkBA,IAEpBzX,OAAAoF,EAAA,EAAApF,CAACujB,GAAD,CACExb,4BAA6BtH,EAAMU,eAAeF,cAClDuhB,yBAA0BA,EAC1BpH,4BAA6BA,EAC7B5D,4BAA6ByL,EAC7BxH,mBAAoBA,IAEtBzb,OAAAoF,EAAA,EAAApF,CAACwjB,GAAD,CACExb,6BAA8BvH,EAAMW,gBAAgBH,cACpDyhB,0BAA2BA,EAC3BjE,yBAA0BA,EAC1BjH,4BAA6B0L,EAC7BtE,oBAAqBA,IAEvB5e,OAAAoF,EAAA,EAAApF,CAACyjB,GAAD,CACExb,8BAA+BxH,EAAMqB,iBAAiBb,cACtD2hB,2BAA4BA,EAC5B7C,yCACEA,EAEFE,qBAAsBA,IAExBjgB,OAAAoF,EAAA,EAAApF,CAAC0jB,GAAD,CACExb,4BAA6BzH,EAAMsB,eAAed,cAClD8f,6BAA8BoC,EAC9BtC,2CACEA,EAEFG,mBAAoBA,MEzGb2C,ICnBiBC,GAAsBC,GDmBvCF,GAZf,SAAAliB,GAAwD,IAAhCqiB,EAAgCriB,EAAhCqiB,QACtB,OACE9jB,OAAAoF,EAAA,EAAApF,CAACuJ,EAAD,CAAMpD,MAAM,iEACVnG,OAAAoF,EAAA,EAAApF,CAAC0Y,GAAD,KACE1Y,OAAAoF,EAAA,EAAApF,CAAA,OAAKmP,QAAS,kBAAM2U,EAAQC,WAC1B/jB,OAAAoF,EAAA,EAAApF,CAACoJ,EAAD,CAAQ3C,MAAM,eE0BlBud,GAA6B,CACjCnS,0BAAsBnD,EACtBoD,0BAAsBpD,EACtBsH,oCAAgCtH,EAChCuH,oCAAgCvH,GAG5BuV,ID7C0BL,GC6CAnlB,ED7CsBolB,GC6CR,SAACvjB,GAAD,OAAAN,OAAAC,EAAA,EAAAD,CAAA,CAC5CM,cACG0jB,KD7CsBhkB,OAAOkkB,KAAKN,IAAYlkB,IAC/C,SAACgU,GAAD,OAAckQ,GAAWlQ,KAIYa,OAAO,SAAA4P,GAAC,MAAiB,kBAANA,IAGxCzkB,IAAI,SAAA0kB,GAAC,OAAIP,GAAGO,MCwC1BC,GAAa,CACjBnkB,aAAaF,OAAAskB,EAAA,EAAAtkB,CAAKikB,IAClB3J,4BAAwB5L,EACxB6L,4BAAwB7L,EACxBqP,yBAAqBrP,EACrBsP,yBAAqBtP,GAGjB6V,GAAyB,CAC7B3jB,KAAM,CAACZ,OAAAC,EAAA,EAAAD,CAAA,CAEHD,kBAAmBrB,EAAkBgR,UAClC2U,IAHDrkB,OAAAC,EAAA,EAAAD,CAAA,CAMFD,kBAAmBrB,EAAkBiR,UAClC0U,IAPDrkB,OAAAC,EAAA,EAAAD,CAAA,CAUFD,kBAAmBrB,EAAkBkR,aAClCyU,IAXDrkB,OAAAC,EAAA,EAAAD,CAAA,CAcFD,kBAAmBrB,EAAkBmR,QAClCwU,KAGPrjB,SAAU,CACRC,cAAe,QAEjBC,aAAc,CACZD,cAAe,QAEjBE,eAAgB,CACdF,cAAe,OACfM,sBAAsB,GAExBH,gBAAiB,CACfH,cAAe,OACfW,mBAAmB,GAErBE,iBAAkB,CAChBb,cAAe,OACfM,sBAAsB,EACtBoe,qBAAiBjR,EACjBkR,wCAAoClR,EACpCoR,+BAA2BpR,GAE7B3M,eAAgB,CACdd,cAAe,OACf6Q,0BAAsBpD,EACtBmD,0BAAsBnD,IAIpB8V,GAAqBC,aAAaC,QAAQ,UAC1CC,GAAeH,GACjBI,KAAKC,MAAML,IACXD,GAkIJ,IAAMO,GAA2BC,YAlBjC,SAAAtjB,GAA4E,IAAlDsB,EAAkDtB,EAAlDsB,SAAUtC,EAAwCgB,EAAxChB,MAAOukB,EAAiCvjB,EAAjCujB,SAEzC,OACEhlB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO2gB,KAAMvR,IAAKsR,EAAStR,KACnC1T,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO+C,MACfrH,OAAAoF,EAAA,EAAApF,CAACklB,EAAD,CACErd,sBAAuBpH,EAAMO,SAASC,cACtC6G,0BAA2BrH,EAAMS,aAAaD,cAC9C8G,4BAA6BtH,EAAMU,eAAeF,cAClD+G,6BAA8BvH,EAAMW,gBAAgBH,cACpDgH,8BAA+BxH,EAAMqB,iBAAiBb,cACtDiH,4BAA6BzH,EAAMsB,eAAed,iBAGtDjB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO6gB,MAAOpiB,MAMxBuB,GAAS,CACb8gB,OAAQ5gB,YAAI,CACVuH,KAAM,EACNtH,QAAS,OACTC,cAAe,MACfiB,eAAgB,WAElB0f,WAAY7gB,YAAI,CACdC,QAAS,OACTC,cAAe,SACfwB,SAAU,EACV7G,SAAUV,EAAaO,KAAKG,SAAW,MAEzCimB,YAAa9gB,YAAI,CACfC,QAAS,OACTC,cAAe,SACfC,MAAO,IACPc,WAAY,IAEdwf,KAAMzgB,YAAI,CACR+gB,UAAW,OACX9gB,QAAS,OACTsH,KAAM,EACNvB,SAAU,WACVL,WACE,kFACFW,YAAa,sBAEfzD,KAAM7C,YAAI,CACRgG,SAAU,SACVC,IAAK,EACLhG,QAAS,OACTC,cAAe,SACfiB,eAAgB,SAChB4B,cAAe,KAEjB4d,KAAM3gB,YAAI,CACRuH,KAAM,KAIKyZ,GA3Kf,WAAe,IAAAC,EACaC,qBAAWllB,EAAYmkB,IADpCgB,EAAA3lB,OAAAmD,EAAA,EAAAnD,CAAAylB,EAAA,GACNhlB,EADMklB,EAAA,GACC7L,EADD6L,EAAA,GAGbliB,oBAAU,WACR,IAAMmiB,EAAiBhB,KAAKiB,UAAUplB,GACtCgkB,aAAaqB,QAAQ,SAAUF,IAC9B,CAACnlB,IAEJ,IAAMiR,EAAiBpO,sBACrB,SAAC1C,GAAD,OAA8BkZ,EAAS,CAAEnZ,KAAM,iBAAkBC,UACjE,CAACkZ,IAGGnI,EAAmBrO,sBACvB,SAACvC,GAAD,OAAsB+Y,EAAS,CAAEnZ,KAAM,mBAAoBI,WAC3D,CAAC+Y,IAGH,OACE9Z,OAAAoF,EAAA,EAAApF,CAACkH,EAAA,EAAD,CAAQ6e,SAAS,WACf/lB,OAAAoF,EAAA,EAAApF,CAACgmB,EAAD,KACEhmB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO8gB,QACfplB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAO+gB,YACfrlB,OAAAoF,EAAA,EAAApF,CAACimB,EAAD,MAEAjmB,OAAAoF,EAAA,EAAApF,CAAC8kB,GAAD,CAA0BrkB,MAAOA,GAC/BT,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,KACE9G,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACkf,OAAQ,SAAA5c,GAAK,OAAItJ,OAAAoF,EAAA,EAAApF,CAACmmB,EAAS7c,MACjDtJ,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,aACLmf,OAAQ,SAAA5c,GAAK,OACXtJ,OAAAoF,EAAA,EAAApF,CAAComB,GAADpmB,OAAAO,OAAA,GACM+I,EADN,CAEE7I,MAAOA,EACPiR,eAAgBA,EAChBC,iBAAkBA,QAIxB3R,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,eACLmf,OAAQ,SAAA5c,GAAK,OACXtJ,OAAAoF,EAAA,EAAApF,CAACqmB,GAADrmB,OAAAO,OAAA,GACM+I,EADN,CAEE7I,MAAOA,EACPqZ,SAAUA,QAIhB9Z,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,eACLmf,OAAQ,SAAA5c,GAAK,OACXtJ,OAAAoF,EAAA,EAAApF,CAACsmB,GAADtmB,OAAAO,OAAA,GACM+I,EADN,CAEE7I,MAAOA,EACPqZ,SAAUA,QAIhB9Z,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,eACLmf,OAAQ,SAAA5c,GAAK,OACXtJ,OAAAoF,EAAA,EAAApF,CAACumB,GAADvmB,OAAAO,OAAA,GACM+I,EADN,CAEE7I,MAAOA,EACPqZ,SAAUA,QAIhB9Z,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,eACLmf,OAAQ,SAAA5c,GAAK,OACXtJ,OAAAoF,EAAA,EAAApF,CAACwmB,GAADxmB,OAAAO,OAAA,GACM+I,EADN,CAEE7I,MAAOA,EACPqZ,SAAUA,QAIhB9Z,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,eACLmf,OAAQ,SAAA5c,GAAK,OACXtJ,OAAAoF,EAAA,EAAApF,CAACymB,GAADzmB,OAAAO,OAAA,GACM+I,EADN,CAEE7I,MAAOA,EACPqZ,SAAUA,QAIhB9Z,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CACEC,KAAK,iBACLmf,OAAQ,SAAA5c,GAAK,OAAItJ,OAAAoF,EAAA,EAAApF,CAAC0mB,GAAD1mB,OAAAO,OAAA,GAAmB+I,EAAnB,CAA0B7I,MAAOA,QAEpDT,OAAAoF,EAAA,EAAApF,CAAC8G,EAAA,EAAD,CAAO6f,UAAWhD,QAKxB3jB,OAAAoF,EAAA,EAAApF,CAAA,OAAKwE,IAAKF,GAAOghB,kBCtMPsB,QACW,cAA7BhkB,OAAOoiB,SAAS6B,UAEe,UAA7BjkB,OAAOoiB,SAAS6B,UAEhBjkB,OAAOoiB,SAAS6B,SAAS5f,MACvB,2DCZN6f,IAASZ,OAAOpiB,EAAAC,EAAAC,cAAC+iB,GAAD,MAASC,SAASC,eAAe,SDmI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.3a2f58eb.chunk.js","sourcesContent":["export type AppState = {\n  data: Array<Groupe>;\n  effectif: {\n    formValidated: FormState;\n  };\n  indicateurUn: {\n    formValidated: FormState;\n  };\n  indicateurDeux: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n  };\n  indicateurTrois: {\n    formValidated: FormState;\n    presencePromotion: boolean;\n  };\n  indicateurQuatre: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n    nombreSalariees: number | undefined;\n    nombreSalarieesPeriodeAugmentation: number | undefined;\n    nombreSalarieesAugmentees: number | undefined;\n  };\n  indicateurCinq: {\n    formValidated: FormState;\n    nombreSalariesHommes: number | undefined;\n    nombreSalariesFemmes: number | undefined;\n  };\n};\n\nexport type FormState = \"None\" | \"Valid\" | \"Invalid\";\n\nexport type ActionType =\n  | {\n      type: \"updateEffectif\";\n      data: ActionEffectifData;\n    }\n  | {\n      type: \"validateEffectif\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurUn\";\n      data: ActionIndicateurUnData;\n    }\n  | {\n      type: \"validateIndicateurUn\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurDeux\";\n      data: ActionIndicateurDeuxData;\n    }\n  | {\n      type: \"validateIndicateurDeux\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurTrois\";\n      data: ActionIndicateurTroisData;\n    }\n  | {\n      type: \"validateIndicateurTrois\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurQuatre\";\n      data: ActionIndicateurQuatreData;\n    }\n  | {\n      type: \"validateIndicateurQuatre\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurCinq\";\n      data: ActionIndicateurCinqData;\n    }\n  | {\n      type: \"validateIndicateurCinq\";\n      valid: FormState;\n    };\n\nexport type ActionEffectifData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    nombreSalariesFemmes: number | undefined;\n    nombreSalariesHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurUnData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    remunerationAnnuelleBrutFemmes: number | undefined;\n    remunerationAnnuelleBrutHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurDeuxData = {\n  presenceAugmentation: boolean;\n  tauxAugmentation: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxAugmentationFemmes: number | undefined;\n    tauxAugmentationHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurTroisData = {\n  presencePromotion: boolean;\n  tauxPromotion: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxPromotionFemmes: number | undefined;\n    tauxPromotionHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurQuatreData = {\n  presenceAugmentation: boolean;\n  nombreSalariees: number | undefined;\n  nombreSalarieesPeriodeAugmentation: number | undefined;\n  nombreSalarieesAugmentees: number | undefined;\n};\n\nexport type ActionIndicateurCinqData = {\n  nombreSalariesHommes: number | undefined;\n  nombreSalariesFemmes: number | undefined;\n};\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres\n}\n\nexport interface GroupTranchesAges {\n  trancheAge: TranchesAges;\n  nombreSalariesFemmes: number | undefined;\n  nombreSalariesHommes: number | undefined;\n  remunerationAnnuelleBrutFemmes: number | undefined;\n  remunerationAnnuelleBrutHommes: number | undefined;\n}\n\nexport interface Groupe {\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<GroupTranchesAges>;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    men: \"#90C5C7\",\n    women: \"#8A92D9\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\"\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024\n  }\n};\n\nexport default globalStyles;\n","import {\n  AppState,\n  Groupe,\n  GroupTranchesAges,\n  ActionType,\n  ActionEffectifData,\n  ActionIndicateurUnData\n} from \"./globals.d\";\n\nfunction AppReducer(state: AppState, action: ActionType): AppState {\n  switch (action.type) {\n    case \"updateEffectif\": {\n      return {\n        ...state,\n        data: updateEffectif(state.data, action.data)\n      };\n    }\n    case \"validateEffectif\": {\n      if (action.valid === \"None\") {\n        return {\n          ...state,\n          effectif: { ...state.effectif, formValidated: action.valid },\n          indicateurUn:\n            state.indicateurUn.formValidated === \"Valid\"\n              ? { ...state.indicateurUn, formValidated: \"Invalid\" }\n              : state.indicateurUn,\n          indicateurDeux:\n            state.indicateurDeux.formValidated === \"Valid\"\n              ? { ...state.indicateurDeux, formValidated: \"Invalid\" }\n              : state.indicateurDeux,\n          indicateurTrois:\n            state.indicateurTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurTrois, formValidated: \"Invalid\" }\n              : state.indicateurTrois\n        };\n      }\n      return {\n        ...state,\n        effectif: { ...state.effectif, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurUn\": {\n      return {\n        ...state,\n        data: updateIndicateurUn(state.data, action.data)\n      };\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurDeux\": {\n      const { tauxAugmentation, presenceAugmentation } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxAugmentation.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurDeux: { ...state.indicateurDeux, presenceAugmentation }\n      };\n    }\n    case \"validateIndicateurDeux\": {\n      return {\n        ...state,\n        indicateurDeux: { ...state.indicateurDeux, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurTrois\": {\n      const { tauxPromotion, presencePromotion } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxPromotion.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurTrois: { ...state.indicateurTrois, presencePromotion }\n      };\n    }\n    case \"validateIndicateurTrois\": {\n      return {\n        ...state,\n        indicateurTrois: {\n          ...state.indicateurTrois,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          formValidated: action.valid\n        }\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction updateEffectif(\n  stateData: AppState[\"data\"],\n  actionData: ActionEffectifData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nfunction updateIndicateurUn(\n  stateData: AppState[\"data\"],\n  actionData: ActionIndicateurUnData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nexport default AppReducer;\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useContext,\n  ReactNode\n} from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\nconst { grid } = globalStyles;\n\nconst gutterCount = grid.columns + 1;\nconst totalGuttersWidth = gutterCount * grid.gutterWidth;\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\nfunction getColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth);\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth;\n  const columnWidth = availableWidthWithoutGutters / 12;\n  return Math.floor(columnWidth);\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: getColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth\n});\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(\n    getColumnWidth(window.innerWidth)\n  );\n\n  const handleResize = useCallback(\n    (event: any) =>\n      setColumnWidth(getColumnWidth(event.currentTarget.innerWidth)),\n    [setColumnWidth]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth\n    }),\n    [columnWidth]\n  );\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>;\n}\n\nexport default GridProvider;\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext);\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext();\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nfunction Logo() {\n  return (\n    <div css={styles.container}>\n      <img css={styles.image} src={process.env.PUBLIC_URL + \"/marianne.png\"} />\n      <span css={styles.text}>ministère du travail</span>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 76\n  }),\n  image: css({\n    display: \"block\",\n    width: 76,\n    height: 46,\n    border: \"solid black 1px\"\n  }),\n  text: css({\n    marginTop: 3,\n    fontSize: 9,\n    textAlign: \"center\"\n  })\n};\n\nexport default Logo;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\nimport Logo from \"./Logo\";\n\nfunction Header() {\n  const width = useColumnsWidth(2);\n  return (\n    <header css={styles.header}>\n      <div css={[styles.headerLeft, css({ width })]}>\n        <div css={styles.containerLogo}>\n          <Logo />\n        </div>\n      </div>\n      <div css={styles.headerInner}>\n        <p css={styles.title}>Egapro</p>\n        <p css={styles.subtitle}>\n          L'outil de simulation en ligne de vos indicateurs\n        </p>\n      </div>\n    </header>\n  );\n}\n\nconst styles = {\n  header: css({\n    backgroundColor: \"#FFF\",\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\"\n  }),\n  headerLeft: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  containerLogo: css({\n    marginLeft: \"auto\",\n    marginRight: 25\n  }),\n  headerInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    alignItems: \"baseline\"\n  }),\n  title: css({\n    fontFamily: \"'Gabriela', serif\",\n    marginRight: 24,\n    fontSize: 24\n  }),\n  subtitle: css({\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 12\n  })\n};\n\nexport default Header;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport { FormState } from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\ninterface CustomNavLinkProps {\n  title: string;\n  label?: string;\n  valid?: FormState;\n  to: string;\n  activeOnlyWhenExact?: boolean;\n}\n\nfunction CustomNavLink({\n  title,\n  label,\n  valid = \"None\",\n  to,\n  activeOnlyWhenExact = false\n}: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      children={({ match }) => (\n        <Link to={to} css={[styles.link, match && styles.activeLink]}>\n          <span>\n            {valid === \"Valid\" ? \"✓ \" : valid === \"Invalid\" ? \"✕ \" : \"\"}\n            {title}\n          </span>\n          <br />\n          {label && <span>{label}</span>}\n        </Link>\n      )}\n    />\n  );\n}\n\ninterface Props {\n  effectifFormValidated: FormState;\n  indicateurUnFormValidated: FormState;\n  indicateurDeuxFormValidated: FormState;\n  indicateurTroisFormValidated: FormState;\n  indicateurQuatreFormValidated: FormState;\n  indicateurCinqFormValidated: FormState;\n}\n\nfunction Menu({\n  effectifFormValidated,\n  indicateurUnFormValidated,\n  indicateurDeuxFormValidated,\n  indicateurTroisFormValidated,\n  indicateurQuatreFormValidated,\n  indicateurCinqFormValidated\n}: Props) {\n  const width = useColumnsWidth(2);\n\n  return (\n    <div css={[styles.menu, css({ width })]}>\n      <CustomNavLink\n        to=\"/effectifs\"\n        title=\"effectif\"\n        valid={effectifFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur1\"\n        title=\"indicateur 1\"\n        label=\"écart de rémunération\"\n        valid={indicateurUnFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur2\"\n        title=\"indicateur 2\"\n        label=\"écart d’augmentation\"\n        valid={indicateurDeuxFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur3\"\n        title=\"indicateur 3\"\n        label=\"écart de promotions\"\n        valid={indicateurTroisFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur4\"\n        title=\"indicateur 4\"\n        label=\"congé maternité\"\n        valid={indicateurQuatreFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur5\"\n        title=\"indicateur 5\"\n        label=\"hautes rémunérations\"\n        valid={indicateurCinqFormValidated}\n      />\n      <CustomNavLink to=\"/recapitulatif\" title=\"récapitulatif\" />\n    </div>\n  );\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  link: css({\n    paddingTop: 7,\n    paddingBottom: 7,\n    color: globalStyles.colors.default,\n    fontSize: 12,\n    lineHeight: \"15px\",\n    textDecoration: \"none\",\n    \":hover\": {\n      color: globalStyles.colors.women\n    }\n  }),\n  activeLink: css({\n    color: globalStyles.colors.women\n  })\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  title: string;\n  tagline?: string;\n  children: ReactNode;\n}\n\nfunction Page({ title, tagline, children }: Props) {\n  return (\n    <div css={styles.page}>\n      <p css={styles.title}>{title}</p>\n      {tagline && <p css={styles.tagline}>{tagline}</p>}\n      {children}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  tagline: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  })\n};\n\nexport default Page;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction Button({ label, outline = false, error = false }: Props) {\n  return (\n    <div\n      css={[\n        styles.button,\n        outline && styles.buttonOutline,\n        error && styles.buttonError\n      ]}\n    >\n      {label}\n    </div>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 36,\n    minWidth: 110,\n    padding: \"0 10px\",\n    backgroundColor: globalStyles.colors.women,\n    color: \"#FFF\",\n    border: `solid ${globalStyles.colors.women} 1px`,\n    borderRadius: 5,\n    cursor: \"pointer\"\n  }),\n  buttonOutline: css({\n    color: globalStyles.colors.women,\n    backgroundColor: \"#FFF\"\n  }),\n  buttonError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n    backgroundColor: \"#FFF\"\n  })\n};\n\nexport default Button;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction ButtonLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.button}>\n      <Button label={label} />\n    </Link>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"inline-flex\",\n    textDecoration: \"none\"\n  })\n};\n\nexport default ButtonLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport Page from \"../components/Page\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <Page\n      title=\"Bienvenue sur Egapro\"\n      tagline=\"5 indicateurs pour résorber les inégalités entre les femmes et les hommes en entreprise.\"\n    >\n      <div css={styles.action}>\n        <ButtonLink to=\"/effectifs\" label=\"commencer la simulation\" />\n      </div>\n    </Page>\n  );\n}\n\nconst styles = {\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 18\n  })\n};\n\nexport default Home;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  style?: any;\n  children?: ReactNode;\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>;\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>;\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>;\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2\n  })\n};\n\nexport { Cell, Cell2, CellHead };\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Fragment, ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\n\ninterface Props {\n  title?: string;\n  label?: string;\n  footer?: string | [string, string];\n  children: ReactNode;\n  style?: any;\n}\n\nfunction BlocForm({ title, label, footer, children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellMen}>hommes</Cell>\n          <Cell style={styles.cellWomen}>femmes</Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <div css={styles.rowFootTotal}>total</div>\n            {typeof footer === \"string\" ? (\n              <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            ) : (\n              <Fragment>\n                <Cell style={styles.rowFootCell}>{footer[0]}</Cell>\n                <Cell style={styles.rowFootCell}>{footer[1]}</Cell>\n              </Fragment>\n            )}\n\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport function BlocFormLight({\n  children,\n  superLight = false\n}: {\n  children: ReactNode;\n  superLight?: boolean;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div\n        css={[\n          styles.blocForm,\n          styles.blocFormLight,\n          superLight && styles.blocFormSuperLight\n        ]}\n      >\n        <div css={styles.blocFormInner}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8\n  }),\n  blocFormLight: css({\n    borderRight: \"none\"\n  }),\n  blocFormSuperLight: css({\n    borderBottom: \"none\"\n  }),\n\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\"\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 11,\n    textAlign: \"center\"\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12\n  }),\n  cellMen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.women\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootTotal: css({\n    fontSize: 14,\n    marginLeft: 8\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flex: 1\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0\n  })\n};\n\nexport default BlocForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { FieldRenderProps } from \"react-final-form-hooks\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { Cell } from \"./Cell\";\n\nexport const hasFieldError = (meta: FieldRenderProps[\"meta\"]) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && meta.error.mustBeNumber);\n\ninterface Props {\n  field: FieldRenderProps;\n  style?: any;\n}\n\nfunction CellInput({\n  field: {\n    input: { value, ...inputProps },\n    meta\n  },\n  style\n}: Props) {\n  const error = hasFieldError(meta);\n  return (\n    <Cell style={styles.cell}>\n      <input\n        css={[styles.input, style, error && styles.inputError]}\n        autoComplete=\"off\"\n        value={error && !meta.active ? \"erreur\" : value}\n        {...inputProps}\n      />\n    </Cell>\n  );\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\"\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error\n  })\n};\n\nexport default CellInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  name: string;\n  calculable: boolean;\n  femmeFieldName: string;\n  hommeFieldName: string;\n}\n\nfunction FieldInputsMenWomen({\n  form,\n  name,\n  readOnly,\n  calculable,\n  femmeFieldName,\n  hommeFieldName\n}: Props) {\n  const femmesField = useField(\n    femmeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n  const hommesField = useField(\n    hommeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n\n  const femmesError = hasFieldError(femmesField.meta);\n  const hommesError = hasFieldError(hommesField.meta);\n  const error = femmesError || hommesError;\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[\n            styles.cellHead,\n            !calculable && styles.cellHeadInvalid,\n            error && calculable && styles.cellHeadError\n          ]}\n        >\n          {femmesField.meta.valid && hommesField.meta.valid\n            ? calculable\n              ? \"✓ \"\n              : \"✕ \"\n            : error\n            ? \"✕ \"\n            : null}\n          {name}\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {hommesField.input.value}\n            </Cell>\n\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {femmesField.input.value}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={hommesField} style={styles.cellMen} />\n\n            <CellInput field={femmesField} style={styles.cellWomen} />\n          </React.Fragment>\n        ) : (\n          <Cell2 css={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de 10 femmes ou 10 hommes\n        </div>\n      )}\n      {error && calculable && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cell2: css({\n    textAlign: \"center\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInputsMenWomen;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction ButtonSubmit({ label, outline = false, error = false }: Props) {\n  return (\n    <button type=\"submit\" css={styles.button}>\n      <Button label={label} outline={outline} error={error} />\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\"\n  })\n};\n\nexport default ButtonSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  onClick: () => void;\n}\n\nfunction ActionLink({ children, onClick }: Props) {\n  return (\n    <button css={styles.button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\"\n  })\n};\n\nexport default ActionLink;\n","import { TranchesAges, CategorieSocioPro } from \"../globals.d\";\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\";\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\";\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\";\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayNameCategorieSocioPro(\n  categorieSocioPro: CategorieSocioPro\n): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\";\n    case CategorieSocioPro.Employes:\n      return \"employés\";\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\";\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayPercent(num: number, digits: number = 2): string {\n  return (num * 100).toFixed(digits) + \"%\";\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal);\n  return Math.round(num * mult) / mult;\n};\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5);\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  AppState,\n  FormState,\n  CategorieSocioPro,\n  TranchesAges,\n  GroupTranchesAges,\n  ActionEffectifData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  updateEffectif: (data: ActionEffectifData) => void;\n  validateEffectif: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"nombreSalaries\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction GroupEffectif({ state, updateEffectif, validateEffectif }: Props) {\n  const infoFields = state.data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            nbSalarieFemmeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            nbSalarieFemmeValue: parseStateValue(nombreSalariesFemmes),\n            nbSalarieHommeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            nbSalarieHommeValue: parseStateValue(nombreSalariesHommes)\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          nbSalarieFemmeName,\n          nbSalarieFemmeValue,\n          nbSalarieHommeName,\n          nbSalarieHommeValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [nbSalarieFemmeName]: nbSalarieFemmeValue,\n          [nbSalarieHommeName]: nbSalarieHommeValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionEffectifData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => ({\n            trancheAge,\n            nombreSalariesFemmes: parseFormValue(formData[nbSalarieFemmeName]),\n            nombreSalariesHommes: parseFormValue(formData[nbSalarieHommeName])\n          })\n        )\n      })\n    );\n    updateEffectif(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateEffectif(\"Valid\");\n  };\n\n  const {\n    form,\n    handleSubmit,\n    values,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.page}>\n      <p css={styles.blocTitle}>Indication des effectifs</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez le nombre d’effectifs par catégorie socio-professionnelle\n        (CSP) et par tranche d’âge.\n      </p>\n\n      <form onSubmit={handleSubmit} css={[styles.bloc, css({ width })]}>\n        {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n          const totalNbSalarie = tranchesAges.reduce(\n            (acc, { nbSalarieFemmeName, nbSalarieHommeName }) => {\n              return (\n                acc +\n                parseFormValue(values[nbSalarieFemmeName], 0) +\n                parseFormValue(values[nbSalarieHommeName], 0)\n              );\n            },\n            0\n          );\n          return (\n            <BlocForm\n              key={categorieSocioPro}\n              title={displayNameCategorieSocioPro(categorieSocioPro)}\n              label=\"nombre de salariés\"\n              footer={String(totalNbSalarie)}\n            >\n              {tranchesAges.map(\n                ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => {\n                  return (\n                    <FieldInputsMenWomen\n                      key={trancheAge}\n                      readOnly={state.effectif.formValidated === \"Valid\"}\n                      form={form}\n                      name={displayNameTranchesAges(trancheAge)}\n                      calculable={true}\n                      femmeFieldName={nbSalarieFemmeName}\n                      hommeFieldName={nbSalarieHommeName}\n                    />\n                  );\n                }\n              )}\n            </BlocForm>\n          );\n        })}\n\n        {state.effectif.formValidated === \"Valid\" ? (\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur1\" label=\"suivant\" />\n            <ActionLink onClick={() => validateEffectif(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </div>\n        ) : (\n          <div css={styles.action}>\n            <div\n              css={css({ flexDirection: \"column\", alignItems: \"flex-start\" })}\n            >\n              <ButtonSubmit\n                label=\"valider\"\n                outline={hasValidationErrors}\n                error={submitFailed && hasValidationErrors}\n              />\n              {submitFailed && hasValidationErrors && (\n                <p css={styles.actionError}>\n                  vous ne pouvez pas valider les effectifs\n                  <br />\n                  tant que vous n’avez pas rempli tous les champs\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n\n      {state.effectif.formValidated === \"Valid\" &&\n        state.indicateurUn.formValidated === \"Invalid\" && (\n          <div css={styles.indicatorInvalid}>\n            <p css={styles.indicatorInvalidTitle}>\n              Vos effectifs ont été modifiés\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              afin de s'assurer de la cohérence de votre index, merci de\n              vérifier les données de vos indicateurs.\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              <Link to=\"/indicateur1\" css={styles.indicatorInvalidLink}>\n                aller à l'indicateur 1\n              </Link>\n            </p>\n          </div>\n        )}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  }),\n\n  indicatorInvalid: css({\n    padding: 16,\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  indicatorInvalidTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  indicatorInvalidText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  indicatorInvalidLink: css({\n    color: globalStyles.colors.default,\n    textDecoration: \"underline\"\n  })\n};\n\nexport default memo(\n  GroupEffectif,\n  (prevProps, nextProps) =>\n    prevProps.state.effectif.formValidated ===\n    nextProps.state.effectif.formValidated\n);\n","import { GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100;\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nconst calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0);\n\n// EP\nconst calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal(\n        (ecartPourcentage * effectifsValides) / totalEffectifsValides,\n        3\n      )\n    : undefined;\n\nexport const calculEcartsPonderesParGroupe = (\n  findEcartPourcentage: (groupEffectifEtEcartAugment: {\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }) => number | undefined\n) => (\n  groupEffectifEtEcart: Array<{\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }>,\n  totalEffectifsValides: number\n) =>\n  groupEffectifEtEcart\n    .filter(({ validiteGroupe }) => validiteGroupe)\n    .map(effectifEtEcart => {\n      const { validiteGroupe, effectifsValides } = effectifEtEcart;\n      const ecartPourcentage = findEcartPourcentage(effectifEtEcart);\n      // EP\n      const ecartPondere = calculEcartPondere(\n        validiteGroupe,\n        ecartPourcentage,\n        effectifsValides,\n        totalEffectifsValides\n      );\n\n      return ecartPondere;\n    });\n\n// TEP\nexport const calculTotalEcartPondere = (\n  tableauEcartsPonderes: Array<number | undefined>\n): number | undefined =>\n  tableauEcartsPonderes.length === 0 ||\n  tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter(ecartPondere => ecartPondere !== undefined)\n          .reduce(\n            (acc, val) => (acc || 0) + (val !== undefined ? val : 0),\n            undefined\n          ) || 0,\n        3\n      );\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number;\n  nombreSalariesHommes: number;\n  validiteGroupe: boolean;\n  effectifsValides: number;\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAges,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0;\n  nombreSalariesHommes = nombreSalariesHommes || 0;\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAges>,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  const {\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  } = tranchesAges.reduce(\n    (\n      { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => ({\n      nombreSalariesFemmesGroupe:\n        nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe:\n        nombreSalariesHommesGroupe + (nombreSalariesHommes || 0)\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 }\n  );\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes\n  } = groupEffectif.reduce(\n    (\n      { totalNombreSalariesFemmes, totalNombreSalariesHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => {\n      return {\n        totalNombreSalariesFemmes:\n          totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes:\n          totalNombreSalariesHommes + nombreSalariesHommes\n      };\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0 //TNBH\n    }\n  );\n\n  // TNB\n  const totalNombreSalaries =\n    totalNombreSalariesFemmes + totalNombreSalariesHommes;\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce(\n    (acc, { effectifsValides }) => acc + effectifsValides,\n    0\n  );\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  };\n};\n\n// IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide;\n","import {\n  AppState,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges\n} from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinence = 5 / 100;\n\nconst baremeEcartRemuneration = [\n  40,\n  39,\n  38,\n  37,\n  36,\n  35,\n  34,\n  33,\n  31,\n  29,\n  27,\n  25,\n  23,\n  21,\n  19,\n  17,\n  14,\n  11,\n  8,\n  5,\n  2,\n  0\n];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3;\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) /\n          remunerationAnnuelleBrutHommes,\n        3\n      )\n    : undefined;\n\n// ESP\nexport const calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) *\n          Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        3\n      )\n    : undefined;\n\ninterface effectifEtEcartRemuGroup extends effectifGroup {\n  trancheAge: TranchesAges;\n  remunerationAnnuelleBrutFemmes: number;\n  remunerationAnnuelleBrutHommes: number;\n  ecartRemunerationMoyenne: number | undefined;\n  ecartApresApplicationSeuilPertinence: number | undefined;\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAge = (\n  state: Array<Groupe>\n): Array<effectifEtEcartRemuGroup> => {\n  const dataByRow = state.reduce(\n    (acc: Array<GroupTranchesAges>, group) => acc.concat(group.tranchesAges),\n    []\n  );\n\n  const computedDataByRow = dataByRow.map(\n    (groupTrancheAge: GroupTranchesAges) => {\n      const remunerationAnnuelleBrutFemmes =\n        groupTrancheAge.remunerationAnnuelleBrutFemmes || 0;\n      const remunerationAnnuelleBrutHommes =\n        groupTrancheAge.remunerationAnnuelleBrutHommes || 0;\n\n      const effectifs = rowEffectifsParTrancheAge(\n        groupTrancheAge,\n        calculValiditeGroupe\n      );\n\n      // ERM\n      const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes\n      );\n      // ESP\n      const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinence(\n        ecartRemunerationMoyenne\n      );\n\n      return {\n        ...effectifs,\n        trancheAge: groupTrancheAge.trancheAge,\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes,\n        ecartRemunerationMoyenne,\n        ecartApresApplicationSeuilPertinence\n      };\n    }\n  );\n\n  return computedDataByRow;\n};\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) =>\n    ecartApresApplicationSeuilPertinence\n);\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartRemuneration: number | undefined\n): \"hommes\" | \"femmes\" | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? Math.sign(indicateurEcartRemuneration) < 0\n      ? \"femmes\"\n      : \"hommes\"\n    : undefined;\n\nexport const calculIndicateurEcartRemunerationAbsolute = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? Math.abs(indicateurEcartRemuneration)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartRemuneration))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurUn(state: AppState) {\n  const effectifEtEcartRemuParTranche = calculEffectifsEtEcartRemuParTrancheAge(\n    state.data\n  );\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(\n    effectifEtEcartRemuParTranche\n  );\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(\n    effectifEtEcartRemuParTranche,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    effectifsIndicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartRemunerationAbsolute = calculIndicateurEcartRemunerationAbsolute(\n    indicateurEcartRemuneration\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartRemuneration\n  );\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemuneration);\n\n  return {\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration: indicateurEcartRemunerationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\n\ninterface Props {\n  childrenForm: ReactNode;\n  childrenResult: ReactNode;\n}\n\nfunction LayoutFormAndResult({ childrenForm, childrenResult }: Props) {\n  const width = useColumnsWidth(4);\n  return (\n    <div css={styles.body}>\n      <div css={css({ width })}>{childrenForm}</div>\n      <div css={styles.result}>{childrenResult}</div>\n    </div>\n  );\n}\n\nconst styles = {\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  result: css({\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default LayoutFormAndResult;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\ninterface Props {\n  title: string;\n  text?: string;\n}\n\nfunction InfoBloc({ title, text }: Props) {\n  return (\n    <div css={styles.bloc}>\n      <p css={styles.blocTitle}>{title}</p>\n      {text && <p css={styles.blocText}>{text}</p>}\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    padding: 16,\n    backgroundColor: \"#FFF\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  blocText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nexport default InfoBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction ActionBar({ children }: Props) {\n  return <div css={styles.actionBar}>{children}</div>;\n}\n\nconst styles = {\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 46,\n    marginBottom: 36\n  })\n};\n\nexport default ActionBar;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport ButtonSubmit from \"../components/ButtonSubmit\";\n\ninterface Props {\n  submitFailed: boolean;\n  hasValidationErrors: boolean;\n  errorMessage: string;\n}\n\nfunction FormSubmit({\n  submitFailed,\n  hasValidationErrors,\n  errorMessage\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ButtonSubmit\n        label=\"valider\"\n        outline={hasValidationErrors}\n        error={submitFailed && hasValidationErrors}\n      />\n      {submitFailed && hasValidationErrors && (\n        <p css={styles.error}>{errorMessage}</p>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\"\n  }),\n  error: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default FormSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  CategorieSocioPro,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges,\n  ActionIndicateurUnData,\n  FormState\n} from \"../globals.d\";\n\nimport { calculValiditeGroupe } from \"../utils/calculsEgaProIndicateurUn\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props {\n  data: Array<Groupe>;\n  readOnly: boolean;\n  updateIndicateurUn: (data: ActionIndicateurUnData) => void;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string =>\n  \"remunerationAnnuelleBrut\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurUnForm({\n  data,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const infoFields = data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes,\n          remunerationAnnuelleBrutFemmes,\n          remunerationAnnuelleBrutHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            calculable: calculValiditeGroupe(\n              nombreSalariesFemmes || 0,\n              nombreSalariesHommes || 0\n            ),\n            remunerationAnnuelleBrutFemmesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            remunerationAnnuelleBrutFemmesValue: parseStateValue(\n              remunerationAnnuelleBrutFemmes\n            ),\n            remunerationAnnuelleBrutHommesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            remunerationAnnuelleBrutHommesValue: parseStateValue(\n              remunerationAnnuelleBrutHommes\n            )\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          remunerationAnnuelleBrutFemmesName,\n          remunerationAnnuelleBrutFemmesValue,\n          remunerationAnnuelleBrutHommesName,\n          remunerationAnnuelleBrutHommesValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [remunerationAnnuelleBrutFemmesName]: remunerationAnnuelleBrutFemmesValue,\n          [remunerationAnnuelleBrutHommesName]: remunerationAnnuelleBrutHommesValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurUnData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmesName,\n            remunerationAnnuelleBrutHommesName\n          }) => ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseFormValue(\n              formData[remunerationAnnuelleBrutFemmesName]\n            ),\n            remunerationAnnuelleBrutHommes: parseFormValue(\n              formData[remunerationAnnuelleBrutHommesName]\n            )\n          })\n        )\n      })\n    );\n    updateIndicateurUn(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurUn(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n        return (\n          <BlocForm\n            key={categorieSocioPro}\n            title={displayNameCategorieSocioPro(categorieSocioPro)}\n            label=\"rémunération moyenne\"\n          >\n            {tranchesAges.map(\n              ({\n                trancheAge,\n                calculable,\n                remunerationAnnuelleBrutFemmesName,\n                remunerationAnnuelleBrutHommesName\n              }) => {\n                return (\n                  <FieldInputsMenWomen\n                    key={trancheAge}\n                    form={form}\n                    name={displayNameTranchesAges(trancheAge)}\n                    readOnly={readOnly}\n                    calculable={calculable}\n                    femmeFieldName={remunerationAnnuelleBrutFemmesName}\n                    hommeFieldName={remunerationAnnuelleBrutHommesName}\n                  />\n                );\n              }\n            )}\n          </BlocForm>\n        );\n      })}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurUnForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nexport interface Props {\n  firstLineLabel: string;\n  firstLineData: string;\n  firstLineInfo?: string;\n  secondLineLabel: string;\n  secondLineData: string;\n  secondLineInfo?: string;\n}\n\nfunction ResultBubble({\n  firstLineLabel,\n  firstLineData,\n  firstLineInfo,\n  secondLineLabel,\n  secondLineData,\n  secondLineInfo\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.bloc}>\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{firstLineLabel} </span>\n            <span css={styles.messageData}>{firstLineData}</span>\n          </p>\n          {firstLineInfo && <p css={styles.info}>{firstLineInfo}</p>}\n        </div>\n\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{secondLineLabel} </span>\n            <span css={styles.messageData}>{secondLineData}</span>\n          </p>\n          {secondLineInfo && <p css={styles.info}>{secondLineInfo}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    width: \"100%\",\n    position: \"relative\",\n    height: 0,\n    paddingTop: \"100%\"\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\"\n  }),\n  blocInfo: css({\n    borderBottom: \"1px solid #FFFFFF\"\n  }),\n  message: css({\n    marginBottom: 2,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  messageLabel: css({\n    marginRight: \"auto\"\n  }),\n  messageData: css({\n    fontWeight: \"bold\"\n  }),\n  info: css({\n    marginTop: 7,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\"\n  })\n};\n\nexport default ResultBubble;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurUn: number | undefined;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartRemuneration !== undefined\n            ? indicateurEcartRemuneration.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurUn(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurUnResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurUnData\n} from \"../globals.d\";\n\nimport calculIndicateurUn from \"../utils/calculsEgaProIndicateurUn\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport IndicateurUnForm from \"./IndicateurUnForm\";\nimport IndicateurUnResult from \"./IndicateurUnResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurUn({ state, dispatch }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnData) =>\n      dispatch({ type: \"updateIndicateurUn\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn\n  } = calculIndicateurUn(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  return (\n    <PageIndicateurUn>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurUnForm\n            data={state.data}\n            readOnly={state.indicateurUn.formValidated === \"Valid\"}\n            updateIndicateurUn={updateIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n        }\n        childrenResult={\n          state.indicateurUn.formValidated === \"Valid\" && (\n            <IndicateurUnResult\n              indicateurEcartRemuneration={indicateurEcartRemuneration}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurUn={noteIndicateurUn}\n              validateIndicateurUn={validateIndicateurUn}\n            />\n          )\n        }\n      />\n    </PageIndicateurUn>\n  );\n}\n\nfunction PageIndicateurUn({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 1, écart de rémunération\"\n      tagline=\"Renseignez la rémunération (annuelle / mensuelle) moyenne des femmes et\n        des hommes par CSP et par tranche d’âge.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurUn;\n","import { AppState, CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10;\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number,\n  tauxAugmentationHommes: number\n): number | undefined =>\n  tauxAugmentationFemmes >= 0 && tauxAugmentationHommes >= 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 3)\n    : undefined;\n\nexport interface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  ecartTauxAugmentation: number | undefined;\n}\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartAugmentGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes || 0,\n        tauxAugmentationHommes || 0\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxAugmentationFemmes,\n    sommeProduitTauxAugmentationHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      {\n        sommeProduitTauxAugmentationFemmes,\n        sommeProduitTauxAugmentationHommes\n      },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes +\n          (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes +\n          (tauxAugmentationHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0\n    }\n  );\n\n  // TTAF\n  const totalTauxAugmentationFemmes =\n    sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes;\n\n  // TTAH\n  const totalTauxAugmentationHommes =\n    sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number\n): boolean =>\n  presenceAugmentation &&\n  calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  ) &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0);\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartAugmentation: number | undefined\n): \"hommes\" | \"femmes\" | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? Math.sign(indicateurEcartAugmentation) < 0\n      ? \"femmes\"\n      : \"hommes\"\n    : undefined;\n\nexport const calculIndicateurEcartAugmentationAbsolute = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? Math.abs(indicateurEcartAugmentation)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? baremEcartAugmentation[\n        Math.min(\n          baremEcartAugmentation.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartAugmentation))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurDeux(state: AppState) {\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurDeux.presenceAugmentation,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  );\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartAugmentationAbsolute = calculIndicateurEcartAugmentationAbsolute(\n    indicateurEcartAugmentation\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartAugmentation\n  );\n\n  // NOTE\n  const noteIndicateurDeux = calculNote(indicateurEcartAugmentation);\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation: indicateurEcartAugmentationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField, FieldRenderProps } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nfunction RadioField({\n  field: { input },\n  label,\n  value,\n  disabled\n}: {\n  field: FieldRenderProps;\n  label: string;\n  value: string;\n  disabled: boolean;\n}) {\n  const checked = input.value === value;\n  return (\n    <label css={styles.label}>\n      <input\n        css={styles.radio}\n        {...input}\n        type=\"radio\"\n        value={value}\n        checked={checked}\n        disabled={disabled}\n      />\n      <div css={[styles.fakeRadio, checked && styles.fakeRadioChecked]} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  );\n}\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  fieldName: string;\n  labelTrue: string;\n  labelFalse: string;\n}\n\nfunction RadiosBoolean({\n  form,\n  readOnly,\n  fieldName,\n  labelTrue,\n  labelFalse\n}: Props) {\n  const field = useField(fieldName, form);\n  return (\n    <div css={styles.container}>\n      <RadioField\n        field={field}\n        label={labelTrue}\n        value=\"true\"\n        disabled={readOnly}\n      />\n      <div\n        css={[\n          styles.radioFieldFalse,\n          readOnly && styles.radioFieldFalseDisabled\n        ]}\n      >\n        <RadioField\n          field={field}\n          label={labelFalse}\n          value=\"false\"\n          disabled={readOnly}\n        />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  label: css({\n    display: \"flex\",\n    fontSize: 14,\n    cursor: \"pointer\"\n  }),\n  labelText: css({\n    lineHeight: \"16px\"\n  }),\n  radio: css({\n    display: \"none\"\n  }),\n  fakeRadio: css({\n    width: 16,\n    height: 16,\n    flexShrink: 0,\n    marginRight: 6,\n    borderRadius: 8,\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  fakeRadioChecked: css({\n    backgroundImage: `radial-gradient(${globalStyles.colors.default} 0%, ${\n      globalStyles.colors.default\n    } 3px, #FFF 3px)`\n  }),\n  radioFieldFalse: css({\n    marginTop: 9\n  }),\n  radioFieldFalseDisabled: css({\n    opacity: 0\n  })\n};\n\nexport default RadiosBoolean;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartTauxAugmentation,\n  effectifEtEcartAugmentGroup\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartAugmentParCategorieSocioPro: Array<effectifEtEcartAugmentGroup>;\n  presenceAugmentation: boolean;\n  readOnly: boolean;\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxAugmentation\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  presenceAugmentation,\n  readOnly,\n  updateIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const infoFields = ecartAugmentParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxAugmentationFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxAugmentationFemmesValue: parseStateValue(tauxAugmentationFemmes),\n        tauxAugmentationHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxAugmentationHommesValue: parseStateValue(tauxAugmentationHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxAugmentationFemmesName,\n        tauxAugmentationFemmesValue,\n        tauxAugmentationHommesName,\n        tauxAugmentationHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxAugmentationFemmesName]: tauxAugmentationFemmesValue,\n        [tauxAugmentationHommesName]: tauxAugmentationHommesValue\n      };\n    },\n    { presenceAugmentation: String(presenceAugmentation) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presenceAugmentation } = formData;\n    const tauxAugmentation = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxAugmentationFemmesName,\n        tauxAugmentationHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes: parseFormValue(\n          formData[tauxAugmentationFemmesName]\n        ),\n        tauxAugmentationHommes: parseFormValue(\n          formData[tauxAugmentationHommesName]\n        )\n      })\n    );\n    updateIndicateurDeux({\n      tauxAugmentation,\n      presenceAugmentation: presenceAugmentation === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurDeux(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartAugmentParCategorieSocioProPourTotal = ecartAugmentParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxAugmentationFemmes = parseFormValue(\n        values[infoField.tauxAugmentationFemmesName]\n      );\n      const tauxAugmentationHommes = parseFormValue(\n        values[infoField.tauxAugmentationHommesName]\n      );\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n      return {\n        ...groupAugment,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n  const {\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(\n    ecartAugmentParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocForm\n          label=\"% de salariés augmentés\"\n          footer={[\n            displayPercent(totalTauxAugmentationHommes),\n            displayPercent(totalTauxAugmentationFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxAugmentationFemmesName,\n              tauxAugmentationHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  femmeFieldName={tauxAugmentationFemmesName}\n                  hommeFieldName={tauxAugmentationHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurDeuxForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurDeux: number | undefined;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nfunction IndicateurDeuxResult({\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartAugmentation !== undefined\n            ? indicateurEcartAugmentation.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurDeuxResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport calculIndicateurDeux from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\";\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurDeux({ state, dispatch }: Props) {\n  const updateIndicateurDeux = useCallback(\n    (data: ActionIndicateurDeuxData) =>\n      dispatch({ type: \"updateIndicateurDeux\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurDeux = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeux\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux\n  } = calculIndicateurDeux(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurDeux.formValidated === \"Valid\" && !indicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu d’augmentation individuelle durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  return (\n    <PageIndicateurDeux>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurDeuxForm\n            ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n            presenceAugmentation={state.indicateurDeux.presenceAugmentation}\n            readOnly={state.indicateurDeux.formValidated === \"Valid\"}\n            updateIndicateurDeux={updateIndicateurDeux}\n            validateIndicateurDeux={validateIndicateurDeux}\n          />\n        }\n        childrenResult={\n          state.indicateurDeux.formValidated === \"Valid\" && (\n            <IndicateurDeuxResult\n              indicateurEcartAugmentation={indicateurEcartAugmentation}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurDeux={noteIndicateurDeux}\n              validateIndicateurDeux={validateIndicateurDeux}\n            />\n          )\n        }\n      />\n    </PageIndicateurDeux>\n  );\n}\n\nfunction PageIndicateurDeux({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 2, écart de taux d’augmentation individuelle “hors promotion”\"\n      tagline=\"Renseignez le pourcentage d’hommes et des femmes ayant été augmentés durant la période de référence, par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurDeux;\n","import { AppState, CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  calculEffectifsIndicateurCalculable,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculIndicateurSexeSousRepresente,\n  calculIndicateurEcartAugmentationAbsolute\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n  calculIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation;\n\nexport interface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n  ecartTauxPromotion: number | undefined;\n}\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartPromoGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes || 0,\n        tauxPromotionHommes || 0\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxPromotion = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxPromotionFemmes,\n    sommeProduitTauxPromotionHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes +\n          (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes +\n          (tauxPromotionHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0\n    }\n  );\n\n  // TTPF\n  const totalTauxPromotionFemmes =\n    sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes;\n\n  // TTPH\n  const totalTauxPromotionHommes =\n    sommeProduitTauxPromotionHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion\n);\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation;\n\nexport const calculIndicateurEcartPromotionAbsolute = calculIndicateurEcartAugmentationAbsolute;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined\n): number | undefined =>\n  indicateurEcartPromotion !== undefined\n    ? baremEcartPromotion[\n        Math.min(\n          baremEcartPromotion.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartPromotion))\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurTrois(state: AppState) {\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurTrois.presencePromotion,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  );\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  const indicateurEcartPromotionAbsolute = calculIndicateurEcartPromotionAbsolute(\n    indicateurEcartPromotion\n  );\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(\n    indicateurEcartPromotion\n  );\n\n  // NOTE\n  const noteIndicateurTrois = calculNote(indicateurEcartPromotion);\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion: indicateurEcartPromotionAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartTauxPromotion,\n  effectifEtEcartPromoGroup\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartPromoParCategorieSocioPro: Array<effectifEtEcartPromoGroup>;\n  presencePromotion: boolean;\n  readOnly: boolean;\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxPromotion\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  presencePromotion,\n  readOnly,\n  updateIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const infoFields = ecartPromoParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxPromotionFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxPromotionFemmesValue: parseStateValue(tauxPromotionFemmes),\n        tauxPromotionHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxPromotionHommesValue: parseStateValue(tauxPromotionHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxPromotionFemmesName,\n        tauxPromotionFemmesValue,\n        tauxPromotionHommesName,\n        tauxPromotionHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxPromotionFemmesName]: tauxPromotionFemmesValue,\n        [tauxPromotionHommesName]: tauxPromotionHommesValue\n      };\n    },\n    { presencePromotion: String(presencePromotion) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presencePromotion } = formData;\n    const tauxPromotion = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxPromotionFemmesName,\n        tauxPromotionHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes: parseFormValue(formData[tauxPromotionFemmesName]),\n        tauxPromotionHommes: parseFormValue(formData[tauxPromotionHommesName])\n      })\n    );\n    updateIndicateurTrois({\n      tauxPromotion,\n      presencePromotion: presencePromotion === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurTrois(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartPromoParCategorieSocioProPourTotal = ecartPromoParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxPromotionFemmes = parseFormValue(\n        values[infoField.tauxPromotionFemmesName]\n      );\n      const tauxPromotionHommes = parseFormValue(\n        values[infoField.tauxPromotionHommesName]\n      );\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n      return {\n        ...groupAugment,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n  const {\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(\n    ecartPromoParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presencePromotion\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des promotions durant la période de référence\"\n        labelFalse=\"il n’y a pas eu de promotions durant la période de référence\"\n      />\n\n      {values.presencePromotion === \"true\" && (\n        <BlocForm\n          label=\"% de salariés promus\"\n          footer={[\n            displayPercent(totalTauxPromotionHommes),\n            displayPercent(totalTauxPromotionFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxPromotionFemmesName,\n              tauxPromotionHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  femmeFieldName={tauxPromotionFemmesName}\n                  hommeFieldName={tauxPromotionHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurTroisForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartPromotion: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurTrois: number | undefined;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nfunction IndicateurTroisResult({\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartPromotion !== undefined\n            ? indicateurEcartPromotion.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${indicateurSexeSurRepresente}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n          \"/15\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurTroisResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport calculIndicateurTrois from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurTroisForm from \"./IndicateurTroisForm\";\nimport IndicateurTroisResult from \"./IndicateurTroisResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurTrois({ state, dispatch }: Props) {\n  const updateIndicateurTrois = useCallback(\n    (data: ActionIndicateurTroisData) =>\n      dispatch({ type: \"updateIndicateurTrois\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurTrois\", valid }),\n    [dispatch]\n  );\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois\n  } = calculIndicateurTrois(state);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n                moins 10 femmes et 10 hommes), représentent moins de 40% des\n                effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurTrois.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  return (\n    <PageIndicateurTrois>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurTroisForm\n            ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n            presencePromotion={state.indicateurTrois.presencePromotion}\n            readOnly={state.indicateurTrois.formValidated === \"Valid\"}\n            updateIndicateurTrois={updateIndicateurTrois}\n            validateIndicateurTrois={validateIndicateurTrois}\n          />\n        }\n        childrenResult={\n          state.indicateurTrois.formValidated === \"Valid\" && (\n            <IndicateurTroisResult\n              indicateurEcartPromotion={indicateurEcartPromotion}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurTrois={noteIndicateurTrois}\n              validateIndicateurTrois={validateIndicateurTrois}\n            />\n          )\n        }\n      />\n    </PageIndicateurTrois>\n  );\n}\n\nfunction PageIndicateurTrois({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 3, écart de taux de promotions\"\n      tagline=\"Renseignez le pourcentage de femmes et d’hommes ayant été promus durant la période de référence par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurTrois;\n","import { AppState } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n//////////////////\n// INDICATEUR 4 //\n//////////////////\n\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  nombreSalariees: number | undefined,\n  nombreSalarieesPeriodeAugmentation: number | undefined\n) => {\n  return (\n    presenceAugmentation &&\n    nombreSalariees !== undefined &&\n    nombreSalariees > 0 &&\n    nombreSalarieesPeriodeAugmentation !== undefined &&\n    nombreSalarieesPeriodeAugmentation > 0\n  );\n};\n\nexport const calculIndicateurEcartNombreSalarieesAugmentees = (\n  indicateurCalculable: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined,\n  nombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurCalculable &&\n  nombreSalarieesPeriodeAugmentation !== undefined &&\n  nombreSalarieesAugmentees !== undefined &&\n  nombreSalarieesPeriodeAugmentation >= nombreSalarieesAugmentees\n    ? Math.abs(\n        roundDecimal(\n          100 *\n            (nombreSalarieesAugmentees / nombreSalarieesPeriodeAugmentation),\n          3\n        )\n      )\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartNombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurEcartNombreSalarieesAugmentees !== undefined\n    ? indicateurEcartNombreSalarieesAugmentees < 100\n      ? 0\n      : 15\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurQuatre(state: AppState) {\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurQuatre.presenceAugmentation,\n    state.indicateurQuatre.nombreSalariees,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation\n  );\n\n  const indicateurEcartNombreSalarieesAugmentees = calculIndicateurEcartNombreSalarieesAugmentees(\n    indicateurCalculable,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation,\n    state.indicateurQuatre.nombreSalarieesAugmentees\n  );\n\n  const noteIndicateurQuatre = calculNote(\n    indicateurEcartNombreSalarieesAugmentees\n  );\n\n  return {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  fieldName: string;\n  label: string;\n  readOnly: boolean;\n}\n\nfunction FieldInput({ form, fieldName, label, readOnly }: Props) {\n  const field = useField(fieldName, form, validate);\n  const error = hasFieldError(field.meta);\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={[styles.cellHead, error && styles.cellHeadError]}>\n          {field.meta.valid ? \"✓ \" : error ? \"✕ \" : null}\n          {label}\n        </CellHead>\n\n        {readOnly ? (\n          <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n            {field.input.value}\n          </Cell>\n        ) : (\n          <CellInput field={field} style={styles.cellWomen} />\n        )}\n      </div>\n      {error && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 58,\n    marginTop: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  }),\n  cellHead: css({\n    height: 29,\n    paddingBottom: 2,\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport { AppState, FormState, ActionIndicateurQuatreData } from \"../globals.d\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput from \"../components/FieldInput\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurQuatre: AppState[\"indicateurQuatre\"];\n  readOnly: boolean;\n  updateIndicateurQuatre: (data: ActionIndicateurQuatreData) => void;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurQuatreForm({\n  indicateurQuatre,\n  readOnly,\n  updateIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  const initialValues = {\n    presenceAugmentation: String(indicateurQuatre.presenceAugmentation),\n    nombreSalariees: parseStateValue(indicateurQuatre.nombreSalariees),\n    nombreSalarieesPeriodeAugmentation: parseStateValue(\n      indicateurQuatre.nombreSalarieesPeriodeAugmentation\n    ),\n    nombreSalarieesAugmentees: parseStateValue(\n      indicateurQuatre.nombreSalarieesAugmentees\n    )\n  };\n\n  const saveForm = (formData: any) => {\n    const {\n      presenceAugmentation,\n      nombreSalariees,\n      nombreSalarieesPeriodeAugmentation,\n      nombreSalarieesAugmentees\n    } = formData;\n\n    updateIndicateurQuatre({\n      presenceAugmentation: presenceAugmentation === \"true\",\n      nombreSalariees: parseFormValue(nombreSalariees),\n      nombreSalarieesPeriodeAugmentation: parseFormValue(\n        nombreSalarieesPeriodeAugmentation\n      ),\n      nombreSalarieesAugmentees: parseFormValue(nombreSalarieesAugmentees)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurQuatre(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations collective ou individuelle durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation collective ou individuelle durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocFormLight>\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalariees\"\n            label=\"nombre de salariées de retour de congé maternité\"\n            readOnly={readOnly}\n          />\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalarieesPeriodeAugmentation\"\n            label=\"parmis ces congès maternité, combien ont chevauchée une periode d’augmentation\"\n            readOnly={readOnly}\n          />\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalarieesAugmentees\"\n            label=\"parmis ces congès maternité ayant chevauchée une periode d’augmentation, combien ont été augmentées ?\"\n            readOnly={readOnly}\n          />\n        </BlocFormLight>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurQuatreForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartNombreSalarieesAugmentees: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nfunction IndicateurQuatreResult({\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (indicateurEcartNombreSalarieesAugmentees !== undefined\n            ? indicateurEcartNombreSalarieesAugmentees.toFixed(1)\n            : \"--\") + \" %\"\n        }\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n          \"/15\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurQuatreResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurQuatreData\n} from \"../globals.d\";\n\nimport calculIndicateurQuatre from \"../utils/calculsEgaProIndicateurQuatre\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurQuatreForm from \"./IndicateurQuatreForm\";\nimport IndicateurQuatreResult from \"./IndicateurQuatreResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurQuatre({ state, dispatch }: Props) {\n  const updateIndicateurQuatre = useCallback(\n    (data: ActionIndicateurQuatreData) =>\n      dispatch({ type: \"updateIndicateurQuatre\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurQuatre = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurQuatre\", valid }),\n    [dispatch]\n  );\n\n  const {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  } = calculIndicateurQuatre(state);\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurQuatre>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurQuatre>\n    );\n  }\n\n  return (\n    <PageIndicateurQuatre>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurQuatreForm\n            indicateurQuatre={state.indicateurQuatre}\n            readOnly={state.indicateurQuatre.formValidated === \"Valid\"}\n            updateIndicateurQuatre={updateIndicateurQuatre}\n            validateIndicateurQuatre={validateIndicateurQuatre}\n          />\n        }\n        childrenResult={\n          state.indicateurQuatre.formValidated === \"Valid\" && (\n            <IndicateurQuatreResult\n              indicateurEcartNombreSalarieesAugmentees={\n                indicateurEcartNombreSalarieesAugmentees\n              }\n              noteIndicateurQuatre={noteIndicateurQuatre}\n              validateIndicateurQuatre={validateIndicateurQuatre}\n            />\n          )\n        }\n      />\n    </PageIndicateurQuatre>\n  );\n}\n\nfunction PageIndicateurQuatre({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n      tagline=\"Renseignez le taux de salariées en congès maternité durant la période de référence ayant reçu une augmentation à leur retour.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurQuatre;\n","import { AppState } from \"../globals.d\";\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\n//////////////////\n// INDICATEUR 5 //\n//////////////////\n\nconst baremeEcartRemuneration = [0, 0, 5, 5, 10, 10];\n\nexport const calculIndicateurSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined\n): \"hommes\" | \"femmes\" | \"egalite\" | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? nombreSalariesHommes > nombreSalariesFemmes\n      ? \"femmes\"\n      : nombreSalariesHommes < nombreSalariesFemmes\n      ? \"hommes\"\n      : \"egalite\"\n    : undefined;\n\nexport const calculIndicateurNombreSalariesSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined\n): number | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? Math.min(nombreSalariesHommes, nombreSalariesFemmes)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurNombreSalariesSexeSousRepresente: number | undefined\n): number | undefined =>\n  indicateurNombreSalariesSexeSousRepresente !== undefined\n    ? baremeEcartRemuneration[\n        clamp(\n          indicateurNombreSalariesSexeSousRepresente,\n          0,\n          baremeEcartRemuneration.length - 1\n        )\n      ]\n    : undefined;\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurCinq(state: AppState) {\n  const indicateurSexeSousRepresente = calculIndicateurSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes\n  );\n\n  const indicateurNombreSalariesSexeSousRepresente = calculIndicateurNombreSalariesSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes\n  );\n\n  const noteIndicateurCinq = calculNote(\n    indicateurNombreSalariesSexeSousRepresente\n  );\n\n  return {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  };\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo, useEffect } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport createDecorator from \"final-form-calculate\";\n\nimport { AppState, FormState, ActionIndicateurCinqData } from \"../globals.d\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput from \"../components/FieldInput\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurCinq: AppState[\"indicateurCinq\"];\n  readOnly: boolean;\n  updateIndicateurCinq: (data: ActionIndicateurCinqData) => void;\n  validateIndicateurCinq: (valid: FormState) => void;\n}\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nconst calculator = createDecorator(\n  {\n    field: \"nombreSalariesFemmes\",\n    updates: {\n      nombreSalariesHommes: (femmesValue, { nombreSalariesHommes }: any) =>\n        femmesValue !== \"\"\n          ? parseStateValue(10 - parseFormValue(femmesValue))\n          : nombreSalariesHommes\n    }\n  },\n  {\n    field: \"nombreSalariesHommes\",\n    updates: {\n      nombreSalariesFemmes: (hommesValue, { nombreSalariesFemmes }: any) =>\n        hommesValue !== \"\"\n          ? parseStateValue(10 - parseFormValue(hommesValue))\n          : nombreSalariesFemmes\n    }\n  }\n);\n\nfunction IndicateurCinqForm({\n  indicateurCinq,\n  readOnly,\n  updateIndicateurCinq,\n  validateIndicateurCinq\n}: Props) {\n  const initialValues = {\n    nombreSalariesHommes: parseStateValue(indicateurCinq.nombreSalariesHommes),\n    nombreSalariesFemmes: parseStateValue(indicateurCinq.nombreSalariesFemmes)\n  };\n\n  const saveForm = (formData: any) => {\n    const { nombreSalariesHommes, nombreSalariesFemmes } = formData;\n\n    updateIndicateurCinq({\n      nombreSalariesHommes: parseFormValue(nombreSalariesHommes),\n      nombreSalariesFemmes: parseFormValue(nombreSalariesFemmes)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurCinq(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  useEffect(() => {\n    const unsubscribe = calculator(form);\n    return () => unsubscribe();\n  }, [form]);\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <BlocFormLight>\n        <FieldInput\n          form={form}\n          fieldName=\"nombreSalariesFemmes\"\n          label=\"nombre de femmes parmis les 10 plus hauts salaires\"\n          readOnly={readOnly}\n        />\n        <FieldInput\n          form={form}\n          fieldName=\"nombreSalariesHommes\"\n          label=\"nombre d’hommes parmis les 10 plus hauts salaires\"\n          readOnly={readOnly}\n        />\n      </BlocFormLight>\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/recapitulatif\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurCinqForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined;\n  indicateurNombreSalariesSexeSousRepresente: number | undefined;\n  noteIndicateurCinq: number | undefined;\n  validateIndicateurCinq: (valid: FormState) => void;\n}\n\nfunction IndicateurCinqResult({\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq,\n  validateIndicateurCinq\n}: Props) {\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les hommes et les femmes sont à parité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\";\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurNombreSalariesSexeSousRepresente !== undefined\n            ? String(indicateurNombreSalariesSexeSousRepresente)\n            : \"--\"\n        }\n        firstLineInfo={firstLineInfo}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") + \"/10\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurCinq(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurCinqResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurCinqData\n} from \"../globals.d\";\n\nimport calculIndicateurCinq from \"../utils/calculsEgaProIndicateurCinq\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\n\nimport IndicateurCinqForm from \"./IndicateurCinqForm\";\nimport IndicateurCinqResult from \"./IndicateurCinqResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurCinq({ state, dispatch }: Props) {\n  const updateIndicateurCinq = useCallback(\n    (data: ActionIndicateurCinqData) =>\n      dispatch({ type: \"updateIndicateurCinq\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurCinq = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurCinq\", valid }),\n    [dispatch]\n  );\n\n  const {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  } = calculIndicateurCinq(state);\n\n  return (\n    <PageIndicateurCinq>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurCinqForm\n            indicateurCinq={state.indicateurCinq}\n            readOnly={state.indicateurCinq.formValidated === \"Valid\"}\n            updateIndicateurCinq={updateIndicateurCinq}\n            validateIndicateurCinq={validateIndicateurCinq}\n          />\n        }\n        childrenResult={\n          state.indicateurCinq.formValidated === \"Valid\" && (\n            <IndicateurCinqResult\n              indicateurSexeSousRepresente={indicateurSexeSousRepresente}\n              indicateurNombreSalariesSexeSousRepresente={\n                indicateurNombreSalariesSexeSousRepresente\n              }\n              noteIndicateurCinq={noteIndicateurCinq}\n              validateIndicateurCinq={validateIndicateurCinq}\n            />\n          )\n        }\n      />\n    </PageIndicateurCinq>\n  );\n}\n\nfunction PageIndicateurCinq({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n      tagline=\"Renseignez le nombre d’hommes et de femmes parmi les 10 plus hautes rémunérations durant la période de référence.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurCinq;\n","import { roundDecimal } from \"./helpers\";\n\n///////////\n// Index //\n///////////\n\nexport const calculNoteIndex = (\n  noteIndicateurUn: number | undefined,\n  noteIndicateurDeux: number | undefined,\n  noteIndicateurTrois: number | undefined,\n  noteIndicateurQuatre: number | undefined,\n  noteIndicateurCinq: number | undefined\n): number | undefined => {\n  const noteIndicateurUnPointCalculable =\n    noteIndicateurUn !== undefined ? 40 : 0;\n  const noteIndicateurDeuxPointCalculable =\n    noteIndicateurDeux !== undefined ? 20 : 0;\n  const noteIndicateurTroisPointCalculable =\n    noteIndicateurTrois !== undefined ? 15 : 0;\n  const noteIndicateurQuatrePointCalculable =\n    noteIndicateurQuatre !== undefined ? 15 : 0;\n  const noteIndicateurCinqPointCalculable =\n    noteIndicateurCinq !== undefined ? 10 : 0;\n\n  const totalPointCalculable =\n    noteIndicateurUnPointCalculable +\n    noteIndicateurDeuxPointCalculable +\n    noteIndicateurTroisPointCalculable +\n    noteIndicateurQuatrePointCalculable +\n    noteIndicateurCinqPointCalculable;\n\n  if (totalPointCalculable < 75) {\n    return undefined;\n  }\n\n  const totalPoint =\n    (noteIndicateurUn || 0) +\n    (noteIndicateurDeux || 0) +\n    (noteIndicateurTrois || 0) +\n    (noteIndicateurQuatre || 0) +\n    (noteIndicateurCinq || 0);\n\n  return roundDecimal((totalPoint * 100) / totalPointCalculable, 3);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../../../utils/globalStyles\";\n\nimport ResultBubble, {\n  Props as ResultBubbleProps\n} from \"../../../components/ResultBubble\";\n\nimport { useColumnsWidth } from \"../../../components/GridContext\";\n\ninterface Props {\n  title: string;\n  children: ReactNode;\n  resultBubble: ResultBubbleProps;\n}\n\nexport function RecapBloc({ title, children, resultBubble }: Props) {\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.container}>\n      {/*<div css={styles.background} />*/}\n\n      {/*<div css={styles.blocForm}>\n        <div css={styles.blocFormInner}>{children}</div>\n  </div>*/}\n      <div css={[styles.blocInfo, css({ width })]}>\n        <div css={styles.title}>{title}</div>\n      </div>\n\n      <div css={styles.blocResult}>\n        <div css={styles.borderResult} />\n        <ResultBubble {...resultBubble} />\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    // marginTop: 50 + 14,\n    // marginBottom: 20 + 14,\n\n    display: \"flex\",\n    flexDirection: \"row\"\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n\n  blocInfo: css({\n    flexShrink: 0,\n    paddingRight: globalStyles.grid.gutterWidth,\n    paddingLeft: globalStyles.grid.gutterWidth,\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`\n  }),\n  title: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  borderResult: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: -globalStyles.grid.gutterWidth,\n    right: \"50%\"\n  }),\n  blocResult: css({\n    position: \"relative\",\n    maxWidth: 250,\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default RecapBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurUnFormValidated: FormState;\n  indicateurEcartRemuneration: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurUn: number | undefined;\n}\n\nfunction RecapitulatifIndicateurUn({\n  indicateurUnFormValidated,\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn\n}: Props) {\n  if (indicateurUnFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 1, écart de rémunération entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartRemuneration !== undefined\n              ? indicateurEcartRemuneration.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <div />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurUn;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurDeuxFormValidated: FormState;\n  indicateurDeuxCalculable: boolean;\n  indicateurEcartAugmentation: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurDeux: number | undefined;\n}\n\nfunction RecapitulatifIndicateurDeux({\n  indicateurDeuxFormValidated,\n  indicateurDeuxCalculable,\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux\n}: Props) {\n  if (indicateurDeuxFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurDeuxCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu d’augmentation durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 2, écart de taux d’augmentation entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartAugmentation !== undefined\n              ? indicateurEcartAugmentation.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") +\n            \"/20\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <div />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurDeux;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurTroisFormValidated: FormState;\n  indicateurTroisCalculable: boolean;\n  indicateurEcartPromotion: number | undefined;\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined;\n  noteIndicateurTrois: number | undefined;\n}\n\nfunction RecapitulatifIndicateurTrois({\n  indicateurTroisFormValidated,\n  indicateurTroisCalculable,\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois\n}: Props) {\n  if (indicateurTroisFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu de promotion durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 3, écart de taux de promotion entre les hommes et les femmes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartPromotion !== undefined\n              ? indicateurEcartPromotion.toFixed(1)\n              : \"--\") + \" %\",\n          firstLineInfo: `écart favorable aux ${indicateurSexeSurRepresente}`,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n            \"/15\",\n          secondLineInfo: \"mesures de correction prises en compte\"\n        }}\n      >\n        <div />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurTrois;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurQuatreFormValidated: FormState;\n  indicateurQuatreCalculable: boolean;\n  indicateurEcartNombreSalarieesAugmentees: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n}\n\nfunction RecapitulatifIndicateurQuatre({\n  indicateurQuatreFormValidated,\n  indicateurQuatreCalculable,\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre\n}: Props) {\n  if (indicateurQuatreFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  if (!indicateurQuatreCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text=\"Malheureusement votre indicateur est incalculable car il n’y a pas eu de congé maternité durant la période de référence\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            (indicateurEcartNombreSalarieesAugmentees !== undefined\n              ? indicateurEcartNombreSalarieesAugmentees.toFixed(1)\n              : \"--\") + \" %\",\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n            \"/15\"\n        }}\n      >\n        <div />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurQuatre;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../../globals.d\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport RecapBloc from \"./components/RecapBloc\";\n\ninterface Props {\n  indicateurCinqFormValidated: FormState;\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined;\n  indicateurNombreSalariesSexeSousRepresente: number | undefined;\n  noteIndicateurCinq: number | undefined;\n}\n\nfunction RecapitulatifIndicateurCinq({\n  indicateurCinqFormValidated,\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq\n}: Props) {\n  if (indicateurCinqFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBloc\n          title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n          text=\"Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saissies.\"\n        />\n      </div>\n    );\n  }\n\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les hommes et les femmes sont à parité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\";\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur 5, nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            indicateurNombreSalariesSexeSousRepresente !== undefined\n              ? String(indicateurNombreSalariesSexeSousRepresente)\n              : \"--\",\n          firstLineInfo,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData:\n            (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") +\n            \"/10\"\n        }}\n      >\n        <div />\n      </RecapBloc>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default RecapitulatifIndicateurCinq;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport { AppState } from \"../../globals.d\";\n\nimport calculIndicateurUn from \"../../utils/calculsEgaProIndicateurUn\";\nimport calculIndicateurDeux from \"../../utils/calculsEgaProIndicateurDeux\";\nimport calculIndicateurTrois from \"../../utils/calculsEgaProIndicateurTrois\";\nimport calculIndicateurQuatre from \"../../utils/calculsEgaProIndicateurQuatre\";\nimport calculIndicateurCinq from \"../../utils/calculsEgaProIndicateurCinq\";\nimport { calculNoteIndex } from \"../../utils/calculsEgaProIndex\";\n\nimport InfoBloc from \"../../components/InfoBloc\";\nimport Page from \"../../components/Page\";\n\nimport RecapitulatifIndicateurUn from \"./RecapitulatifIndicateurUn\";\nimport RecapitulatifIndicateurDeux from \"./RecapitulatifIndicateurDeux\";\nimport RecapitulatifIndicateurTrois from \"./RecapitulatifIndicateurTrois\";\nimport RecapitulatifIndicateurQuatre from \"./RecapitulatifIndicateurQuatre\";\nimport RecapitulatifIndicateurCinq from \"./RecapitulatifIndicateurCinq\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n}\n\nfunction Recapitulatif({ state }: Props) {\n  const {\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente: indicateurUnSexeSurRepresente,\n    noteIndicateurUn\n  } = calculIndicateurUn(state);\n\n  const {\n    indicateurCalculable: indicateurDeuxCalculable,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    noteIndicateurDeux\n  } = calculIndicateurDeux(state);\n\n  const {\n    indicateurCalculable: indicateurTroisCalculable,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente: indicateurTroisSexeSurRepresente,\n    noteIndicateurTrois\n  } = calculIndicateurTrois(state);\n\n  const {\n    indicateurCalculable: indicateurQuatreCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre\n  } = calculIndicateurQuatre(state);\n\n  const {\n    indicateurSexeSousRepresente: indicateurCinqSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq\n  } = calculIndicateurCinq(state);\n\n  const allIndicateurValid =\n    state.indicateurUn.formValidated === \"Valid\" &&\n    state.indicateurDeux.formValidated === \"Valid\" &&\n    state.indicateurTrois.formValidated === \"Valid\" &&\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    state.indicateurCinq.formValidated === \"Valid\";\n\n  const noteIndex = calculNoteIndex(\n    noteIndicateurUn,\n    noteIndicateurDeux,\n    noteIndicateurTrois,\n    noteIndicateurQuatre,\n    noteIndicateurCinq\n  );\n\n  return (\n    <Page\n      title=\"Récapitulatif des résultats de vos indicateurs\"\n      tagline=\"Oubliez pas de décalarer vos résultats sur SOLEN avant le 1er septembre.\"\n    >\n      <div css={styles.indexBloc}>\n        {allIndicateurValid ? (\n          <InfoBloc\n            title=\"Index égalité homme-femme\"\n            text={`votre résultat total est ${noteIndex}/100`}\n          />\n        ) : (\n          <InfoBloc\n            title=\"Index égalité homme-femme\"\n            text=\"Vous n’avez pas encore validé tous vos indicateur, votre index ne peut-être calculé.\"\n          />\n        )}\n      </div>\n      <RecapitulatifIndicateurUn\n        indicateurUnFormValidated={state.indicateurUn.formValidated}\n        indicateurEcartRemuneration={indicateurEcartRemuneration}\n        indicateurSexeSurRepresente={indicateurUnSexeSurRepresente}\n        noteIndicateurUn={noteIndicateurUn}\n      />\n      <RecapitulatifIndicateurDeux\n        indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n        indicateurDeuxCalculable={indicateurDeuxCalculable}\n        indicateurEcartAugmentation={indicateurEcartAugmentation}\n        indicateurSexeSurRepresente={indicateurDeuxSexeSurRepresente}\n        noteIndicateurDeux={noteIndicateurDeux}\n      />\n      <RecapitulatifIndicateurTrois\n        indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n        indicateurTroisCalculable={indicateurTroisCalculable}\n        indicateurEcartPromotion={indicateurEcartPromotion}\n        indicateurSexeSurRepresente={indicateurTroisSexeSurRepresente}\n        noteIndicateurTrois={noteIndicateurTrois}\n      />\n      <RecapitulatifIndicateurQuatre\n        indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n        indicateurQuatreCalculable={indicateurQuatreCalculable}\n        indicateurEcartNombreSalarieesAugmentees={\n          indicateurEcartNombreSalarieesAugmentees\n        }\n        noteIndicateurQuatre={noteIndicateurQuatre}\n      />\n      <RecapitulatifIndicateurCinq\n        indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        indicateurSexeSousRepresente={indicateurCinqSexeSousRepresente}\n        indicateurNombreSalariesSexeSousRepresente={\n          indicateurNombreSalariesSexeSousRepresente\n        }\n        noteIndicateurCinq={noteIndicateurCinq}\n      />\n    </Page>\n  );\n}\n\nconst styles = {\n  indexBloc: css({\n    marginTop: 22,\n    marginBottom: 22\n  })\n};\n\nexport default Recapitulatif;\n","import Recapitulatif from \"./Recapitulatif\";\nexport default Recapitulatif;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport Page from \"../components/Page\";\n\nimport ActionBar from \"../components/ActionBar\";\nimport Button from \"../components/Button\";\n\nfunction PageNotFound({ history }: RouteComponentProps) {\n  return (\n    <Page title=\"Malheureusement la page que vous cherchez n’existe pas !\">\n      <ActionBar>\n        <div onClick={() => history.goBack()}>\n          <Button label=\"retour\" />\n        </div>\n      </ActionBar>\n    </Page>\n  );\n}\n\nexport default PageNotFound;\n","type EnumType = { [s: number]: string };\n\nexport default function mapEnum(enumerable: EnumType, fn: Function): any[] {\n  // get all the members of the enum\n  let enumMembers: any[] = Object.keys(enumerable).map(\n    (key: any) => enumerable[key]\n  );\n\n  // we are only interested in the numeric identifiers as these represent the values\n  let enumValues: number[] = enumMembers.filter(v => typeof v === \"number\");\n\n  // now map through the enum values\n  return enumValues.map(m => fn(m));\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useReducer, useEffect, useCallback, ReactNode } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  RouteComponentProps\n} from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  TranchesAges,\n  CategorieSocioPro,\n  ActionEffectifData\n} from \"./globals.d\";\n\nimport globalStyles from \"./utils/globalStyles\";\nimport mapEnum from \"./utils/mapEnum\";\n\nimport AppReducer from \"./AppReducer\";\n\nimport GridProvider from \"./components/GridContext\";\nimport Header from \"./components/Header\";\nimport Menu from \"./components/Menu\";\n\nimport FAQ from \"./views/FAQ\";\n\nimport Home from \"./views/Home\";\nimport GroupEffectif from \"./views/GroupEffectif\";\nimport IndicateurUn from \"./views/IndicateurUn\";\nimport IndicateurDeux from \"./views/IndicateurDeux\";\nimport IndicateurTrois from \"./views/IndicateurTrois\";\nimport IndicateurQuatre from \"./views/IndicateurQuatre\";\nimport IndicateurCinq from \"./views/IndicateurCinq\";\nimport Recapitulatif from \"./views/Recapitulatif\";\nimport PageNotFound from \"./views/PageNotFound\";\n\nconst baseGroupTranchesAgesState = {\n  nombreSalariesFemmes: undefined,\n  nombreSalariesHommes: undefined,\n  remunerationAnnuelleBrutFemmes: undefined,\n  remunerationAnnuelleBrutHommes: undefined\n};\n\nconst baseTranchesAge = mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n  trancheAge,\n  ...baseGroupTranchesAgesState\n}));\n\nconst baseGroupe = {\n  tranchesAges: [...baseTranchesAge],\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined\n};\n\nconst defaultState: AppState = {\n  data: [\n    {\n      categorieSocioPro: CategorieSocioPro.Ouvriers,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Employes,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Techniciens,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Cadres,\n      ...baseGroupe\n    }\n  ],\n  effectif: {\n    formValidated: \"None\"\n  },\n  indicateurUn: {\n    formValidated: \"None\"\n  },\n  indicateurDeux: {\n    formValidated: \"None\",\n    presenceAugmentation: true\n  },\n  indicateurTrois: {\n    formValidated: \"None\",\n    presencePromotion: true\n  },\n  indicateurQuatre: {\n    formValidated: \"None\",\n    presenceAugmentation: true,\n    nombreSalariees: undefined,\n    nombreSalarieesPeriodeAugmentation: undefined,\n    nombreSalarieesAugmentees: undefined\n  },\n  indicateurCinq: {\n    formValidated: \"None\",\n    nombreSalariesHommes: undefined,\n    nombreSalariesFemmes: undefined\n  }\n};\n\nconst localStorageEgapro = localStorage.getItem(\"egapro\");\nconst initialState = localStorageEgapro\n  ? JSON.parse(localStorageEgapro)\n  : defaultState;\n\nfunction App() {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    const stateStringify = JSON.stringify(state);\n    localStorage.setItem(\"egapro\", stateStringify);\n  }, [state]);\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch]\n  );\n\n  const validateEffectif = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateEffectif\", valid }),\n    [dispatch]\n  );\n\n  return (\n    <Router basename=\"/egapro\">\n      <GridProvider>\n        <div css={styles.layout}>\n          <div css={styles.leftColumn}>\n            <Header />\n\n            <MainScrollViewWithRouter state={state}>\n              <Switch>\n                <Route path=\"/\" exact render={props => <Home {...props} />} />\n                <Route\n                  path=\"/effectifs\"\n                  render={props => (\n                    <GroupEffectif\n                      {...props}\n                      state={state}\n                      updateEffectif={updateEffectif}\n                      validateEffectif={validateEffectif}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur1\"\n                  render={props => (\n                    <IndicateurUn\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur2\"\n                  render={props => (\n                    <IndicateurDeux\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur3\"\n                  render={props => (\n                    <IndicateurTrois\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur4\"\n                  render={props => (\n                    <IndicateurQuatre\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur5\"\n                  render={props => (\n                    <IndicateurCinq\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/recapitulatif\"\n                  render={props => <Recapitulatif {...props} state={state} />}\n                />\n                <Route component={PageNotFound} />\n              </Switch>\n            </MainScrollViewWithRouter>\n          </div>\n\n          <div css={styles.rightColumn}>{/*<FAQ />*/}</div>\n        </div>\n      </GridProvider>\n    </Router>\n  );\n}\n\ninterface MainScrollViewProps extends RouteComponentProps {\n  children: ReactNode;\n  state: AppState;\n}\n\nfunction MainScrollView({ children, state, location }: MainScrollViewProps) {\n  // Usefull to reset the scroll while navigating\n  return (\n    <div css={styles.main} key={location.key}>\n      <div css={styles.menu}>\n        <Menu\n          effectifFormValidated={state.effectif.formValidated}\n          indicateurUnFormValidated={state.indicateurUn.formValidated}\n          indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n          indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n          indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n          indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        />\n      </div>\n      <div css={styles.view}>{children}</div>\n    </div>\n  );\n}\nconst MainScrollViewWithRouter = withRouter(MainScrollView);\n\nconst styles = {\n  layout: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  }),\n  leftColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxWidth: globalStyles.grid.maxWidth - 375\n  }),\n  rightColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 375,\n    flexShrink: 0\n  }),\n  main: css({\n    overflowY: \"auto\",\n    display: \"flex\",\n    flex: 1,\n    position: \"relative\",\n    background:\n      \"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), #EFF0FA\",\n    borderRight: \"1px solid #EFECEF\"\n  }),\n  menu: css({\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    paddingBottom: 80\n  }),\n  view: css({\n    flex: 1\n  })\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}