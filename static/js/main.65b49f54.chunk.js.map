{"version":3,"sources":["globals.d.ts","utils/globalStyles.tsx","AppReducer.tsx","components/GridContext.tsx","components/Header.tsx","components/Menu.tsx","components/Button.tsx","components/ButtonLink.tsx","views/Home.tsx","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/CellInputsMenWomen.tsx","components/ButtonSubmit.tsx","components/Action.tsx","utils/helpers.tsx","views/GroupEffectif.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","views/IndicateurUnForm.tsx","views/IndicateurUnResult.tsx","views/IndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","views/IndicateurDeuxStart.tsx","views/IndicateurDeuxForm.tsx","views/IndicateurDeuxResult.tsx","views/IndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","views/IndicateurTroisStart.tsx","views/IndicateurTroisForm.tsx","views/IndicateurTroisResult.tsx","views/IndicateurTrois.tsx","utils/mapEnum.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","globalStyles","colors","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","updateIndicateurUn","stateData","actionData","map","group","datumCat","find","_ref5","categorieSocioPro","Object","objectSpread","tranchesAges","groupTranchesAges","datumAge","_ref6","trancheAge","assign","AppReducer","state","action","type","data","_ref3","_ref4","formEffectifValidated","valid","formIndicateurUnValidated","datum","_ref","_ref2","totalGuttersWidth","getColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","GridContext","React","createContext","window","innerWidth","GridProvider","children","_useState","useState","_useState2","slicedToArray","setColumnWidth","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","value","useMemo","react_default","a","createElement","Provider","useColumnsWidth","numColumns","_useGridContext","useContext","styles","header","css","backgroundColor","height","flexShrink","display","flexDirection","alignItems","justifyContent","borderBottom","headerLeft","marginLeft","marginRight","headerInner","flexGrow","title","fontSize","subtitle","Header","width","core_browser_esm","CustomNavLink","label","to","_ref$activeOnlyWhenEx","activeOnlyWhenExact","react_router","path","exact","match","react_router_dom","link","activeLink","concat","menu","paddingTop","paddingBottom","color","lineHeight","textDecoration",":hover","Menu","button","padding","border","borderRadius","cursor","buttonOutline","buttonError","borderColor","Button","_ref$outline","outline","_ref$error","ButtonLink","components_Button","bloc","margin","blocTitle","message","marginTop","Home","props","components_ButtonLink","Ouvriers","Cell","style","cell","Cell2","cell2","CellHead","cellHead","container","position","marginBottom","background","top","bottom","left","right","blocForm","borderLeft","borderRight","blocFormWithFooter","blocFormInner","paddingRight","paddingLeft","rowHead","minHeight","rowHeadCellHead","textTransform","rowHeadCell","textAlign","rowHeadBorder","rowGender","cellMen","cellWomen","rowFoot","rowFootCell","rowFootBorderLeft","flex","rowFootBorderRight","BlocForm","footer","hasFieldError","meta","submitFailed","touched","mustBeNumber","input","appearance","inputError","CellInput","_ref$field","field","_ref$field$input","inputProps","objectWithoutProperties","autoComplete","active","validate","requiredError","required","mustBeNumberError","Number","isNaN","row","cellHeadInvalid","cellHeadError","cellEmpty","cellEmptyMen","cellEmptyWomen","fontStyle","CellInputsMenWomen","form","name","readOnly","calculable","femmeFieldName","hommeFieldName","femmesField","useField","undefined","hommesField","femmesError","hommesError","Fragment","components_CellInput","all","ButtonSubmit","Action","onClick","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Employes","Techniciens","Cadres","displayPercent","digits","arguments","length","toFixed","roundDecimal","decimal","mult","pow","round","fractionToPercentage","percentageToFraction","getFieldName","genre","parseFormValue","defaultValue","parseInt","parseStateValue","String","blocSubtitle","actionError","memo","updateEffectif","validateEffectif","infoFields","nombreSalariesFemmes","nombreSalariesHommes","nbSalarieFemmeName","nbSalarieFemmeValue","nbSalarieHommeName","nbSalarieHommeValue","initialValues","reduce","acc1","acc2","_objectSpread2","defineProperty","saveForm","formData","_ref7","_useForm","useForm","onSubmit","handleSubmit","values","hasValidationErrors","subscribe","_ref8","dirty","_ref9","totalNbSalarie","acc","_ref10","components_BlocForm","key","_ref11","components_CellInputsMenWomen","components_Action","components_ButtonSubmit","prevProps","nextProps","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","filter","effectifEtEcart","effectifsValides","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","includes","ecartPondere","val","rowEffectifsParCategorieSocioPro","calculValiditeGroupe","_tranchesAges$reduce","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","_groupEffectif$reduce","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","baremeEcartRemuneration","calculEffectifsEtEcartRemuParTrancheAge","groupTrancheAge","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","effectifs","rowEffectifsParTrancheAge","ecartRemunerationMoyenne","calculEcartRemunerationMoyenne","ecartApresApplicationSeuilPertinence","sign","abs","calculEcartApresApplicationSeuilPertinence","calculEcartsPonderesParTrancheAge","calculIndicateurCalculable","calculIndicateurEcartRemuneration","indicateurCalculable","totalEcartPondere","calculNote","indicateurEcartRemuneration","ceil","validateIndicateurUn","remunerationAnnuelleBrutFemmesName","remunerationAnnuelleBrutFemmesValue","remunerationAnnuelleBrutHommesName","remunerationAnnuelleBrutHommesValue","messageLabel","messageData","fontWeight","info","edit","IndicateurUnResult","noteIndicateurUn","absoluteResult","genderFavoriteResult","body","result","indicatorUnavailable","indicatorUnavailableTitle","indicatorUnavailableText","IndicateurUn","dispatch","history","effectifEtEcartRemuParTranche","_calculTotalEffectifs","ecartsPonderesByRow","views_IndicateurUnForm","views_IndicateurUnResult","baremEcartAugmentation","calculEcartTauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","calculEffectifsEtEcartAugmentParCategorieSocioPro","ecartTauxAugmentation","calculTotalEffectifsEtTauxAugmentation","groupEffectifEtEcartAugment","_groupEffectifEtEcart","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculEcartsPonderesParCategorieSocioPro","calculIndicateurEcartAugmentation","indicateurEcartAugmentation","boxShadow","IndicateurDeuxStart","nombreSalariesTotal","nombreSalariesGroupesValides","pourcentageEffectifsValides","flexBasis","IndicateurDeuxForm","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","tauxAugmentationFemmesName","tauxAugmentationFemmesValue","tauxAugmentationHommesName","tauxAugmentationHommesValue","parseFloat","push","IndicateurDeuxResult","noteIndicateurDeux","IndicateurDeux","effectifEtEcartAugmentParGroupe","render","views_IndicateurDeuxStart","views_IndicateurDeuxForm","views_IndicateurDeuxResult","baremEcartPromotion","calculEcartTauxPromotion","calculEffectifsEtEcartPromoParCategorieSocioPro","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","calculTotalEffectifsEtTauxPromotion","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculIndicateurEcartPromotion","indicateurEcartPromotion","IndicateurTroisStart","IndicateurTroisForm","ecartPromoParCategorieSocioPro","updateIndicateurTrois","tauxPromotionFemmesName","tauxPromotionFemmesValue","tauxPromotionHommesName","tauxPromotionHommesValue","IndicateurTroisResult","noteIndicateurTrois","IndicateurTrois","enumerable","fn","effectifEtEcartPromoParGroupe","views_IndicateurTroisStart","views_IndicateurTroisForm","views_IndicateurTroisResult","baseGroupTranchesAgesState","baseTranchesAge","keys","v","m","baseGroupe","toConsumableArray","defaultState","localStorageEgapro","localStorage","getItem","initialState","JSON","parse","MainScrollViewWithRouter","withRouter","location","main","components_Menu","view","layout","leftColumn","rightColumn","overflowY","App","_useReducer","useReducer","_useReducer2","stateStringify","stringify","setItem","components_GridContext","components_Header","views_Home","views_GroupEffectif","views_IndicateurUn","views_IndicateurDeux","views_IndicateurTrois","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.65b49f54.chunk.js","sourcesContent":["export type AppState = {\n  data: Array<Groupe>;\n  formEffectifValidated: boolean;\n  formIndicateurUnValidated: boolean;\n};\n\nexport type ActionType =\n  | {\n      type: \"updateEffectif\";\n      data: ActionEffectifData;\n    }\n  | {\n      type: \"validateEffectif\";\n      valid: boolean;\n    }\n  | {\n      type: \"updateIndicateurUn\";\n      data: ActionIndicateurUnData;\n    }\n  | {\n      type: \"validateIndicateurUn\";\n      valid: boolean;\n    }\n  | {\n      type: \"updateIndicateurDeux\";\n      data: ActionIndicateurDeuxData;\n    }\n  | {\n      type: \"updateIndicateurTrois\";\n      data: ActionIndicateurTroisData;\n    };\n\nexport type ActionEffectifData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    nombreSalariesFemmes: number | undefined;\n    nombreSalariesHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurUnData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    remunerationAnnuelleBrutFemmes: number | undefined;\n    remunerationAnnuelleBrutHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurDeuxData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n}>;\n\nexport type ActionIndicateurTroisData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}>;\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres\n}\n\nexport interface GroupTranchesAges {\n  trancheAge: TranchesAges;\n  nombreSalariesFemmes: number | undefined;\n  nombreSalariesHommes: number | undefined;\n  remunerationAnnuelleBrutFemmes: number | undefined;\n  remunerationAnnuelleBrutHommes: number | undefined;\n}\n\nexport interface Groupe {\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<GroupTranchesAges>;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    men: \"#90C5C7\",\n    women: \"#8A92D9\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\"\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024\n  }\n};\n\nexport default globalStyles;\n","import {\n  AppState,\n  Groupe,\n  GroupTranchesAges,\n  ActionType,\n  ActionEffectifData,\n  ActionIndicateurUnData\n} from \"./globals.d\";\n\nfunction AppReducer(state: AppState, action: ActionType) {\n  switch (action.type) {\n    case \"updateEffectif\": {\n      return {\n        ...state,\n        data: updateEffectif(state.data, action.data)\n      };\n    }\n    case \"validateEffectif\": {\n      return {\n        ...state,\n        formEffectifValidated: action.valid,\n        formIndicateurUnValidated: action.valid\n          ? state.formIndicateurUnValidated\n          : false\n      };\n    }\n    case \"updateIndicateurUn\": {\n      return {\n        ...state,\n        data: updateIndicateurUn(state.data, action.data)\n      };\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        formIndicateurUnValidated: action.valid\n      };\n    }\n    case \"updateIndicateurDeux\": {\n      const data = state.data.map((group: Groupe) => {\n        const datum = action.data.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data\n      };\n    }\n    case \"updateIndicateurTrois\": {\n      const data = state.data.map((group: Groupe) => {\n        const datum = action.data.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction updateEffectif(\n  stateData: AppState[\"data\"],\n  actionData: ActionEffectifData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nfunction updateIndicateurUn(\n  stateData: AppState[\"data\"],\n  actionData: ActionIndicateurUnData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nexport default AppReducer;\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useContext,\n  ReactNode\n} from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\nconst { grid } = globalStyles;\n\nconst gutterCount = grid.columns + 1;\nconst totalGuttersWidth = gutterCount * grid.gutterWidth;\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\nfunction getColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth);\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth;\n  const columnWidth = availableWidthWithoutGutters / 12;\n  return Math.floor(columnWidth);\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: getColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth\n});\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(\n    getColumnWidth(window.innerWidth)\n  );\n\n  const handleResize = useCallback(\n    (event: any) =>\n      setColumnWidth(getColumnWidth(event.currentTarget.innerWidth)),\n    [setColumnWidth]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth\n    }),\n    [columnWidth]\n  );\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>;\n}\n\nexport default GridProvider;\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext);\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext();\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\nfunction Header() {\n  const width = useColumnsWidth(2);\n\n  return (\n    <header css={styles.header}>\n      <div css={[styles.headerLeft, css({ width })]} />\n      <div css={styles.headerInner}>\n        <p css={styles.title}>Egapro</p>\n        <p css={styles.subtitle}>\n          L'outil de simulation en ligne de vos indicateurs\n        </p>\n      </div>\n    </header>\n  );\n}\n\nconst styles = {\n  header: css({\n    backgroundColor: \"#FFF\",\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\"\n  }),\n  headerLeft: css({\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  headerInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    alignItems: \"baseline\"\n  }),\n  title: css({\n    marginRight: 24,\n    fontSize: 24\n  }),\n  subtitle: css({\n    fontSize: 12\n  })\n};\n\nexport default Header;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\ninterface CustomNavLinkProps {\n  title: string;\n  label?: string;\n  valid?: boolean;\n  to: string;\n  activeOnlyWhenExact?: boolean;\n}\n\nfunction CustomNavLink({\n  title,\n  label,\n  valid,\n  to,\n  activeOnlyWhenExact = false\n}: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      children={({ match }) => (\n        <Link to={to} css={[styles.link, match && styles.activeLink]}>\n          <span>{`${valid ? \"✓ \" : \"\"}${title}`}</span>\n          <br />\n          {label && <span>{label}</span>}\n        </Link>\n      )}\n    />\n  );\n}\n\ninterface Props {\n  formEffectifValidated: boolean;\n  formIndicateurUnValidated: boolean;\n}\n\nfunction Menu({ formEffectifValidated, formIndicateurUnValidated }: Props) {\n  const width = useColumnsWidth(2);\n\n  return (\n    <div css={[styles.menu, css({ width })]}>\n      <CustomNavLink\n        to=\"/effectifs\"\n        title=\"effectif\"\n        valid={formEffectifValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur1\"\n        title=\"indicateur 1\"\n        label=\"écart de rémunération\"\n        valid={formIndicateurUnValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur2\"\n        title=\"indicateur 2\"\n        label=\"écart d’augmentation\"\n      />\n      <CustomNavLink\n        to=\"/indicateur3\"\n        title=\"indicateur 3\"\n        label=\"écart de promotions\"\n      />\n    </div>\n  );\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  link: css({\n    paddingTop: 7,\n    paddingBottom: 7,\n    color: globalStyles.colors.default,\n    fontSize: 12,\n    lineHeight: \"15px\",\n    textDecoration: \"none\",\n    \":hover\": {\n      color: globalStyles.colors.women\n    }\n  }),\n  activeLink: css({\n    color: globalStyles.colors.women\n  })\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction Button({ label, outline = false, error = false }: Props) {\n  return (\n    <div\n      css={[\n        styles.button,\n        outline && styles.buttonOutline,\n        error && styles.buttonError\n      ]}\n    >\n      {label}\n    </div>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 36,\n    minWidth: 110,\n    padding: \"0 10px\",\n    backgroundColor: globalStyles.colors.women,\n    color: \"#FFF\",\n    border: `solid ${globalStyles.colors.women} 1px`,\n    borderRadius: 5,\n    cursor: \"pointer\"\n  }),\n  buttonOutline: css({\n    color: globalStyles.colors.women,\n    backgroundColor: \"#FFF\"\n  }),\n  buttonError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n    backgroundColor: \"#FFF\"\n  })\n};\n\nexport default Button;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction ButtonLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.button}>\n      <Button label={label} />\n    </Link>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"inline-flex\",\n    textDecoration: \"none\"\n  })\n};\n\nexport default ButtonLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport { CategorieSocioPro } from \"../globals.d\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>Bienvenue sur Egapro</p>\n\n        <p css={styles.message}>\n          5 indicateurs pour résorber les inégalités entre les femmes et les\n          hommes en entreprise.\n        </p>\n\n        <div css={styles.action}>\n          <ButtonLink\n            to={`/effectifs/${CategorieSocioPro.Ouvriers}`}\n            label=\"commencer la simulation\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 1024,\n    padding: \"12px 0\",\n    margin: \"24px auto\"\n  }),\n  blocTitle: css({\n    fontSize: 32\n  }),\n  message: css({\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 18\n  })\n};\n\nexport default Home;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  style?: any;\n  children?: ReactNode;\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>;\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>;\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>;\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2\n  })\n};\n\nexport { Cell, Cell2, CellHead };\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\n\ninterface Props {\n  title: string;\n  label: string;\n  footer?: string;\n  children: ReactNode;\n  style?: any;\n}\n\nfunction BlocForm({ title, label, footer, children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellMen}>hommes</Cell>\n          <Cell style={styles.cellWomen}>femmes</Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8\n  }),\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\"\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 11,\n    textAlign: \"center\"\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12\n  }),\n  cellMen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.women\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flex: 1\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0\n  })\n};\n\nexport default BlocForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { FieldRenderProps } from \"react-final-form-hooks\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { Cell } from \"./Cell\";\n\nexport const hasFieldError = (meta: FieldRenderProps[\"meta\"]) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && meta.error.mustBeNumber);\n\ninterface Props {\n  field: FieldRenderProps;\n  style?: any;\n}\n\nfunction CellInput({\n  field: {\n    input: { value, ...inputProps },\n    meta\n  },\n  style\n}: Props) {\n  const error = hasFieldError(meta);\n  return (\n    <Cell style={styles.cell}>\n      <input\n        css={[styles.input, style, error && styles.inputError]}\n        autoComplete=\"off\"\n        value={error && !meta.active ? \"erreur\" : value}\n        {...inputProps}\n      />\n    </Cell>\n  );\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\"\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error\n  })\n};\n\nexport default CellInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  name: string;\n  calculable: boolean;\n  femmeFieldName: string;\n  hommeFieldName: string;\n}\n\nfunction CellInputsMenWomen({\n  form,\n  name,\n  readOnly,\n  calculable,\n  femmeFieldName,\n  hommeFieldName\n}: Props) {\n  const femmesField = useField(\n    femmeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n  const hommesField = useField(\n    hommeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n\n  const femmesError = hasFieldError(femmesField.meta);\n  const hommesError = hasFieldError(hommesField.meta);\n  const error = femmesError || hommesError;\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[\n            styles.cellHead,\n            !calculable && styles.cellHeadInvalid,\n            error && calculable && styles.cellHeadError\n          ]}\n        >\n          {name}\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {hommesField.input.value}\n            </Cell>\n\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {femmesField.input.value}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={hommesField} style={styles.cellMen} />\n\n            <CellInput field={femmesField} style={styles.cellWomen} />\n          </React.Fragment>\n        ) : (\n          <Cell2 css={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de 10 femmes ou 10 hommes\n        </div>\n      )}\n      {error && calculable && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cell2: css({\n    textAlign: \"center\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default CellInputsMenWomen;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction ButtonSubmit({ label, outline = false, error = false }: Props) {\n  return (\n    <button type=\"submit\" css={styles.button}>\n      <Button label={label} outline={outline} error={error} />\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\"\n  })\n};\n\nexport default ButtonSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  onClick: () => void;\n}\n\nfunction Action({ children, onClick }: Props) {\n  return (\n    <button css={styles.button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\"\n  })\n};\n\nexport default Action;\n","import { TranchesAges, CategorieSocioPro } from \"../globals.d\";\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\";\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\";\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\";\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayNameCategorieSocioPro(\n  categorieSocioPro: CategorieSocioPro\n): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\";\n    case CategorieSocioPro.Employes:\n      return \"employés\";\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\";\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayPercent(num: number, digits: number = 2): string {\n  return (num * 100).toFixed(digits) + \"%\";\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal);\n  return Math.round(num * mult) / mult;\n};\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5);\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  AppState,\n  CategorieSocioPro,\n  TranchesAges,\n  GroupTranchesAges,\n  ActionEffectifData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport Action from \"../components/Action\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  updateEffectif: (data: ActionEffectifData) => void;\n  validateEffectif: (valid: boolean) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"nombreSalaries\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction GroupEffectif({ state, updateEffectif, validateEffectif }: Props) {\n  const infoFields = state.data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            nbSalarieFemmeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            nbSalarieFemmeValue: parseStateValue(nombreSalariesFemmes),\n            nbSalarieHommeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            nbSalarieHommeValue: parseStateValue(nombreSalariesHommes)\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          nbSalarieFemmeName,\n          nbSalarieFemmeValue,\n          nbSalarieHommeName,\n          nbSalarieHommeValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [nbSalarieFemmeName]: nbSalarieFemmeValue,\n          [nbSalarieHommeName]: nbSalarieHommeValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionEffectifData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => ({\n            trancheAge,\n            nombreSalariesFemmes: parseFormValue(formData[nbSalarieFemmeName]),\n            nombreSalariesHommes: parseFormValue(formData[nbSalarieHommeName])\n          })\n        )\n      })\n    );\n    updateEffectif(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateEffectif(true);\n  };\n\n  const {\n    form,\n    handleSubmit,\n    values,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  return (\n    <div>\n      <p css={styles.blocTitle}>Indication des effectifs</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez le nombre d’effectifs par catégorie socio-professionnelle\n        (CSP) et par tranche d’âge.\n      </p>\n\n      <form onSubmit={handleSubmit} css={[styles.bloc, css({ width })]}>\n        {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n          const totalNbSalarie = tranchesAges.reduce(\n            (acc, { nbSalarieFemmeName, nbSalarieHommeName }) => {\n              return (\n                acc +\n                parseFormValue(values[nbSalarieFemmeName], 0) +\n                parseFormValue(values[nbSalarieHommeName], 0)\n              );\n            },\n            0\n          );\n          return (\n            <BlocForm\n              key={categorieSocioPro}\n              title={displayNameCategorieSocioPro(categorieSocioPro)}\n              label=\"nombre de salariés\"\n              footer={`total ${totalNbSalarie}`}\n            >\n              {tranchesAges.map(\n                ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => {\n                  return (\n                    <CellInputsMenWomen\n                      key={trancheAge}\n                      readOnly={state.formEffectifValidated}\n                      form={form}\n                      name={displayNameTranchesAges(trancheAge)}\n                      calculable={true}\n                      femmeFieldName={nbSalarieFemmeName}\n                      hommeFieldName={nbSalarieHommeName}\n                    />\n                  );\n                }\n              )}\n            </BlocForm>\n          );\n        })}\n\n        {state.formEffectifValidated ? (\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur1\" label=\"suivant\" />\n            <Action onClick={() => validateEffectif(false)}>\n              modifier les données saisies\n            </Action>\n          </div>\n        ) : (\n          <div css={styles.action}>\n            <div\n              css={css({ flexDirection: \"column\", alignItems: \"flex-start\" })}\n            >\n              <ButtonSubmit\n                label=\"valider\"\n                outline={hasValidationErrors}\n                error={submitFailed && hasValidationErrors}\n              />\n              {submitFailed && hasValidationErrors && (\n                <p css={styles.actionError}>\n                  vous ne pouvez pas valider les effectifs\n                  <br />\n                  tant que vous n’avez pas rempli tous les champs\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default memo(\n  GroupEffectif,\n  (prevProps, nextProps) =>\n    prevProps.state.formEffectifValidated ===\n    nextProps.state.formEffectifValidated\n);\n","import { GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100;\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nconst calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0);\n\n// EP\nconst calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal(\n        (ecartPourcentage * effectifsValides) / totalEffectifsValides,\n        3\n      )\n    : undefined;\n\nexport const calculEcartsPonderesParGroupe = (\n  findEcartPourcentage: (groupEffectifEtEcartAugment: {\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }) => number | undefined\n) => (\n  groupEffectifEtEcart: Array<{\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }>,\n  totalEffectifsValides: number\n) =>\n  groupEffectifEtEcart\n    .filter(({ validiteGroupe }) => validiteGroupe)\n    .map(effectifEtEcart => {\n      const { validiteGroupe, effectifsValides } = effectifEtEcart;\n      const ecartPourcentage = findEcartPourcentage(effectifEtEcart);\n      // EP\n      const ecartPondere = calculEcartPondere(\n        validiteGroupe,\n        ecartPourcentage,\n        effectifsValides,\n        totalEffectifsValides\n      );\n\n      return ecartPondere;\n    });\n\n// TEP\nexport const calculTotalEcartPondere = (\n  tableauEcartsPonderes: Array<number | undefined>\n): number | undefined =>\n  tableauEcartsPonderes.length === 0 ||\n  tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter(ecartPondere => ecartPondere !== undefined)\n          .reduce(\n            (acc, val) => (acc || 0) + (val !== undefined ? val : 0),\n            undefined\n          ) || 0,\n        3\n      );\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number;\n  nombreSalariesHommes: number;\n  validiteGroupe: boolean;\n  effectifsValides: number;\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAges,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0;\n  nombreSalariesHommes = nombreSalariesHommes || 0;\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAges>,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  const {\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  } = tranchesAges.reduce(\n    (\n      { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => ({\n      nombreSalariesFemmesGroupe:\n        nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe:\n        nombreSalariesHommesGroupe + (nombreSalariesHommes || 0)\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 }\n  );\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes\n  } = groupEffectif.reduce(\n    (\n      { totalNombreSalariesFemmes, totalNombreSalariesHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => {\n      return {\n        totalNombreSalariesFemmes:\n          totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes:\n          totalNombreSalariesHommes + nombreSalariesHommes\n      };\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0 //TNBH\n    }\n  );\n\n  // TNB\n  const totalNombreSalaries =\n    totalNombreSalariesFemmes + totalNombreSalariesHommes;\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce(\n    (acc, { effectifsValides }) => acc + effectifsValides,\n    0\n  );\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  };\n};\n","import { TranchesAges, Groupe, GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  tauxEffectifValide,\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinence = 5 / 100;\n\nconst baremeEcartRemuneration = [\n  40,\n  39,\n  38,\n  37,\n  36,\n  35,\n  34,\n  33,\n  31,\n  29,\n  27,\n  25,\n  23,\n  21,\n  19,\n  17,\n  14,\n  11,\n  8,\n  5,\n  2,\n  0\n];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere // TEV\n};\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3;\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) /\n          remunerationAnnuelleBrutHommes,\n        3\n      )\n    : undefined;\n\n// ESP\nexport const calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) *\n          Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        3\n      )\n    : undefined;\n\ninterface effectifEtEcartRemuGroup extends effectifGroup {\n  trancheAge: TranchesAges;\n  remunerationAnnuelleBrutFemmes: number;\n  remunerationAnnuelleBrutHommes: number;\n  ecartRemunerationMoyenne: number | undefined;\n  ecartApresApplicationSeuilPertinence: number | undefined;\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAge = (\n  state: Array<Groupe>\n): Array<effectifEtEcartRemuGroup> => {\n  const dataByRow = state.reduce(\n    (acc: Array<GroupTranchesAges>, group) => acc.concat(group.tranchesAges),\n    []\n  );\n\n  const computedDataByRow = dataByRow.map(\n    (groupTrancheAge: GroupTranchesAges) => {\n      const remunerationAnnuelleBrutFemmes =\n        groupTrancheAge.remunerationAnnuelleBrutFemmes || 0;\n      const remunerationAnnuelleBrutHommes =\n        groupTrancheAge.remunerationAnnuelleBrutHommes || 0;\n\n      const effectifs = rowEffectifsParTrancheAge(\n        groupTrancheAge,\n        calculValiditeGroupe\n      );\n\n      // ERM\n      const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes\n      );\n      // ESP\n      const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinence(\n        ecartRemunerationMoyenne\n      );\n\n      return {\n        ...effectifs,\n        trancheAge: groupTrancheAge.trancheAge,\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes,\n        ecartRemunerationMoyenne,\n        ecartApresApplicationSeuilPertinence\n      };\n    }\n  );\n\n  return computedDataByRow;\n};\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) =>\n    ecartApresApplicationSeuilPertinence\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide;\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartRemuneration))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  CategorieSocioPro,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges,\n  ActionIndicateurUnData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { calculValiditeGroupe } from \"../utils/calculsEgaProIndicateurUn\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props {\n  data: Array<Groupe>;\n  readOnly: boolean;\n  updateIndicateurUn: (data: ActionIndicateurUnData) => void;\n  validateIndicateurUn: (valid: boolean) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string =>\n  \"remunerationAnnuelleBrut\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurUnForm({\n  data,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const infoFields = data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes,\n          remunerationAnnuelleBrutFemmes,\n          remunerationAnnuelleBrutHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            calculable: calculValiditeGroupe(\n              nombreSalariesFemmes || 0,\n              nombreSalariesHommes || 0\n            ),\n            remunerationAnnuelleBrutFemmesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            remunerationAnnuelleBrutFemmesValue: parseStateValue(\n              remunerationAnnuelleBrutFemmes\n            ),\n            remunerationAnnuelleBrutHommesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            remunerationAnnuelleBrutHommesValue: parseStateValue(\n              remunerationAnnuelleBrutHommes\n            )\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          remunerationAnnuelleBrutFemmesName,\n          remunerationAnnuelleBrutFemmesValue,\n          remunerationAnnuelleBrutHommesName,\n          remunerationAnnuelleBrutHommesValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [remunerationAnnuelleBrutFemmesName]: remunerationAnnuelleBrutFemmesValue,\n          [remunerationAnnuelleBrutHommesName]: remunerationAnnuelleBrutHommesValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurUnData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmesName,\n            remunerationAnnuelleBrutHommesName\n          }) => ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseFormValue(\n              formData[remunerationAnnuelleBrutFemmesName]\n            ),\n            remunerationAnnuelleBrutHommes: parseFormValue(\n              formData[remunerationAnnuelleBrutHommesName]\n            )\n          })\n        )\n      })\n    );\n    updateIndicateurUn(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurUn(true);\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  return (\n    <form onSubmit={handleSubmit} css={[styles.container, css({ width })]}>\n      {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n        return (\n          <BlocForm\n            key={categorieSocioPro}\n            title={displayNameCategorieSocioPro(categorieSocioPro)}\n            label=\"rémunération moyenne\"\n          >\n            {tranchesAges.map(\n              ({\n                trancheAge,\n                calculable,\n                remunerationAnnuelleBrutFemmesName,\n                remunerationAnnuelleBrutHommesName\n              }) => {\n                return (\n                  <CellInputsMenWomen\n                    key={trancheAge}\n                    form={form}\n                    name={displayNameTranchesAges(trancheAge)}\n                    readOnly={readOnly}\n                    calculable={calculable}\n                    femmeFieldName={remunerationAnnuelleBrutFemmesName}\n                    hommeFieldName={remunerationAnnuelleBrutHommesName}\n                  />\n                );\n              }\n            )}\n          </BlocForm>\n        );\n      })}\n\n      {readOnly ? (\n        <div css={styles.action}>\n          <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n        </div>\n      ) : (\n        <div css={styles.action}>\n          <ButtonSubmit\n            label=\"valider\"\n            outline={hasValidationErrors}\n            error={submitFailed && hasValidationErrors}\n          />\n          {submitFailed && hasValidationErrors && (\n            <p css={styles.actionError}>\n              vous ne pouvez pas valider l’indicateur\n              <br />\n              tant que vous n’avez pas rempli tous les champs\n            </p>\n          )}\n        </div>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default memo(\n  IndicateurUnForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport Action from \"../components/Action\";\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined;\n  noteIndicateurUn: number | undefined;\n  validateIndicateurUn: (valid: boolean) => void;\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  noteIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const absoluteResult =\n    indicateurEcartRemuneration !== undefined\n      ? Math.abs(indicateurEcartRemuneration)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartRemuneration !== undefined\n      ? Math.sign(indicateurEcartRemuneration) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div>\n      <div css={styles.container}>\n        <div css={styles.bloc}>\n          <div>\n            <p css={styles.message}>\n              <span css={styles.messageLabel}>votre résultat final est </span>\n              <span css={styles.messageData}>\n                {absoluteResult !== undefined\n                  ? absoluteResult.toFixed(1)\n                  : \"--\"}{\" \"}\n                %\n              </span>\n            </p>\n            {genderFavoriteResult && (\n              <p css={styles.info}>\n                écart favorable aux {genderFavoriteResult}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <p css={styles.message}>\n              <span css={styles.messageLabel}>votre note obtenue est </span>\n              <span css={styles.messageData}>\n                {noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\"}\n                /40\n              </span>\n            </p>\n            <p css={styles.info}>mesures de correction prises en compte</p>\n          </div>\n        </div>\n      </div>\n\n      <p css={styles.edit}>\n        <Action onClick={() => validateIndicateurUn(false)}>\n          modifier les données saisies\n        </Action>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    marginTop: 64,\n    width: \"100%\",\n    position: \"relative\",\n    height: 0,\n    paddingTop: \"100%\"\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\"\n  }),\n  message: css({\n    marginBottom: 9,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  messageLabel: css({\n    marginRight: \"auto\"\n  }),\n  messageData: css({\n    fontWeight: \"bold\"\n  }),\n  info: css({\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\",\n\n    borderBottom: \"1px solid #FFFFFF\"\n  }),\n\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurUnResult;\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport { AppState, ActionType, ActionIndicateurUnData } from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport {\n  calculEffectifsEtEcartRemuParTrancheAge,\n  calculTotalEffectifs,\n  calculEcartsPonderesParTrancheAge,\n  calculTotalEcartPondere,\n  calculIndicateurCalculable,\n  calculIndicateurEcartRemuneration,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurUn\";\n\nimport ButtonLink from \"../components/ButtonLink\";\nimport IndicateurUnForm from \"./IndicateurUnForm\";\nimport IndicateurUnResult from \"./IndicateurUnResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurUn({ state, dispatch, match, history }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnData) =>\n      dispatch({ type: \"updateIndicateurUn\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurUn = useCallback(\n    (valid: boolean) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartRemuParTranche = calculEffectifsEtEcartRemuParTrancheAge(\n    state.data\n  );\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(\n    effectifEtEcartRemuParTranche\n  );\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(\n    effectifEtEcartRemuParTranche,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemuneration);\n\n  return (\n    <div css={styles.bloc}>\n      <p css={styles.blocTitle}>Indicateur 1, écart de rémunération</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez la rémunération (annuelle / mensuelle) moyenne des femmes et\n        des hommes par CSP et par tranche d’âge.\n      </p>\n      {indicateurCalculable && state.formEffectifValidated ? (\n        <div css={styles.body}>\n          <IndicateurUnForm\n            data={state.data}\n            readOnly={state.formIndicateurUnValidated}\n            updateIndicateurUn={updateIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n          {state.formIndicateurUnValidated && (\n            <div css={styles.result}>\n              <IndicateurUnResult\n                indicateurEcartRemuneration={indicateurEcartRemuneration}\n                noteIndicateurUn={noteIndicateurUn}\n                validateIndicateurUn={validateIndicateurUn}\n              />\n            </div>\n          )}\n        </div>\n      ) : (\n        <div>\n          <div css={styles.indicatorUnavailable}>\n            <p css={styles.indicatorUnavailableTitle}>\n              Malheureusement votre indicateur n’est pas calculable\n            </p>\n            <p css={styles.indicatorUnavailableText}>\n              car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\n            </p>\n          </div>\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  result: css({\n    flex: 1,\n    marginLeft: 16,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n\n  indicatorUnavailable: css({\n    padding: 16,\n    backgroundColor: \"#FFF\",\n    border: \"1px solid #EFECEF\"\n  }),\n  indicatorUnavailableTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  indicatorUnavailableText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginTop: 46,\n    marginBottom: 36\n  })\n};\n\nexport default IndicateurUn;\n","import { CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  tauxEffectifValide,\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere // TEV\n};\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10;\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number,\n  tauxAugmentationHommes: number\n): number | undefined =>\n  tauxAugmentationFemmes > 0 && tauxAugmentationHommes > 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 3)\n    : undefined;\n\ninterface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number;\n  tauxAugmentationHommes: number;\n  ecartTauxAugmentation: number | undefined;\n}\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartAugmentGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }: Groupe) => {\n      tauxAugmentationFemmes = tauxAugmentationFemmes || 0;\n      tauxAugmentationHommes = tauxAugmentationHommes || 0;\n\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxAugmentationFemmes,\n    sommeProduitTauxAugmentationHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      {\n        sommeProduitTauxAugmentationFemmes,\n        sommeProduitTauxAugmentationHommes\n      },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes +\n          (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes +\n          (tauxAugmentationHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0\n    }\n  );\n\n  // TTAF\n  const totalTauxAugmentationFemmes =\n    sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes;\n\n  // TTAH\n  const totalTauxAugmentationHommes =\n    sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0);\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? baremEcartAugmentation[\n        Math.min(\n          baremEcartAugmentation.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartAugmentation))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport { displayPercent } from \"../utils/helpers\";\n\ninterface Props {\n  nombreSalariesTotal: number;\n  nombreSalariesGroupesValides: number;\n  indicateurCalculable: boolean;\n}\n\nfunction IndicateurDeuxStart({\n  nombreSalariesTotal,\n  nombreSalariesGroupesValides,\n  indicateurCalculable\n}: Props) {\n  const pourcentageEffectifsValides =\n    nombreSalariesTotal > 0\n      ? nombreSalariesGroupesValides / nombreSalariesTotal\n      : 0;\n\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>\n          Indicateur 2 {indicateurCalculable ? \"Calculable\" : \"Non Calculable\"}\n        </p>\n\n        <div css={styles.message}>\n          <p>\n            Les groupes valident représentent{\" \"}\n            {displayPercent(pourcentageEffectifsValides, 0)}\n          </p>\n        </div>\n\n        <div css={styles.message}>\n          <p>\n            Donc les groupes valident{\" \"}\n            {indicateurCalculable ? \"représentent\" : \"ne réprésentent pas\"} un\n            effectif supérieur ou égal à 40%.\n          </p>\n        </div>\n\n        <ButtonLink to={`/indicateur2/formulaire`} label=\"Continuer\" />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 800,\n    padding: \"12px 24px\",\n    margin: \"24px auto\",\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.12)\"\n  }),\n  blocTitle: css({\n    fontSize: 24,\n    paddingTop: 6,\n    paddingBottom: 24,\n    color: \"#353535\",\n    textAlign: \"center\"\n  }),\n  message: css({\n    fontSize: 26,\n    fontWeight: 200,\n    textAlign: \"center\",\n    marginBottom: 32,\n    marginTop: 12\n  })\n};\n\nexport default IndicateurDeuxStart;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport { CategorieSocioPro, ActionIndicateurDeuxData } from \"../globals.d\";\n\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  ecartAugmentParCategorieSocioPro: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    validiteGroupe: boolean;\n    tauxAugmentationFemmes: number | undefined;\n    tauxAugmentationHommes: number | undefined;\n  }>;\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxAugmentation\" + categorieSocioPro + genre;\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  updateIndicateurDeux,\n  history\n}: Props) {\n  const infoFields = ecartAugmentParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxAugmentationFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxAugmentationFemmesValue:\n          tauxAugmentationFemmes === undefined\n            ? \"\"\n            : String(fractionToPercentage(tauxAugmentationFemmes)),\n        tauxAugmentationHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxAugmentationHommesValue:\n          tauxAugmentationHommes === undefined\n            ? \"\"\n            : String(fractionToPercentage(tauxAugmentationHommes))\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxAugmentationFemmesName,\n        tauxAugmentationFemmesValue,\n        tauxAugmentationHommesName,\n        tauxAugmentationHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxAugmentationFemmesName]: tauxAugmentationFemmesValue,\n        [tauxAugmentationHommesName]: tauxAugmentationHommesValue\n      };\n    },\n    {}\n  );\n\n  const onSubmit = (formData: any) => {\n    const data: ActionIndicateurDeuxData = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxAugmentationFemmesName,\n        tauxAugmentationHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes:\n          formData[tauxAugmentationFemmesName] === \"\"\n            ? undefined\n            : percentageToFraction(\n                parseFloat(formData[tauxAugmentationFemmesName])\n              ),\n        tauxAugmentationHommes:\n          formData[tauxAugmentationHommesName] === \"\"\n            ? undefined\n            : percentageToFraction(\n                parseFloat(formData[tauxAugmentationHommesName])\n              )\n      })\n    );\n    updateIndicateurDeux(data);\n\n    history.push(\"/indicateur2/resultat\");\n  };\n\n  const { form, handleSubmit /*, values, pristine, submitting*/ } = useForm({\n    initialValues,\n    onSubmit // the function to call with your form values upon valid submit\n    //validate // a record-level validation function to check all form values\n  });\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>\n          Taux d'augmentation (proportions de salariés augmentés)\n        </p>\n\n        <div css={styles.row}>\n          <div css={styles.cellHead}>taux</div>\n          <div css={styles.cell}>femmes</div>\n          <div css={styles.cell}>hommes</div>\n        </div>\n\n        {infoFields.map(\n          ({\n            categorieSocioPro,\n            validiteGroupe,\n            tauxAugmentationFemmesName,\n            tauxAugmentationHommesName\n          }) => {\n            return (\n              <CellInputsMenWomen\n                key={categorieSocioPro}\n                form={form}\n                name={displayNameCategorieSocioPro(categorieSocioPro)}\n                readOnly={false}\n                calculable={validiteGroupe}\n                femmeFieldName={tauxAugmentationFemmesName}\n                hommeFieldName={tauxAugmentationHommesName}\n              />\n            );\n          }\n        )}\n\n        <ButtonSubmit label=\"Valider\" />\n      </div>\n    </form>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 800,\n    padding: \"12px 24px\",\n    margin: \"24px auto\",\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.12)\"\n  }),\n  blocTitle: css({\n    fontSize: 24,\n    paddingTop: 6,\n    paddingBottom: 24,\n    color: \"#353535\"\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 12,\n    marginBottom: 24\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    flexBasis: \"0%\",\n    textAlign: \"right\",\n    fontWeight: \"bold\"\n  }),\n  cell: css({\n    flexGrow: 2,\n    flexBasis: \"0%\",\n    marginLeft: 24,\n    textAlign: \"center\",\n    fontWeight: \"bold\"\n  }),\n  message: css({\n    fontSize: 26,\n    fontWeight: 200,\n    textAlign: \"center\",\n    marginBottom: 32,\n    marginTop: 12\n  })\n};\n\nexport default IndicateurDeuxForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurCalculable: boolean;\n  indicateurEcartAugmentation: number | undefined;\n  noteIndicateurDeux: number | undefined;\n}\n\nfunction IndicateurDeuxResult({\n  indicateurCalculable,\n  indicateurEcartAugmentation,\n  noteIndicateurDeux\n}: Props) {\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>\n          Indicateur 2 {indicateurCalculable ? \"Calculable\" : \"Non Calculable\"}\n        </p>\n\n        <div css={styles.message}>\n          {indicateurEcartAugmentation !== undefined ? (\n            <p>\n              indicateur d'écart d'augmentation :{\" \"}\n              {indicateurEcartAugmentation.toFixed(1)}%\n            </p>\n          ) : (\n            <p>---</p>\n          )}\n        </div>\n\n        <div css={styles.message}>\n          {noteIndicateurDeux !== undefined ? (\n            <p>Note : {noteIndicateurDeux}</p>\n          ) : (\n            <p>---</p>\n          )}\n        </div>\n\n        <ButtonLink to=\"/indicateur3\" label=\"Continuer\" />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 800,\n    padding: \"12px 24px\",\n    margin: \"24px auto\",\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.12)\"\n  }),\n  blocTitle: css({\n    fontSize: 24,\n    paddingTop: 6,\n    paddingBottom: 24,\n    color: \"#353535\",\n    textAlign: \"center\"\n  }),\n  message: css({\n    fontSize: 26,\n    fontWeight: 200,\n    textAlign: \"center\",\n    marginBottom: 32,\n    marginTop: 12\n  })\n};\n\nexport default IndicateurDeuxResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { RouteComponentProps, Route, Switch } from \"react-router-dom\";\n\nimport { AppState, ActionType, ActionIndicateurDeuxData } from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartAugmentParCategorieSocioPro,\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartsPonderesParCategorieSocioPro,\n  calculTotalEcartPondere,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport IndicateurDeuxStart from \"./IndicateurDeuxStart\";\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\";\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurDeux({ state, dispatch, match }: Props) {\n  const updateIndicateurDeux = (data: ActionIndicateurDeuxData) =>\n    dispatch({ type: \"updateIndicateurDeux\", data });\n\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  );\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurDeux = calculNote(indicateurEcartAugmentation);\n\n  return (\n    <Switch>\n      <Route\n        path={match.path}\n        exact\n        render={props => (\n          <IndicateurDeuxStart\n            {...props}\n            nombreSalariesTotal={totalNombreSalaries}\n            nombreSalariesGroupesValides={totalEffectifsValides}\n            indicateurCalculable={indicateurCalculable}\n          />\n        )}\n      />\n      <Route\n        path={`${match.path}/formulaire`}\n        render={props => (\n          <IndicateurDeuxForm\n            {...props}\n            ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n            updateIndicateurDeux={updateIndicateurDeux}\n          />\n        )}\n      />\n      <Route\n        path={`${match.path}/resultat`}\n        render={props => (\n          <IndicateurDeuxResult\n            {...props}\n            indicateurCalculable={indicateurCalculable}\n            indicateurEcartAugmentation={indicateurEcartAugmentation}\n            noteIndicateurDeux={noteIndicateurDeux}\n          />\n        )}\n      />\n    </Switch>\n  );\n}\n\nexport default IndicateurDeux;\n","import { CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation;\n\ninterface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number;\n  tauxPromotionHommes: number;\n  ecartTauxPromotion: number | undefined;\n}\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartPromoGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }: Groupe) => {\n      tauxPromotionFemmes = tauxPromotionFemmes || 0;\n      tauxPromotionHommes = tauxPromotionHommes || 0;\n\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxPromotion = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxPromotionFemmes,\n    sommeProduitTauxPromotionHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes +\n          (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes +\n          (tauxPromotionHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0\n    }\n  );\n\n  // TTPF\n  const totalTauxPromotionFemmes =\n    sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes;\n\n  // TTPH\n  const totalTauxPromotionHommes =\n    sommeProduitTauxPromotionHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion\n);\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined\n): number | undefined =>\n  indicateurEcartPromotion !== undefined\n    ? baremEcartPromotion[\n        Math.min(\n          baremEcartPromotion.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartPromotion))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport { displayPercent } from \"../utils/helpers\";\n\ninterface Props {\n  nombreSalariesTotal: number;\n  nombreSalariesGroupesValides: number;\n  indicateurCalculable: boolean;\n}\n\nfunction IndicateurTroisStart({\n  nombreSalariesTotal,\n  nombreSalariesGroupesValides,\n  indicateurCalculable\n}: Props) {\n  const pourcentageEffectifsValides =\n    nombreSalariesTotal > 0\n      ? nombreSalariesGroupesValides / nombreSalariesTotal\n      : 0;\n\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>\n          Indicateur 3 {indicateurCalculable ? \"Calculable\" : \"Non Calculable\"}\n        </p>\n\n        <div css={styles.message}>\n          <p>\n            Les groupes valident représentent{\" \"}\n            {displayPercent(pourcentageEffectifsValides, 0)}\n          </p>\n        </div>\n\n        <div css={styles.message}>\n          <p>\n            Donc les groupes valident{\" \"}\n            {indicateurCalculable ? \"représentent\" : \"ne réprésentent pas\"} un\n            effectif supérieur ou égal à 40%.\n          </p>\n        </div>\n\n        <ButtonLink to={`/indicateur3/formulaire`} label=\"Continuer\" />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 800,\n    padding: \"12px 24px\",\n    margin: \"24px auto\",\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.12)\"\n  }),\n  blocTitle: css({\n    fontSize: 24,\n    paddingTop: 6,\n    paddingBottom: 24,\n    color: \"#353535\",\n    textAlign: \"center\"\n  }),\n  message: css({\n    fontSize: 26,\n    fontWeight: 200,\n    textAlign: \"center\",\n    marginBottom: 32,\n    marginTop: 12\n  })\n};\n\nexport default IndicateurTroisStart;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport { CategorieSocioPro, ActionIndicateurTroisData } from \"../globals.d\";\n\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  ecartPromoParCategorieSocioPro: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    validiteGroupe: boolean;\n    tauxPromotionFemmes: number | undefined;\n    tauxPromotionHommes: number | undefined;\n  }>;\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxPromotion\" + categorieSocioPro + genre;\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  updateIndicateurTrois,\n  history\n}: Props) {\n  const infoFields = ecartPromoParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxPromotionFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxPromotionFemmesValue:\n          tauxPromotionFemmes === undefined\n            ? \"\"\n            : String(fractionToPercentage(tauxPromotionFemmes)),\n        tauxPromotionHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxPromotionHommesValue:\n          tauxPromotionHommes === undefined\n            ? \"\"\n            : String(fractionToPercentage(tauxPromotionHommes))\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxPromotionFemmesName,\n        tauxPromotionFemmesValue,\n        tauxPromotionHommesName,\n        tauxPromotionHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxPromotionFemmesName]: tauxPromotionFemmesValue,\n        [tauxPromotionHommesName]: tauxPromotionHommesValue\n      };\n    },\n    {}\n  );\n\n  const onSubmit = (formData: any) => {\n    const data: ActionIndicateurTroisData = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxPromotionFemmesName,\n        tauxPromotionHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes:\n          formData[tauxPromotionFemmesName] === \"\"\n            ? undefined\n            : percentageToFraction(\n                parseFloat(formData[tauxPromotionFemmesName])\n              ),\n        tauxPromotionHommes:\n          formData[tauxPromotionHommesName] === \"\"\n            ? undefined\n            : percentageToFraction(\n                parseFloat(formData[tauxPromotionHommesName])\n              )\n      })\n    );\n    updateIndicateurTrois(data);\n\n    history.push(\"/indicateur3/resultat\");\n  };\n\n  const { form, handleSubmit /*, values, pristine, submitting*/ } = useForm({\n    initialValues,\n    onSubmit // the function to call with your form values upon valid submit\n    //validate // a record-level validation function to check all form values\n  });\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>\n          Taux de promotion (proportions de salariés promus)\n        </p>\n\n        <div css={styles.row}>\n          <div css={styles.cellHead}>taux</div>\n          <div css={styles.cell}>femmes</div>\n          <div css={styles.cell}>hommes</div>\n        </div>\n\n        {infoFields.map(\n          ({\n            categorieSocioPro,\n            validiteGroupe,\n            tauxPromotionFemmesName,\n            tauxPromotionHommesName\n          }) => {\n            return (\n              <CellInputsMenWomen\n                key={categorieSocioPro}\n                form={form}\n                name={displayNameCategorieSocioPro(categorieSocioPro)}\n                readOnly={false}\n                calculable={validiteGroupe}\n                femmeFieldName={tauxPromotionFemmesName}\n                hommeFieldName={tauxPromotionHommesName}\n              />\n            );\n          }\n        )}\n\n        <ButtonSubmit label=\"Valider\" />\n      </div>\n    </form>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 800,\n    padding: \"12px 24px\",\n    margin: \"24px auto\",\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.12)\"\n  }),\n  blocTitle: css({\n    fontSize: 24,\n    paddingTop: 6,\n    paddingBottom: 24,\n    color: \"#353535\"\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 12,\n    marginBottom: 24\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    flexBasis: \"0%\",\n    textAlign: \"right\",\n    fontWeight: \"bold\"\n  }),\n  cell: css({\n    flexGrow: 2,\n    flexBasis: \"0%\",\n    marginLeft: 24,\n    textAlign: \"center\",\n    fontWeight: \"bold\"\n  }),\n  message: css({\n    fontSize: 26,\n    fontWeight: 200,\n    textAlign: \"center\",\n    marginBottom: 32,\n    marginTop: 12\n  })\n};\n\nexport default IndicateurTroisForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurCalculable: boolean;\n  indicateurEcartPromotion: number | undefined;\n  noteIndicateurTrois: number | undefined;\n}\n\nfunction IndicateurTroisResult({\n  indicateurCalculable,\n  indicateurEcartPromotion,\n  noteIndicateurTrois\n}: Props) {\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>\n          Indicateur 3 {indicateurCalculable ? \"Calculable\" : \"Non Calculable\"}\n        </p>\n\n        <div css={styles.message}>\n          {indicateurEcartPromotion !== undefined ? (\n            <p>\n              indicateur d'écart d'augmentation :{\" \"}\n              {indicateurEcartPromotion.toFixed(1)}%\n            </p>\n          ) : (\n            <p>---</p>\n          )}\n        </div>\n\n        <div css={styles.message}>\n          {noteIndicateurTrois !== undefined ? (\n            <p>Note : {noteIndicateurTrois}</p>\n          ) : (\n            <p>---</p>\n          )}\n        </div>\n\n        <ButtonLink to=\"/indicateur4\" label=\"Continuer\" />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 800,\n    padding: \"12px 24px\",\n    margin: \"24px auto\",\n    backgroundColor: \"white\",\n    borderRadius: 6,\n    boxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.12)\"\n  }),\n  blocTitle: css({\n    fontSize: 24,\n    paddingTop: 6,\n    paddingBottom: 24,\n    color: \"#353535\",\n    textAlign: \"center\"\n  }),\n  message: css({\n    fontSize: 26,\n    fontWeight: 200,\n    textAlign: \"center\",\n    marginBottom: 32,\n    marginTop: 12\n  })\n};\n\nexport default IndicateurTroisResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { RouteComponentProps, Route, Switch } from \"react-router-dom\";\n\nimport { AppState, ActionType, ActionIndicateurTroisData } from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartPromoParCategorieSocioPro,\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartsPonderesParCategorieSocioPro,\n  calculTotalEcartPondere,\n  calculIndicateurCalculable,\n  calculIndicateurEcartPromotion,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport IndicateurTroisStart from \"./IndicateurTroisStart\";\nimport IndicateurTroisForm from \"./IndicateurTroisForm\";\nimport IndicateurTroisResult from \"./IndicateurTroisResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurTrois({ state, dispatch, match }: Props) {\n  const updateIndicateurTrois = (data: ActionIndicateurTroisData) =>\n    dispatch({ type: \"updateIndicateurTrois\", data });\n\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  );\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurTrois = calculNote(indicateurEcartPromotion);\n\n  return (\n    <Switch>\n      <Route\n        path={match.path}\n        exact\n        render={props => (\n          <IndicateurTroisStart\n            {...props}\n            nombreSalariesTotal={totalNombreSalaries}\n            nombreSalariesGroupesValides={totalEffectifsValides}\n            indicateurCalculable={indicateurCalculable}\n          />\n        )}\n      />\n      <Route\n        path={`${match.path}/formulaire`}\n        render={props => (\n          <IndicateurTroisForm\n            {...props}\n            ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n            updateIndicateurTrois={updateIndicateurTrois}\n          />\n        )}\n      />\n      <Route\n        path={`${match.path}/resultat`}\n        render={props => (\n          <IndicateurTroisResult\n            {...props}\n            indicateurCalculable={indicateurCalculable}\n            indicateurEcartPromotion={indicateurEcartPromotion}\n            noteIndicateurTrois={noteIndicateurTrois}\n          />\n        )}\n      />\n    </Switch>\n  );\n}\n\nexport default IndicateurTrois;\n","type EnumType = { [s: number]: string };\n\nexport default function mapEnum(enumerable: EnumType, fn: Function): any[] {\n  // get all the members of the enum\n  let enumMembers: any[] = Object.keys(enumerable).map(\n    (key: any) => enumerable[key]\n  );\n\n  // we are only interested in the numeric identifiers as these represent the values\n  let enumValues: number[] = enumMembers.filter(v => typeof v === \"number\");\n\n  // now map through the enum values\n  return enumValues.map(m => fn(m));\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useReducer, useEffect, useCallback, ReactNode } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  RouteComponentProps\n} from \"react-router-dom\";\n\nimport {\n  AppState,\n  TranchesAges,\n  CategorieSocioPro,\n  ActionEffectifData\n} from \"./globals.d\";\n\nimport globalStyles from \"./utils/globalStyles\";\nimport mapEnum from \"./utils/mapEnum\";\n\nimport AppReducer from \"./AppReducer\";\n\nimport GridProvider from \"./components/GridContext\";\nimport Header from \"./components/Header\";\nimport Menu from \"./components/Menu\";\n\nimport Home from \"./views/Home\";\nimport GroupEffectif from \"./views/GroupEffectif\";\nimport IndicateurUn from \"./views/IndicateurUn\";\nimport IndicateurDeux from \"./views/IndicateurDeux\";\nimport IndicateurTrois from \"./views/IndicateurTrois\";\n\nconst baseGroupTranchesAgesState = {\n  nombreSalariesFemmes: undefined,\n  nombreSalariesHommes: undefined,\n  remunerationAnnuelleBrutFemmes: undefined,\n  remunerationAnnuelleBrutHommes: undefined\n};\n\nconst baseTranchesAge = mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n  trancheAge,\n  ...baseGroupTranchesAgesState\n}));\n\nconst baseGroupe = {\n  tranchesAges: [...baseTranchesAge],\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined\n};\n\nconst defaultState: AppState = {\n  data: [\n    {\n      categorieSocioPro: CategorieSocioPro.Ouvriers,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Employes,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Techniciens,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Cadres,\n      ...baseGroupe\n    }\n  ],\n  formEffectifValidated: false,\n  formIndicateurUnValidated: false\n};\n\nconst localStorageEgapro = localStorage.getItem(\"egapro\");\nconst initialState = localStorageEgapro\n  ? JSON.parse(localStorageEgapro)\n  : defaultState;\n\nfunction App() {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    const stateStringify = JSON.stringify(state);\n    localStorage.setItem(\"egapro\", stateStringify);\n  }, [state]);\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch]\n  );\n\n  const validateEffectif = useCallback(\n    (valid: boolean) => dispatch({ type: \"validateEffectif\", valid }),\n    [dispatch]\n  );\n\n  return (\n    <Router>\n      <GridProvider>\n        <div css={styles.layout}>\n          <div css={styles.leftColumn}>\n            <Header />\n\n            <MainScrollViewWithRouter state={state}>\n              <Switch>\n                <Route path=\"/\" exact render={props => <Home {...props} />} />\n                <Route\n                  path=\"/effectifs\"\n                  render={props => (\n                    <GroupEffectif\n                      {...props}\n                      state={state}\n                      updateEffectif={updateEffectif}\n                      validateEffectif={validateEffectif}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur1\"\n                  render={props => (\n                    <IndicateurUn\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur2\"\n                  render={props => (\n                    <IndicateurDeux\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur3\"\n                  render={props => (\n                    <IndicateurTrois\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n              </Switch>\n            </MainScrollViewWithRouter>\n          </div>\n\n          <div css={styles.rightColumn} />\n        </div>\n      </GridProvider>\n    </Router>\n  );\n}\n\ninterface MainScrollViewProps extends RouteComponentProps {\n  children: ReactNode;\n  state: AppState;\n}\n\nfunction MainScrollView({ children, state, location }: MainScrollViewProps) {\n  // Usefull to reset the scroll while navigating\n  return (\n    <div css={styles.main} key={location.key}>\n      <div css={styles.menu}>\n        <Menu\n          formEffectifValidated={state.formEffectifValidated}\n          formIndicateurUnValidated={state.formIndicateurUnValidated}\n        />\n      </div>\n      <div css={styles.view}>{children}</div>\n    </div>\n  );\n}\nconst MainScrollViewWithRouter = withRouter(MainScrollView);\n\nconst styles = {\n  layout: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  }),\n  leftColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxWidth: globalStyles.grid.maxWidth - 375\n  }),\n  rightColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 375,\n    flexShrink: 0,\n    backgroundColor: \"#AAAEE1\"\n  }),\n  main: css({\n    overflowY: \"auto\",\n    display: \"flex\",\n    flex: 1,\n    position: \"relative\",\n    background:\n      \"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), rgba(138, 146, 217, 0.14)\"\n  }),\n  menu: css({\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    paddingBottom: 80\n  }),\n  view: css({\n    flex: 1\n  })\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}