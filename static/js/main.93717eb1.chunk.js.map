{"version":3,"sources":["globals.d.ts","utils/globalStyles.tsx","AppReducer.tsx","components/GridContext.tsx","components/Header.tsx","components/Menu.tsx","components/Button.tsx","components/ButtonLink.tsx","views/Home.tsx","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/CellInputsMenWomen.tsx","components/ButtonSubmit.tsx","components/ActionLink.tsx","utils/helpers.tsx","views/GroupEffectif.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","components/Page.tsx","components/LayoutFormAndResult.tsx","components/InfoBloc.tsx","components/ActionBar.tsx","components/FormSubmit.tsx","views/IndicateurUnForm.tsx","components/ResultBubble.tsx","views/IndicateurUnResult.tsx","views/IndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","views/IndicateurDeuxForm.tsx","views/IndicateurDeuxResult.tsx","views/IndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","views/IndicateurTroisForm.tsx","views/IndicateurTroisResult.tsx","views/IndicateurTrois.tsx","utils/mapEnum.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","globalStyles","colors","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","updateIndicateurUn","stateData","actionData","map","group","datumCat","find","_ref5","categorieSocioPro","Object","objectSpread","tranchesAges","groupTranchesAges","datumAge","_ref6","trancheAge","assign","AppReducer","state","action","type","data","_ref3","_ref4","formEffectifValidated","valid","formIndicateurUnValidated","formIndicateurDeuxValidated","formIndicateurTroisValidated","datum","_ref","_ref2","totalGuttersWidth","getColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","GridContext","React","createContext","window","innerWidth","GridProvider","children","_useState","useState","_useState2","slicedToArray","setColumnWidth","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","value","useMemo","react_default","a","createElement","Provider","useColumnsWidth","numColumns","_useGridContext","useContext","styles","header","css","backgroundColor","height","flexShrink","display","flexDirection","alignItems","justifyContent","borderBottom","headerLeft","marginLeft","marginRight","headerInner","flexGrow","title","fontSize","subtitle","Header","width","core_browser_esm","CustomNavLink","label","to","_ref$activeOnlyWhenEx","activeOnlyWhenExact","react_router","path","exact","match","react_router_dom","link","activeLink","menu","paddingTop","paddingBottom","color","lineHeight","textDecoration",":hover","Menu","button","padding","border","concat","borderRadius","cursor","buttonOutline","buttonError","borderColor","Button","_ref$outline","outline","_ref$error","ButtonLink","components_Button","bloc","margin","blocTitle","message","marginTop","Home","props","components_ButtonLink","Cell","style","cell","Cell2","cell2","CellHead","cellHead","container","position","marginBottom","background","top","bottom","left","right","blocForm","borderLeft","borderRight","blocFormWithFooter","blocFormInner","paddingRight","paddingLeft","rowHead","minHeight","rowHeadCellHead","textTransform","rowHeadCell","textAlign","rowHeadBorder","rowGender","cellMen","cellWomen","rowFoot","rowFootCell","rowFootTotal","rowFootBorderLeft","flex","rowFootBorderRight","BlocForm","footer","react","hasFieldError","meta","submitFailed","touched","mustBeNumber","input","appearance","inputError","CellInput","_ref$field","field","_ref$field$input","inputProps","objectWithoutProperties","autoComplete","active","validate","requiredError","required","mustBeNumberError","Number","isNaN","row","cellHeadInvalid","cellHeadError","cellEmpty","cellEmptyMen","cellEmptyWomen","fontStyle","CellInputsMenWomen","form","name","readOnly","calculable","femmeFieldName","hommeFieldName","femmesField","useField","undefined","hommesField","femmesError","hommesError","Fragment","components_CellInput","all","ButtonSubmit","ActionLink","onClick","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Ouvriers","Employes","Techniciens","Cadres","displayPercent","digits","arguments","length","toFixed","roundDecimal","decimal","mult","pow","round","fractionToPercentage","percentageToFraction","getFieldName","genre","parseFormValue","defaultValue","parseInt","parseStateValue","String","page","blocSubtitle","actionError","indicatorInvalid","indicatorInvalidTitle","indicatorInvalidText","indicatorInvalidLink","memo","updateEffectif","validateEffectif","infoFields","nombreSalariesFemmes","nombreSalariesHommes","nbSalarieFemmeName","nbSalarieFemmeValue","nbSalarieHommeName","nbSalarieHommeValue","initialValues","reduce","acc1","acc2","_objectSpread2","defineProperty","saveForm","formData","_ref7","_useForm","useForm","onSubmit","handleSubmit","values","hasValidationErrors","subscribe","_ref8","dirty","_ref9","totalNbSalarie","acc","_ref10","components_BlocForm","key","_ref11","components_CellInputsMenWomen","components_ActionLink","components_ButtonSubmit","prevProps","nextProps","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","filter","effectifEtEcart","effectifsValides","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","includes","ecartPondere","val","rowEffectifsParCategorieSocioPro","calculValiditeGroupe","_tranchesAges$reduce","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","_groupEffectif$reduce","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","calculEffectifsIndicateurCalculable","baremeEcartRemuneration","calculEffectifsEtEcartRemuParTrancheAge","groupTrancheAge","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","effectifs","rowEffectifsParTrancheAge","ecartRemunerationMoyenne","calculEcartRemunerationMoyenne","ecartApresApplicationSeuilPertinence","sign","abs","calculEcartApresApplicationSeuilPertinence","calculEcartsPonderesParTrancheAge","calculIndicateurEcartRemuneration","indicateurCalculable","totalEcartPondere","calculNote","indicateurEcartRemuneration","ceil","tagline","Page","body","result","LayoutFormAndResult","childrenForm","childrenResult","blocText","InfoBloc","text","actionBar","ActionBar","FormSubmit","errorMessage","validateIndicateurUn","remunerationAnnuelleBrutFemmesName","remunerationAnnuelleBrutFemmesValue","remunerationAnnuelleBrutHommesName","remunerationAnnuelleBrutHommesValue","components_ActionBar","components_FormSubmit","messageLabel","messageData","fontWeight","info","ResultBubble","firstLineLabel","firstLineData","firstLineInfo","secondLineLabel","secondLineData","secondLineInfo","edit","IndicateurUnResult","noteIndicateurUn","absoluteResult","genderFavoriteResult","components_ResultBubble","IndicateurUn","dispatch","effectifEtEcartRemuParTranche","_calculTotalEffectifs","ecartsPonderesByRow","effectifsIndicateurCalculable","components_Page","components_LayoutFormAndResult","views_IndicateurUnForm","views_IndicateurUnResult","components_InfoBloc","baremEcartAugmentation","calculEcartTauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","calculEffectifsEtEcartAugmentParCategorieSocioPro","ecartTauxAugmentation","calculTotalEffectifsEtTauxAugmentation","groupEffectifEtEcartAugment","_groupEffectifEtEcart","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculEcartsPonderesParCategorieSocioPro","calculIndicateurCalculable","calculIndicateurEcartAugmentation","indicateurEcartAugmentation","parseFloat","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","validateIndicateurDeux","tauxAugmentationFemmesName","tauxAugmentationFemmesValue","tauxAugmentationHommesName","tauxAugmentationHommesValue","ecartAugmentParCategorieSocioProPourTotal","groupAugment","index","infoField","IndicateurDeuxResult","noteIndicateurDeux","IndicateurDeux","effectifEtEcartAugmentParGroupe","views_IndicateurDeuxForm","views_IndicateurDeuxResult","baremEcartPromotion","calculEcartTauxPromotion","calculEffectifsEtEcartPromoParCategorieSocioPro","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","calculTotalEffectifsEtTauxPromotion","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculIndicateurEcartPromotion","indicateurEcartPromotion","ecartPromoParCategorieSocioPro","updateIndicateurTrois","validateIndicateurTrois","tauxPromotionFemmesName","tauxPromotionFemmesValue","tauxPromotionHommesName","tauxPromotionHommesValue","IndicateurTroisResult","noteIndicateurTrois","IndicateurTrois","enumerable","fn","effectifEtEcartPromoParGroupe","views_IndicateurTroisForm","views_IndicateurTroisResult","baseGroupTranchesAgesState","baseTranchesAge","keys","v","m","baseGroupe","toConsumableArray","defaultState","localStorageEgapro","localStorage","getItem","initialState","JSON","parse","MainScrollViewWithRouter","withRouter","location","main","components_Menu","view","layout","leftColumn","rightColumn","overflowY","App","_useReducer","useReducer","_useReducer2","stateStringify","stringify","setItem","basename","components_GridContext","components_Header","render","views_Home","views_GroupEffectif","views_IndicateurUn","views_IndicateurDeux","views_IndicateurTrois","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.93717eb1.chunk.js","sourcesContent":["export type AppState = {\n  data: Array<Groupe>;\n  formEffectifValidated: FormState;\n  formIndicateurUnValidated: FormState;\n  formIndicateurDeuxValidated: FormState;\n  formIndicateurTroisValidated: FormState;\n};\n\nexport type FormState = \"None\" | \"Valid\" | \"Invalid\";\n\nexport type ActionType =\n  | {\n      type: \"updateEffectif\";\n      data: ActionEffectifData;\n    }\n  | {\n      type: \"validateEffectif\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurUn\";\n      data: ActionIndicateurUnData;\n    }\n  | {\n      type: \"validateIndicateurUn\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurDeux\";\n      data: ActionIndicateurDeuxData;\n    }\n  | {\n      type: \"validateIndicateurDeux\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurTrois\";\n      data: ActionIndicateurTroisData;\n    }\n  | {\n      type: \"validateIndicateurTrois\";\n      valid: FormState;\n    };\n\nexport type ActionEffectifData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    nombreSalariesFemmes: number | undefined;\n    nombreSalariesHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurUnData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    remunerationAnnuelleBrutFemmes: number | undefined;\n    remunerationAnnuelleBrutHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurDeuxData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n}>;\n\nexport type ActionIndicateurTroisData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}>;\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres\n}\n\nexport interface GroupTranchesAges {\n  trancheAge: TranchesAges;\n  nombreSalariesFemmes: number | undefined;\n  nombreSalariesHommes: number | undefined;\n  remunerationAnnuelleBrutFemmes: number | undefined;\n  remunerationAnnuelleBrutHommes: number | undefined;\n}\n\nexport interface Groupe {\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<GroupTranchesAges>;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    men: \"#90C5C7\",\n    women: \"#8A92D9\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\"\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024\n  }\n};\n\nexport default globalStyles;\n","import {\n  AppState,\n  Groupe,\n  GroupTranchesAges,\n  ActionType,\n  ActionEffectifData,\n  ActionIndicateurUnData\n} from \"./globals.d\";\n\nfunction AppReducer(state: AppState, action: ActionType): AppState {\n  switch (action.type) {\n    case \"updateEffectif\": {\n      return {\n        ...state,\n        data: updateEffectif(state.data, action.data)\n      };\n    }\n    case \"validateEffectif\": {\n      return {\n        ...state,\n        formEffectifValidated: action.valid,\n        formIndicateurUnValidated:\n          state.formIndicateurUnValidated !== \"None\" ? \"Invalid\" : \"None\",\n        formIndicateurDeuxValidated:\n          state.formIndicateurDeuxValidated !== \"None\" ? \"Invalid\" : \"None\",\n        formIndicateurTroisValidated:\n          state.formIndicateurTroisValidated !== \"None\" ? \"Invalid\" : \"None\"\n      };\n    }\n    case \"updateIndicateurUn\": {\n      return {\n        ...state,\n        data: updateIndicateurUn(state.data, action.data)\n      };\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        formIndicateurUnValidated: action.valid\n      };\n    }\n    case \"updateIndicateurDeux\": {\n      const data = state.data.map((group: Groupe) => {\n        const datum = action.data.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data\n      };\n    }\n    case \"validateIndicateurDeux\": {\n      return {\n        ...state,\n        formIndicateurDeuxValidated: action.valid\n      };\n    }\n    case \"updateIndicateurTrois\": {\n      const data = state.data.map((group: Groupe) => {\n        const datum = action.data.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data\n      };\n    }\n    case \"validateIndicateurTrois\": {\n      return {\n        ...state,\n        formIndicateurTroisValidated: action.valid\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction updateEffectif(\n  stateData: AppState[\"data\"],\n  actionData: ActionEffectifData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nfunction updateIndicateurUn(\n  stateData: AppState[\"data\"],\n  actionData: ActionIndicateurUnData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nexport default AppReducer;\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useContext,\n  ReactNode\n} from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\nconst { grid } = globalStyles;\n\nconst gutterCount = grid.columns + 1;\nconst totalGuttersWidth = gutterCount * grid.gutterWidth;\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\nfunction getColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth);\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth;\n  const columnWidth = availableWidthWithoutGutters / 12;\n  return Math.floor(columnWidth);\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: getColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth\n});\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(\n    getColumnWidth(window.innerWidth)\n  );\n\n  const handleResize = useCallback(\n    (event: any) =>\n      setColumnWidth(getColumnWidth(event.currentTarget.innerWidth)),\n    [setColumnWidth]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth\n    }),\n    [columnWidth]\n  );\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>;\n}\n\nexport default GridProvider;\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext);\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext();\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\nfunction Header() {\n  const width = useColumnsWidth(2);\n\n  return (\n    <header css={styles.header}>\n      <div css={[styles.headerLeft, css({ width })]} />\n      <div css={styles.headerInner}>\n        <p css={styles.title}>Egapro</p>\n        <p css={styles.subtitle}>\n          L'outil de simulation en ligne de vos indicateurs\n        </p>\n      </div>\n    </header>\n  );\n}\n\nconst styles = {\n  header: css({\n    backgroundColor: \"#FFF\",\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\"\n  }),\n  headerLeft: css({\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  headerInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    alignItems: \"baseline\"\n  }),\n  title: css({\n    marginRight: 24,\n    fontSize: 24\n  }),\n  subtitle: css({\n    fontSize: 12\n  })\n};\n\nexport default Header;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport { FormState } from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\ninterface CustomNavLinkProps {\n  title: string;\n  label?: string;\n  valid: FormState;\n  to: string;\n  activeOnlyWhenExact?: boolean;\n}\n\nfunction CustomNavLink({\n  title,\n  label,\n  valid,\n  to,\n  activeOnlyWhenExact = false\n}: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      children={({ match }) => (\n        <Link to={to} css={[styles.link, match && styles.activeLink]}>\n          <span>\n            {valid === \"Valid\" ? \"✓ \" : valid === \"Invalid\" ? \"✕ \" : \"\"}\n            {title}\n          </span>\n          <br />\n          {label && <span>{label}</span>}\n        </Link>\n      )}\n    />\n  );\n}\n\ninterface Props {\n  formEffectifValidated: FormState;\n  formIndicateurUnValidated: FormState;\n  formIndicateurDeuxValidated: FormState;\n  formIndicateurTroisValidated: FormState;\n}\n\nfunction Menu({\n  formEffectifValidated,\n  formIndicateurUnValidated,\n  formIndicateurDeuxValidated,\n  formIndicateurTroisValidated\n}: Props) {\n  const width = useColumnsWidth(2);\n\n  return (\n    <div css={[styles.menu, css({ width })]}>\n      <CustomNavLink\n        to=\"/effectifs\"\n        title=\"effectif\"\n        valid={formEffectifValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur1\"\n        title=\"indicateur 1\"\n        label=\"écart de rémunération\"\n        valid={formIndicateurUnValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur2\"\n        title=\"indicateur 2\"\n        label=\"écart d’augmentation\"\n        valid={formIndicateurDeuxValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur3\"\n        title=\"indicateur 3\"\n        label=\"écart de promotions\"\n        valid={formIndicateurTroisValidated}\n      />\n    </div>\n  );\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  link: css({\n    paddingTop: 7,\n    paddingBottom: 7,\n    color: globalStyles.colors.default,\n    fontSize: 12,\n    lineHeight: \"15px\",\n    textDecoration: \"none\",\n    \":hover\": {\n      color: globalStyles.colors.women\n    }\n  }),\n  activeLink: css({\n    color: globalStyles.colors.women\n  })\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction Button({ label, outline = false, error = false }: Props) {\n  return (\n    <div\n      css={[\n        styles.button,\n        outline && styles.buttonOutline,\n        error && styles.buttonError\n      ]}\n    >\n      {label}\n    </div>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 36,\n    minWidth: 110,\n    padding: \"0 10px\",\n    backgroundColor: globalStyles.colors.women,\n    color: \"#FFF\",\n    border: `solid ${globalStyles.colors.women} 1px`,\n    borderRadius: 5,\n    cursor: \"pointer\"\n  }),\n  buttonOutline: css({\n    color: globalStyles.colors.women,\n    backgroundColor: \"#FFF\"\n  }),\n  buttonError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n    backgroundColor: \"#FFF\"\n  })\n};\n\nexport default Button;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction ButtonLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.button}>\n      <Button label={label} />\n    </Link>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"inline-flex\",\n    textDecoration: \"none\"\n  })\n};\n\nexport default ButtonLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>Bienvenue sur Egapro</p>\n\n        <p css={styles.message}>\n          5 indicateurs pour résorber les inégalités entre les femmes et les\n          hommes en entreprise.\n        </p>\n\n        <div css={styles.action}>\n          <ButtonLink to=\"/effectifs\" label=\"commencer la simulation\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 1024,\n    padding: \"12px 0\",\n    margin: \"24px auto\"\n  }),\n  blocTitle: css({\n    fontSize: 32\n  }),\n  message: css({\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 18\n  })\n};\n\nexport default Home;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  style?: any;\n  children?: ReactNode;\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>;\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>;\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>;\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2\n  })\n};\n\nexport { Cell, Cell2, CellHead };\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Fragment, ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\n\ninterface Props {\n  title?: string;\n  label: string;\n  footer?: string | [string, string];\n  children: ReactNode;\n  style?: any;\n}\n\nfunction BlocForm({ title, label, footer, children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellMen}>hommes</Cell>\n          <Cell style={styles.cellWomen}>femmes</Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <div css={styles.rowFootTotal}>total</div>\n            {typeof footer === \"string\" ? (\n              <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            ) : (\n              <Fragment>\n                <Cell style={styles.rowFootCell}>{footer[0]}</Cell>\n                <Cell style={styles.rowFootCell}>{footer[1]}</Cell>\n              </Fragment>\n            )}\n\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8\n  }),\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\"\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 11,\n    textAlign: \"center\"\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12\n  }),\n  cellMen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.women\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootTotal: css({\n    fontSize: 14,\n    marginLeft: 8\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flex: 1\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0\n  })\n};\n\nexport default BlocForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { FieldRenderProps } from \"react-final-form-hooks\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { Cell } from \"./Cell\";\n\nexport const hasFieldError = (meta: FieldRenderProps[\"meta\"]) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && meta.error.mustBeNumber);\n\ninterface Props {\n  field: FieldRenderProps;\n  style?: any;\n}\n\nfunction CellInput({\n  field: {\n    input: { value, ...inputProps },\n    meta\n  },\n  style\n}: Props) {\n  const error = hasFieldError(meta);\n  return (\n    <Cell style={styles.cell}>\n      <input\n        css={[styles.input, style, error && styles.inputError]}\n        autoComplete=\"off\"\n        value={error && !meta.active ? \"erreur\" : value}\n        {...inputProps}\n      />\n    </Cell>\n  );\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\"\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error\n  })\n};\n\nexport default CellInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  name: string;\n  calculable: boolean;\n  femmeFieldName: string;\n  hommeFieldName: string;\n}\n\nfunction CellInputsMenWomen({\n  form,\n  name,\n  readOnly,\n  calculable,\n  femmeFieldName,\n  hommeFieldName\n}: Props) {\n  const femmesField = useField(\n    femmeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n  const hommesField = useField(\n    hommeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n\n  const femmesError = hasFieldError(femmesField.meta);\n  const hommesError = hasFieldError(hommesField.meta);\n  const error = femmesError || hommesError;\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[\n            styles.cellHead,\n            !calculable && styles.cellHeadInvalid,\n            error && calculable && styles.cellHeadError\n          ]}\n        >\n          {femmesField.meta.valid && hommesField.meta.valid\n            ? calculable\n              ? \"✓ \"\n              : \"✕ \"\n            : error\n            ? \"✕ \"\n            : null}\n          {name}\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {hommesField.input.value}\n            </Cell>\n\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {femmesField.input.value}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={hommesField} style={styles.cellMen} />\n\n            <CellInput field={femmesField} style={styles.cellWomen} />\n          </React.Fragment>\n        ) : (\n          <Cell2 css={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de 10 femmes ou 10 hommes\n        </div>\n      )}\n      {error && calculable && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cell2: css({\n    textAlign: \"center\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default CellInputsMenWomen;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction ButtonSubmit({ label, outline = false, error = false }: Props) {\n  return (\n    <button type=\"submit\" css={styles.button}>\n      <Button label={label} outline={outline} error={error} />\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\"\n  })\n};\n\nexport default ButtonSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  onClick: () => void;\n}\n\nfunction ActionLink({ children, onClick }: Props) {\n  return (\n    <button css={styles.button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\"\n  })\n};\n\nexport default ActionLink;\n","import { TranchesAges, CategorieSocioPro } from \"../globals.d\";\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\";\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\";\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\";\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayNameCategorieSocioPro(\n  categorieSocioPro: CategorieSocioPro\n): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\";\n    case CategorieSocioPro.Employes:\n      return \"employés\";\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\";\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayPercent(num: number, digits: number = 2): string {\n  return (num * 100).toFixed(digits) + \"%\";\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal);\n  return Math.round(num * mult) / mult;\n};\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5);\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  AppState,\n  FormState,\n  CategorieSocioPro,\n  TranchesAges,\n  GroupTranchesAges,\n  ActionEffectifData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  updateEffectif: (data: ActionEffectifData) => void;\n  validateEffectif: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"nombreSalaries\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction GroupEffectif({ state, updateEffectif, validateEffectif }: Props) {\n  const infoFields = state.data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            nbSalarieFemmeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            nbSalarieFemmeValue: parseStateValue(nombreSalariesFemmes),\n            nbSalarieHommeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            nbSalarieHommeValue: parseStateValue(nombreSalariesHommes)\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          nbSalarieFemmeName,\n          nbSalarieFemmeValue,\n          nbSalarieHommeName,\n          nbSalarieHommeValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [nbSalarieFemmeName]: nbSalarieFemmeValue,\n          [nbSalarieHommeName]: nbSalarieHommeValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionEffectifData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => ({\n            trancheAge,\n            nombreSalariesFemmes: parseFormValue(formData[nbSalarieFemmeName]),\n            nombreSalariesHommes: parseFormValue(formData[nbSalarieHommeName])\n          })\n        )\n      })\n    );\n    updateEffectif(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateEffectif(\"Valid\");\n  };\n\n  const {\n    form,\n    handleSubmit,\n    values,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.page}>\n      <p css={styles.blocTitle}>Indication des effectifs</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez le nombre d’effectifs par catégorie socio-professionnelle\n        (CSP) et par tranche d’âge.\n      </p>\n\n      <form onSubmit={handleSubmit} css={[styles.bloc, css({ width })]}>\n        {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n          const totalNbSalarie = tranchesAges.reduce(\n            (acc, { nbSalarieFemmeName, nbSalarieHommeName }) => {\n              return (\n                acc +\n                parseFormValue(values[nbSalarieFemmeName], 0) +\n                parseFormValue(values[nbSalarieHommeName], 0)\n              );\n            },\n            0\n          );\n          return (\n            <BlocForm\n              key={categorieSocioPro}\n              title={displayNameCategorieSocioPro(categorieSocioPro)}\n              label=\"nombre de salariés\"\n              footer={String(totalNbSalarie)}\n            >\n              {tranchesAges.map(\n                ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => {\n                  return (\n                    <CellInputsMenWomen\n                      key={trancheAge}\n                      readOnly={state.formEffectifValidated === \"Valid\"}\n                      form={form}\n                      name={displayNameTranchesAges(trancheAge)}\n                      calculable={true}\n                      femmeFieldName={nbSalarieFemmeName}\n                      hommeFieldName={nbSalarieHommeName}\n                    />\n                  );\n                }\n              )}\n            </BlocForm>\n          );\n        })}\n\n        {state.formEffectifValidated === \"Valid\" ? (\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur1\" label=\"suivant\" />\n            <ActionLink onClick={() => validateEffectif(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </div>\n        ) : (\n          <div css={styles.action}>\n            <div\n              css={css({ flexDirection: \"column\", alignItems: \"flex-start\" })}\n            >\n              <ButtonSubmit\n                label=\"valider\"\n                outline={hasValidationErrors}\n                error={submitFailed && hasValidationErrors}\n              />\n              {submitFailed && hasValidationErrors && (\n                <p css={styles.actionError}>\n                  vous ne pouvez pas valider les effectifs\n                  <br />\n                  tant que vous n’avez pas rempli tous les champs\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n\n      {state.formEffectifValidated === \"Valid\" &&\n        state.formIndicateurUnValidated === \"Invalid\" && (\n          <div css={styles.indicatorInvalid}>\n            <p css={styles.indicatorInvalidTitle}>\n              Vos effectifs ont été modifiés\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              afin de s'assurer de la cohérence de votre index, merci de\n              vérifier les données de vos indicateurs.\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              <Link to=\"/indicateur1\" css={styles.indicatorInvalidLink}>\n                aller à l'indicateur 1\n              </Link>\n            </p>\n          </div>\n        )}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  }),\n\n  indicatorInvalid: css({\n    padding: 16,\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  indicatorInvalidTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  indicatorInvalidText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  indicatorInvalidLink: css({\n    color: globalStyles.colors.default,\n    textDecoration: \"underline\"\n  })\n};\n\nexport default memo(\n  GroupEffectif,\n  (prevProps, nextProps) =>\n    prevProps.state.formEffectifValidated ===\n    nextProps.state.formEffectifValidated\n);\n","import { GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100;\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nconst calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0);\n\n// EP\nconst calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal(\n        (ecartPourcentage * effectifsValides) / totalEffectifsValides,\n        3\n      )\n    : undefined;\n\nexport const calculEcartsPonderesParGroupe = (\n  findEcartPourcentage: (groupEffectifEtEcartAugment: {\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }) => number | undefined\n) => (\n  groupEffectifEtEcart: Array<{\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }>,\n  totalEffectifsValides: number\n) =>\n  groupEffectifEtEcart\n    .filter(({ validiteGroupe }) => validiteGroupe)\n    .map(effectifEtEcart => {\n      const { validiteGroupe, effectifsValides } = effectifEtEcart;\n      const ecartPourcentage = findEcartPourcentage(effectifEtEcart);\n      // EP\n      const ecartPondere = calculEcartPondere(\n        validiteGroupe,\n        ecartPourcentage,\n        effectifsValides,\n        totalEffectifsValides\n      );\n\n      return ecartPondere;\n    });\n\n// TEP\nexport const calculTotalEcartPondere = (\n  tableauEcartsPonderes: Array<number | undefined>\n): number | undefined =>\n  tableauEcartsPonderes.length === 0 ||\n  tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter(ecartPondere => ecartPondere !== undefined)\n          .reduce(\n            (acc, val) => (acc || 0) + (val !== undefined ? val : 0),\n            undefined\n          ) || 0,\n        3\n      );\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number;\n  nombreSalariesHommes: number;\n  validiteGroupe: boolean;\n  effectifsValides: number;\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAges,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0;\n  nombreSalariesHommes = nombreSalariesHommes || 0;\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAges>,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  const {\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  } = tranchesAges.reduce(\n    (\n      { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => ({\n      nombreSalariesFemmesGroupe:\n        nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe:\n        nombreSalariesHommesGroupe + (nombreSalariesHommes || 0)\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 }\n  );\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes\n  } = groupEffectif.reduce(\n    (\n      { totalNombreSalariesFemmes, totalNombreSalariesHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => {\n      return {\n        totalNombreSalariesFemmes:\n          totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes:\n          totalNombreSalariesHommes + nombreSalariesHommes\n      };\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0 //TNBH\n    }\n  );\n\n  // TNB\n  const totalNombreSalaries =\n    totalNombreSalariesFemmes + totalNombreSalariesHommes;\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce(\n    (acc, { effectifsValides }) => acc + effectifsValides,\n    0\n  );\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  };\n};\n\n// IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide;\n","import { TranchesAges, Groupe, GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinence = 5 / 100;\n\nconst baremeEcartRemuneration = [\n  40,\n  39,\n  38,\n  37,\n  36,\n  35,\n  34,\n  33,\n  31,\n  29,\n  27,\n  25,\n  23,\n  21,\n  19,\n  17,\n  14,\n  11,\n  8,\n  5,\n  2,\n  0\n];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3;\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) /\n          remunerationAnnuelleBrutHommes,\n        3\n      )\n    : undefined;\n\n// ESP\nexport const calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) *\n          Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        3\n      )\n    : undefined;\n\ninterface effectifEtEcartRemuGroup extends effectifGroup {\n  trancheAge: TranchesAges;\n  remunerationAnnuelleBrutFemmes: number;\n  remunerationAnnuelleBrutHommes: number;\n  ecartRemunerationMoyenne: number | undefined;\n  ecartApresApplicationSeuilPertinence: number | undefined;\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAge = (\n  state: Array<Groupe>\n): Array<effectifEtEcartRemuGroup> => {\n  const dataByRow = state.reduce(\n    (acc: Array<GroupTranchesAges>, group) => acc.concat(group.tranchesAges),\n    []\n  );\n\n  const computedDataByRow = dataByRow.map(\n    (groupTrancheAge: GroupTranchesAges) => {\n      const remunerationAnnuelleBrutFemmes =\n        groupTrancheAge.remunerationAnnuelleBrutFemmes || 0;\n      const remunerationAnnuelleBrutHommes =\n        groupTrancheAge.remunerationAnnuelleBrutHommes || 0;\n\n      const effectifs = rowEffectifsParTrancheAge(\n        groupTrancheAge,\n        calculValiditeGroupe\n      );\n\n      // ERM\n      const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes\n      );\n      // ESP\n      const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinence(\n        ecartRemunerationMoyenne\n      );\n\n      return {\n        ...effectifs,\n        trancheAge: groupTrancheAge.trancheAge,\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes,\n        ecartRemunerationMoyenne,\n        ecartApresApplicationSeuilPertinence\n      };\n    }\n  );\n\n  return computedDataByRow;\n};\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) =>\n    ecartApresApplicationSeuilPertinence\n);\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartRemuneration))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  title: string;\n  tagline: string;\n  children: ReactNode;\n}\n\nfunction Page({ title, tagline, children }: Props) {\n  return (\n    <div css={styles.page}>\n      <p css={styles.title}>{title}</p>\n      <p css={styles.tagline}>{tagline}</p>\n      {children}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  tagline: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  })\n};\n\nexport default Page;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\n\ninterface Props {\n  childrenForm: ReactNode;\n  childrenResult: ReactNode;\n}\n\nfunction LayoutFormAndResult({ childrenForm, childrenResult }: Props) {\n  const width = useColumnsWidth(4);\n  return (\n    <div css={styles.body}>\n      <div css={css({ width })}>{childrenForm}</div>\n      <div css={styles.result}>{childrenResult}</div>\n    </div>\n  );\n}\n\nconst styles = {\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  result: css({\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default LayoutFormAndResult;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\ninterface Props {\n  title: string;\n  text: string;\n}\n\nfunction InfoBloc({ title, text }: Props) {\n  return (\n    <div css={styles.bloc}>\n      <p css={styles.blocTitle}>{title}</p>\n      <p css={styles.blocText}>{text}</p>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    padding: 16,\n    backgroundColor: \"#FFF\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  blocText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nexport default InfoBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction ActionBar({ children }: Props) {\n  return <div css={styles.actionBar}>{children}</div>;\n}\n\nconst styles = {\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 46,\n    marginBottom: 36\n  })\n};\n\nexport default ActionBar;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport ButtonSubmit from \"../components/ButtonSubmit\";\n\ninterface Props {\n  submitFailed: boolean;\n  hasValidationErrors: boolean;\n  errorMessage: string;\n}\n\nfunction FormSubmit({\n  submitFailed,\n  hasValidationErrors,\n  errorMessage\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ButtonSubmit\n        label=\"valider\"\n        outline={hasValidationErrors}\n        error={submitFailed && hasValidationErrors}\n      />\n      {submitFailed && hasValidationErrors && (\n        <p css={styles.error}>{errorMessage}</p>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\"\n  }),\n  error: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default FormSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  CategorieSocioPro,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges,\n  ActionIndicateurUnData,\n  FormState\n} from \"../globals.d\";\n\nimport { calculValiditeGroupe } from \"../utils/calculsEgaProIndicateurUn\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props {\n  data: Array<Groupe>;\n  readOnly: boolean;\n  updateIndicateurUn: (data: ActionIndicateurUnData) => void;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string =>\n  \"remunerationAnnuelleBrut\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurUnForm({\n  data,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const infoFields = data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes,\n          remunerationAnnuelleBrutFemmes,\n          remunerationAnnuelleBrutHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            calculable: calculValiditeGroupe(\n              nombreSalariesFemmes || 0,\n              nombreSalariesHommes || 0\n            ),\n            remunerationAnnuelleBrutFemmesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            remunerationAnnuelleBrutFemmesValue: parseStateValue(\n              remunerationAnnuelleBrutFemmes\n            ),\n            remunerationAnnuelleBrutHommesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            remunerationAnnuelleBrutHommesValue: parseStateValue(\n              remunerationAnnuelleBrutHommes\n            )\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          remunerationAnnuelleBrutFemmesName,\n          remunerationAnnuelleBrutFemmesValue,\n          remunerationAnnuelleBrutHommesName,\n          remunerationAnnuelleBrutHommesValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [remunerationAnnuelleBrutFemmesName]: remunerationAnnuelleBrutFemmesValue,\n          [remunerationAnnuelleBrutHommesName]: remunerationAnnuelleBrutHommesValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurUnData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmesName,\n            remunerationAnnuelleBrutHommesName\n          }) => ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseFormValue(\n              formData[remunerationAnnuelleBrutFemmesName]\n            ),\n            remunerationAnnuelleBrutHommes: parseFormValue(\n              formData[remunerationAnnuelleBrutHommesName]\n            )\n          })\n        )\n      })\n    );\n    updateIndicateurUn(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurUn(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n        return (\n          <BlocForm\n            key={categorieSocioPro}\n            title={displayNameCategorieSocioPro(categorieSocioPro)}\n            label=\"rémunération moyenne\"\n          >\n            {tranchesAges.map(\n              ({\n                trancheAge,\n                calculable,\n                remunerationAnnuelleBrutFemmesName,\n                remunerationAnnuelleBrutHommesName\n              }) => {\n                return (\n                  <CellInputsMenWomen\n                    key={trancheAge}\n                    form={form}\n                    name={displayNameTranchesAges(trancheAge)}\n                    readOnly={readOnly}\n                    calculable={calculable}\n                    femmeFieldName={remunerationAnnuelleBrutFemmesName}\n                    hommeFieldName={remunerationAnnuelleBrutHommesName}\n                  />\n                );\n              }\n            )}\n          </BlocForm>\n        );\n      })}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurUnForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  firstLineLabel: string;\n  firstLineData: string;\n  firstLineInfo: string;\n  secondLineLabel: string;\n  secondLineData: string;\n  secondLineInfo: string;\n}\n\nfunction ResultBubble({\n  firstLineLabel,\n  firstLineData,\n  firstLineInfo,\n  secondLineLabel,\n  secondLineData,\n  secondLineInfo\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.bloc}>\n        <div>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{firstLineLabel} </span>\n            <span css={styles.messageData}>{firstLineData}</span>\n          </p>\n          <p css={styles.info}>{firstLineInfo}</p>\n        </div>\n\n        <div>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{secondLineLabel} </span>\n            <span css={styles.messageData}>{secondLineData}</span>\n          </p>\n          <p css={styles.info}>{secondLineInfo}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    marginTop: 64,\n    width: \"100%\",\n    position: \"relative\",\n    height: 0,\n    paddingTop: \"100%\"\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\"\n  }),\n  message: css({\n    marginBottom: 9,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  messageLabel: css({\n    marginRight: \"auto\"\n  }),\n  messageData: css({\n    fontWeight: \"bold\"\n  }),\n  info: css({\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\",\n\n    borderBottom: \"1px solid #FFFFFF\"\n  })\n};\n\nexport default ResultBubble;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined;\n  noteIndicateurUn: number | undefined;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  noteIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const absoluteResult =\n    indicateurEcartRemuneration !== undefined\n      ? Math.abs(indicateurEcartRemuneration)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartRemuneration !== undefined\n      ? Math.sign(indicateurEcartRemuneration) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${genderFavoriteResult}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurUn(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurUnResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurUnData\n} from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartRemuParTrancheAge,\n  calculTotalEffectifs,\n  calculEcartsPonderesParTrancheAge,\n  calculTotalEcartPondere,\n  calculEffectifsIndicateurCalculable,\n  calculIndicateurEcartRemuneration,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurUn\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport IndicateurUnForm from \"./IndicateurUnForm\";\nimport IndicateurUnResult from \"./IndicateurUnResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurUn({ state, dispatch }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnData) =>\n      dispatch({ type: \"updateIndicateurUn\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartRemuParTranche = calculEffectifsEtEcartRemuParTrancheAge(\n    state.data\n  );\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(\n    effectifEtEcartRemuParTranche\n  );\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(\n    effectifEtEcartRemuParTranche,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    effectifsIndicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemuneration);\n\n  return (\n    <Page\n      title=\"Indicateur 1, écart de rémunération\"\n      tagline=\"Renseignez la rémunération (annuelle / mensuelle) moyenne des femmes et\n        des hommes par CSP et par tranche d’âge.\"\n    >\n      {effectifsIndicateurCalculable &&\n      state.formEffectifValidated === \"Valid\" ? (\n        <LayoutFormAndResult\n          childrenForm={\n            <IndicateurUnForm\n              data={state.data}\n              readOnly={state.formIndicateurUnValidated === \"Valid\"}\n              updateIndicateurUn={updateIndicateurUn}\n              validateIndicateurUn={validateIndicateurUn}\n            />\n          }\n          childrenResult={\n            state.formIndicateurUnValidated === \"Valid\" && (\n              <IndicateurUnResult\n                indicateurEcartRemuneration={indicateurEcartRemuneration}\n                noteIndicateurUn={noteIndicateurUn}\n                validateIndicateurUn={validateIndicateurUn}\n              />\n            )\n          }\n        />\n      ) : (\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      )}\n    </Page>\n  );\n}\n\nexport default IndicateurUn;\n","import { CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10;\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number,\n  tauxAugmentationHommes: number\n): number | undefined =>\n  tauxAugmentationFemmes >= 0 && tauxAugmentationHommes >= 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 3)\n    : undefined;\n\nexport interface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  ecartTauxAugmentation: number | undefined;\n}\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartAugmentGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes || 0,\n        tauxAugmentationHommes || 0\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxAugmentationFemmes,\n    sommeProduitTauxAugmentationHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      {\n        sommeProduitTauxAugmentationFemmes,\n        sommeProduitTauxAugmentationHommes\n      },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes +\n          (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes +\n          (tauxAugmentationHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0\n    }\n  );\n\n  // TTAF\n  const totalTauxAugmentationFemmes =\n    sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes;\n\n  // TTAH\n  const totalTauxAugmentationHommes =\n    sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number\n): boolean =>\n  calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  ) &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0);\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? baremEcartAugmentation[\n        Math.min(\n          baremEcartAugmentation.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartAugmentation))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartTauxAugmentation,\n  effectifEtEcartAugmentGroup\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartAugmentParCategorieSocioPro: Array<effectifEtEcartAugmentGroup>;\n  readOnly: boolean;\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxAugmentation\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  readOnly,\n  updateIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const infoFields = ecartAugmentParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxAugmentationFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxAugmentationFemmesValue: parseStateValue(tauxAugmentationFemmes),\n        tauxAugmentationHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxAugmentationHommesValue: parseStateValue(tauxAugmentationHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxAugmentationFemmesName,\n        tauxAugmentationFemmesValue,\n        tauxAugmentationHommesName,\n        tauxAugmentationHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxAugmentationFemmesName]: tauxAugmentationFemmesValue,\n        [tauxAugmentationHommesName]: tauxAugmentationHommesValue\n      };\n    },\n    {}\n  );\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurDeuxData = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxAugmentationFemmesName,\n        tauxAugmentationHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes: parseFormValue(\n          formData[tauxAugmentationFemmesName]\n        ),\n        tauxAugmentationHommes: parseFormValue(\n          formData[tauxAugmentationHommesName]\n        )\n      })\n    );\n    updateIndicateurDeux(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurDeux(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartAugmentParCategorieSocioProPourTotal = ecartAugmentParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxAugmentationFemmes = parseFormValue(\n        values[infoField.tauxAugmentationFemmesName]\n      );\n      const tauxAugmentationHommes = parseFormValue(\n        values[infoField.tauxAugmentationHommesName]\n      );\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n      return {\n        ...groupAugment,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n  const {\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(\n    ecartAugmentParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <BlocForm\n        label=\"% de salariés augmentés\"\n        footer={[\n          displayPercent(totalTauxAugmentationHommes),\n          displayPercent(totalTauxAugmentationFemmes)\n        ]}\n      >\n        {infoFields.map(\n          ({\n            categorieSocioPro,\n            validiteGroupe,\n            tauxAugmentationFemmesName,\n            tauxAugmentationHommesName\n          }) => {\n            return (\n              <CellInputsMenWomen\n                key={categorieSocioPro}\n                form={form}\n                name={displayNameCategorieSocioPro(categorieSocioPro)}\n                readOnly={readOnly}\n                calculable={validiteGroupe}\n                femmeFieldName={tauxAugmentationFemmesName}\n                hommeFieldName={tauxAugmentationHommesName}\n              />\n            );\n          }\n        )}\n      </BlocForm>\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurDeuxForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined;\n  noteIndicateurDeux: number | undefined;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nfunction IndicateurDeuxResult({\n  indicateurEcartAugmentation,\n  noteIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const absoluteResult =\n    indicateurEcartAugmentation !== undefined\n      ? Math.abs(indicateurEcartAugmentation)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartAugmentation !== undefined\n      ? Math.sign(indicateurEcartAugmentation) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${genderFavoriteResult}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurDeuxResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartAugmentParCategorieSocioPro,\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartsPonderesParCategorieSocioPro,\n  calculTotalEcartPondere,\n  calculEffectifsIndicateurCalculable,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\";\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurDeux({ state, dispatch, match }: Props) {\n  const updateIndicateurDeux = useCallback(\n    (data: ActionIndicateurDeuxData) =>\n      dispatch({ type: \"updateIndicateurDeux\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurDeux = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeux\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  );\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurDeux = calculNote(indicateurEcartAugmentation);\n\n  return (\n    <Page\n      title=\"Indicateur 2, écart de taux d’augmentation individuelle “hors promotion”\"\n      tagline=\"Renseignez le pourcentage d’hommes et des femmes ayant été augmentés durant la période de référence, par CSP.\"\n    >\n      {!indicateurCalculable &&\n      state.formIndicateurDeuxValidated === \"Valid\" ? (\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu d’augmentation individuelle durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      ) : effectifsIndicateurCalculable &&\n        state.formEffectifValidated === \"Valid\" ? (\n        <LayoutFormAndResult\n          childrenForm={\n            <IndicateurDeuxForm\n              ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n              readOnly={state.formIndicateurDeuxValidated === \"Valid\"}\n              updateIndicateurDeux={updateIndicateurDeux}\n              validateIndicateurDeux={validateIndicateurDeux}\n            />\n          }\n          childrenResult={\n            state.formIndicateurDeuxValidated === \"Valid\" && (\n              <IndicateurDeuxResult\n                indicateurEcartAugmentation={indicateurEcartAugmentation}\n                noteIndicateurDeux={noteIndicateurDeux}\n                validateIndicateurDeux={validateIndicateurDeux}\n              />\n            )\n          }\n        />\n      ) : (\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      )}\n    </Page>\n  );\n}\n\nexport default IndicateurDeux;\n","import { CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  calculEffectifsIndicateurCalculable,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n  calculIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation;\n\ninterface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n  ecartTauxPromotion: number | undefined;\n}\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartPromoGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes || 0,\n        tauxPromotionHommes || 0\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxPromotion = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxPromotionFemmes,\n    sommeProduitTauxPromotionHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes +\n          (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes +\n          (tauxPromotionHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0\n    }\n  );\n\n  // TTPF\n  const totalTauxPromotionFemmes =\n    sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes;\n\n  // TTPH\n  const totalTauxPromotionHommes =\n    sommeProduitTauxPromotionHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion\n);\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined\n): number | undefined =>\n  indicateurEcartPromotion !== undefined\n    ? baremEcartPromotion[\n        Math.min(\n          baremEcartPromotion.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartPromotion))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport CellInputsMenWomen from \"../components/CellInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartPromoParCategorieSocioPro: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    validiteGroupe: boolean;\n    tauxPromotionFemmes: number | undefined;\n    tauxPromotionHommes: number | undefined;\n  }>;\n  readOnly: boolean;\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxPromotion\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  readOnly,\n  updateIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const infoFields = ecartPromoParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxPromotionFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxPromotionFemmesValue: parseStateValue(tauxPromotionFemmes),\n        tauxPromotionHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxPromotionHommesValue: parseStateValue(tauxPromotionHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxPromotionFemmesName,\n        tauxPromotionFemmesValue,\n        tauxPromotionHommesName,\n        tauxPromotionHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxPromotionFemmesName]: tauxPromotionFemmesValue,\n        [tauxPromotionHommesName]: tauxPromotionHommesValue\n      };\n    },\n    {}\n  );\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurTroisData = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxPromotionFemmesName,\n        tauxPromotionHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes: parseFormValue(formData[tauxPromotionFemmesName]),\n        tauxPromotionHommes: parseFormValue(formData[tauxPromotionHommesName])\n      })\n    );\n    updateIndicateurTrois(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurTrois(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <BlocForm label=\"% de salariés promus\">\n        {infoFields.map(\n          ({\n            categorieSocioPro,\n            validiteGroupe,\n            tauxPromotionFemmesName,\n            tauxPromotionHommesName\n          }) => {\n            return (\n              <CellInputsMenWomen\n                key={categorieSocioPro}\n                form={form}\n                name={displayNameCategorieSocioPro(categorieSocioPro)}\n                readOnly={readOnly}\n                calculable={validiteGroupe}\n                femmeFieldName={tauxPromotionFemmesName}\n                hommeFieldName={tauxPromotionHommesName}\n              />\n            );\n          }\n        )}\n      </BlocForm>\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurTroisForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartPromotion: number | undefined;\n  noteIndicateurTrois: number | undefined;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nfunction IndicateurTroisResult({\n  indicateurEcartPromotion,\n  noteIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const absoluteResult =\n    indicateurEcartPromotion !== undefined\n      ? Math.abs(indicateurEcartPromotion)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartPromotion !== undefined\n      ? Math.sign(indicateurEcartPromotion) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${genderFavoriteResult}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n          \"/15\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurTroisResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartPromoParCategorieSocioPro,\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartsPonderesParCategorieSocioPro,\n  calculTotalEcartPondere,\n  calculEffectifsIndicateurCalculable,\n  calculIndicateurCalculable,\n  calculIndicateurEcartPromotion,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurTroisForm from \"./IndicateurTroisForm\";\nimport IndicateurTroisResult from \"./IndicateurTroisResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurTrois({ state, dispatch, match }: Props) {\n  const updateIndicateurTrois = useCallback(\n    (data: ActionIndicateurTroisData) =>\n      dispatch({ type: \"updateIndicateurTrois\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurTrois\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  );\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurTrois = calculNote(indicateurEcartPromotion);\n\n  return (\n    <Page\n      title=\"Indicateur 3, écart de taux de promotions\"\n      tagline=\"Renseignez le pourcentage de femmes et d’hommes ayant été promus durant la période de référence par CSP.\"\n    >\n      {!indicateurCalculable &&\n      state.formIndicateurTroisValidated === \"Valid\" ? (\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      ) : effectifsIndicateurCalculable &&\n        state.formEffectifValidated === \"Valid\" ? (\n        <LayoutFormAndResult\n          childrenForm={\n            <IndicateurTroisForm\n              ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n              readOnly={state.formIndicateurTroisValidated === \"Valid\"}\n              updateIndicateurTrois={updateIndicateurTrois}\n              validateIndicateurTrois={validateIndicateurTrois}\n            />\n          }\n          childrenResult={\n            state.formIndicateurTroisValidated === \"Valid\" && (\n              <IndicateurTroisResult\n                indicateurEcartPromotion={indicateurEcartPromotion}\n                noteIndicateurTrois={noteIndicateurTrois}\n                validateIndicateurTrois={validateIndicateurTrois}\n              />\n            )\n          }\n        />\n      ) : (\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      )}\n    </Page>\n  );\n}\n\nexport default IndicateurTrois;\n","type EnumType = { [s: number]: string };\n\nexport default function mapEnum(enumerable: EnumType, fn: Function): any[] {\n  // get all the members of the enum\n  let enumMembers: any[] = Object.keys(enumerable).map(\n    (key: any) => enumerable[key]\n  );\n\n  // we are only interested in the numeric identifiers as these represent the values\n  let enumValues: number[] = enumMembers.filter(v => typeof v === \"number\");\n\n  // now map through the enum values\n  return enumValues.map(m => fn(m));\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useReducer, useEffect, useCallback, ReactNode } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  RouteComponentProps\n} from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  TranchesAges,\n  CategorieSocioPro,\n  ActionEffectifData\n} from \"./globals.d\";\n\nimport globalStyles from \"./utils/globalStyles\";\nimport mapEnum from \"./utils/mapEnum\";\n\nimport AppReducer from \"./AppReducer\";\n\nimport GridProvider from \"./components/GridContext\";\nimport Header from \"./components/Header\";\nimport Menu from \"./components/Menu\";\n\nimport Home from \"./views/Home\";\nimport GroupEffectif from \"./views/GroupEffectif\";\nimport IndicateurUn from \"./views/IndicateurUn\";\nimport IndicateurDeux from \"./views/IndicateurDeux\";\nimport IndicateurTrois from \"./views/IndicateurTrois\";\n\nconst baseGroupTranchesAgesState = {\n  nombreSalariesFemmes: undefined,\n  nombreSalariesHommes: undefined,\n  remunerationAnnuelleBrutFemmes: undefined,\n  remunerationAnnuelleBrutHommes: undefined\n};\n\nconst baseTranchesAge = mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n  trancheAge,\n  ...baseGroupTranchesAgesState\n}));\n\nconst baseGroupe = {\n  tranchesAges: [...baseTranchesAge],\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined\n};\n\nconst defaultState: AppState = {\n  data: [\n    {\n      categorieSocioPro: CategorieSocioPro.Ouvriers,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Employes,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Techniciens,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Cadres,\n      ...baseGroupe\n    }\n  ],\n  formEffectifValidated: \"None\",\n  formIndicateurUnValidated: \"None\",\n  formIndicateurDeuxValidated: \"None\",\n  formIndicateurTroisValidated: \"None\"\n};\n\nconst localStorageEgapro = localStorage.getItem(\"egapro\");\nconst initialState = localStorageEgapro\n  ? JSON.parse(localStorageEgapro)\n  : defaultState;\n\nfunction App() {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    const stateStringify = JSON.stringify(state);\n    localStorage.setItem(\"egapro\", stateStringify);\n  }, [state]);\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch]\n  );\n\n  const validateEffectif = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateEffectif\", valid }),\n    [dispatch]\n  );\n\n  return (\n    <Router basename=\"/egapro\">\n      <GridProvider>\n        <div css={styles.layout}>\n          <div css={styles.leftColumn}>\n            <Header />\n\n            <MainScrollViewWithRouter state={state}>\n              <Switch>\n                <Route path=\"/\" exact render={props => <Home {...props} />} />\n                <Route\n                  path=\"/effectifs\"\n                  render={props => (\n                    <GroupEffectif\n                      {...props}\n                      state={state}\n                      updateEffectif={updateEffectif}\n                      validateEffectif={validateEffectif}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur1\"\n                  render={props => (\n                    <IndicateurUn\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur2\"\n                  render={props => (\n                    <IndicateurDeux\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur3\"\n                  render={props => (\n                    <IndicateurTrois\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n              </Switch>\n            </MainScrollViewWithRouter>\n          </div>\n\n          <div css={styles.rightColumn} />\n        </div>\n      </GridProvider>\n    </Router>\n  );\n}\n\ninterface MainScrollViewProps extends RouteComponentProps {\n  children: ReactNode;\n  state: AppState;\n}\n\nfunction MainScrollView({ children, state, location }: MainScrollViewProps) {\n  // Usefull to reset the scroll while navigating\n  return (\n    <div css={styles.main} key={location.key}>\n      <div css={styles.menu}>\n        <Menu\n          formEffectifValidated={state.formEffectifValidated}\n          formIndicateurUnValidated={state.formIndicateurUnValidated}\n          formIndicateurDeuxValidated={state.formIndicateurDeuxValidated}\n          formIndicateurTroisValidated={state.formIndicateurTroisValidated}\n        />\n      </div>\n      <div css={styles.view}>{children}</div>\n    </div>\n  );\n}\nconst MainScrollViewWithRouter = withRouter(MainScrollView);\n\nconst styles = {\n  layout: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  }),\n  leftColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxWidth: globalStyles.grid.maxWidth - 375\n  }),\n  rightColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 375,\n    flexShrink: 0,\n    backgroundColor: \"#AAAEE1\"\n  }),\n  main: css({\n    overflowY: \"auto\",\n    display: \"flex\",\n    flex: 1,\n    position: \"relative\",\n    background:\n      \"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), rgba(138, 146, 217, 0.14)\"\n  }),\n  menu: css({\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    paddingBottom: 80\n  }),\n  view: css({\n    flex: 1\n  })\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}