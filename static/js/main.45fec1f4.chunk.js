(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r,n,i=a(1),o=a.n(i),c=a(19),l=a.n(c),u=(a(29),a(12)),s=a(23),m=a(2),d=a(0),b=a(10),f=a(11);!function(e){e[e.MoinsDe30ans=0]="MoinsDe30ans",e[e.De30a39ans=1]="De30a39ans",e[e.De40a49ans=2]="De40a49ans",e[e.PlusDe50ans=3]="PlusDe50ans"}(r||(r={})),function(e){e[e.Ouvriers=0]="Ouvriers",e[e.Employes=1]="Employes",e[e.Techniciens=2]="Techniciens",e[e.Cadres=3]="Cadres"}(n||(n={}));var v={colors:{default:"#191a49",men:"#90C5C7",women:"#8A92D9",error:"#B7585D",invalid:"#61676F"},grid:{gutterWidth:16,columns:12,maxWidth:1440,minWidth:1024}};function O(e,t){return e.map(function(e){var a=t.find(function(t){return t.categorieSocioPro===e.categorieSocioPro});return Object(m.a)({},e,{tranchesAges:e.tranchesAges.map(function(e){var t=a&&a.tranchesAges.find(function(t){return t.trancheAge===e.trancheAge});return Object.assign({},e,t)})})})}var g=function(e,t){switch(t.type){case"updateEffectif":return Object(m.a)({},e,{data:(s=e.data,d=t.data,s.map(function(e){var t=d.find(function(t){var a=t.categorieSocioPro;return a===e.categorieSocioPro});return Object(m.a)({},e,{tranchesAges:e.tranchesAges.map(function(e){var a=t&&t.tranchesAges.find(function(t){var a=t.trancheAge;return a===e.trancheAge});return Object.assign({},e,a)})})}))});case"validateEffectif":return"None"===t.valid?Object(m.a)({},e,{effectif:Object(m.a)({},e.effectif,{formValidated:t.valid}),indicateurUn:"Valid"===e.indicateurUn.formValidated?Object(m.a)({},e.indicateurUn,{formValidated:"Invalid"}):e.indicateurUn,indicateurDeux:"Valid"===e.indicateurDeux.formValidated?Object(m.a)({},e.indicateurDeux,{formValidated:"Invalid"}):e.indicateurDeux,indicateurTrois:"Valid"===e.indicateurTrois.formValidated?Object(m.a)({},e.indicateurTrois,{formValidated:"Invalid"}):e.indicateurTrois}):Object(m.a)({},e,{effectif:Object(m.a)({},e.effectif,{formValidated:t.valid})});case"updateIndicateurUn":return Object(m.a)({},e,{data:O(e.data,t.data)});case"validateIndicateurUn":return Object(m.a)({},e,{indicateurUn:Object(m.a)({},e.indicateurUn,{formValidated:t.valid})});case"updateIndicateurDeux":var a=t.data,r=a.tauxAugmentation,n=a.presenceAugmentation,i=e.data.map(function(e){var t=r.find(function(t){return t.categorieSocioPro===e.categorieSocioPro});return Object.assign({},e,t)});return Object(m.a)({},e,{data:i,indicateurDeux:Object(m.a)({},e.indicateurDeux,{presenceAugmentation:n})});case"validateIndicateurDeux":return Object(m.a)({},e,{indicateurDeux:Object(m.a)({},e.indicateurDeux,{formValidated:t.valid})});case"updateIndicateurTrois":var o=t.data,c=o.tauxPromotion,l=o.presencePromotion,u=e.data.map(function(e){var t=c.find(function(t){return t.categorieSocioPro===e.categorieSocioPro});return Object.assign({},e,t)});return Object(m.a)({},e,{data:u,indicateurTrois:Object(m.a)({},e.indicateurTrois,{presencePromotion:l})});case"validateIndicateurTrois":return Object(m.a)({},e,{indicateurTrois:Object(m.a)({},e.indicateurTrois,{formValidated:t.valid})});case"updateIndicateurQuatre":return Object(m.a)({},e,{indicateurQuatre:Object(m.a)({},e.indicateurQuatre,t.data)});case"validateIndicateurQuatre":return Object(m.a)({},e,{indicateurQuatre:Object(m.a)({},e.indicateurQuatre,{formValidated:t.valid})});default:return e}var s,d},j=v.grid,p=(j.columns+1)*j.gutterWidth;function h(e){var t,a,r,n=((t=e,a=j.minWidth,r=j.maxWidth,Math.min(r,Math.max(a,t)))-p)/12;return Math.floor(n)}var x=o.a.createContext({columnWidth:h(window.innerWidth),gutterWidth:j.gutterWidth});var F=function(e){var t=e.children,a=Object(i.useState)(h(window.innerWidth)),r=Object(u.a)(a,2),n=r[0],c=r[1],l=Object(i.useCallback)(function(e){return c(h(e.currentTarget.innerWidth))},[c]);Object(i.useEffect)(function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}});var s=Object(i.useMemo)(function(){return{columnWidth:n,gutterWidth:j.gutterWidth}},[n]);return o.a.createElement(x.Provider,{value:s},t)},S=function(e){var t=Object(i.useContext)(x);return t.columnWidth*e+t.gutterWidth*(e-1)};var y={header:Object(d.a)({backgroundColor:"#FFF",height:80,flexShrink:0,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #EFECEF"}),headerLeft:Object(d.a)({marginLeft:v.grid.gutterWidth,marginRight:v.grid.gutterWidth}),headerInner:Object(d.a)({display:"flex",flexDirection:"row",flexGrow:1,alignItems:"baseline"}),title:Object(d.a)({marginRight:24,fontSize:24}),subtitle:Object(d.a)({fontSize:12})},A=function(){var e=S(2);return Object(d.b)("header",{css:y.header},Object(d.b)("div",{css:[y.headerLeft,Object(d.a)({width:e})]}),Object(d.b)("div",{css:y.headerInner},Object(d.b)("p",{css:y.title},"Egapro"),Object(d.b)("p",{css:y.subtitle},"L'outil de simulation en ligne de vos indicateurs")))};function P(e){var t=e.title,a=e.label,r=e.valid,n=e.to,i=e.activeOnlyWhenExact,o=void 0!==i&&i;return Object(d.b)(f.a,{path:n,exact:o,children:function(e){var i=e.match;return Object(d.b)(b.b,{to:n,css:[N.link,i&&N.activeLink]},Object(d.b)("span",null,"Valid"===r?"\u2713 ":"Invalid"===r?"\u2715 ":"",t),Object(d.b)("br",null),a&&Object(d.b)("span",null,a))}})}var N={menu:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:v.grid.gutterWidth,marginRight:v.grid.gutterWidth}),link:Object(d.a)({paddingTop:7,paddingBottom:7,color:v.colors.default,fontSize:12,lineHeight:"15px",textDecoration:"none",":hover":{color:v.colors.women}}),activeLink:Object(d.a)({color:v.colors.women})},V=function(e){var t=e.effectifFormValidated,a=e.indicateurUnFormValidated,r=e.indicateurDeuxFormValidated,n=e.indicateurTroisFormValidated,i=e.indicateurQuatreFormValidated,o=S(2);return Object(d.b)("div",{css:[N.menu,Object(d.a)({width:o})]},Object(d.b)(P,{to:"/effectifs",title:"effectif",valid:t}),Object(d.b)(P,{to:"/indicateur1",title:"indicateur 1",label:"\xe9cart de r\xe9mun\xe9ration",valid:a}),Object(d.b)(P,{to:"/indicateur2",title:"indicateur 2",label:"\xe9cart d\u2019augmentation",valid:r}),Object(d.b)(P,{to:"/indicateur3",title:"indicateur 3",label:"\xe9cart de promotions",valid:n}),Object(d.b)(P,{to:"/indicateur4",title:"indicateur 4",label:"cong\xe9 maternit\xe9",valid:i}))};var H={button:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"center",height:36,minWidth:110,padding:"0 10px",backgroundColor:v.colors.women,color:"#FFF",border:"solid ".concat(v.colors.women," 1px"),borderRadius:5,cursor:"pointer"}),buttonOutline:Object(d.a)({color:v.colors.women,backgroundColor:"#FFF"}),buttonError:Object(d.a)({color:v.colors.error,borderColor:v.colors.error,backgroundColor:"#FFF"})},T=function(e){var t=e.label,a=e.outline,r=void 0!==a&&a,n=e.error,i=void 0!==n&&n;return Object(d.b)("div",{css:[H.button,r&&H.buttonOutline,i&&H.buttonError]},t)};var I={button:Object(d.a)({display:"inline-flex",textDecoration:"none"})},w=function(e){var t=e.label,a=e.to;return Object(d.b)(b.b,{to:a,css:I.button},Object(d.b)(T,{label:t}))};var D={bloc:Object(d.a)({display:"flex",flexDirection:"column",maxWidth:1024,padding:"12px 0",margin:"24px auto"}),blocTitle:Object(d.a)({fontSize:32}),message:Object(d.a)({fontSize:14}),action:Object(d.a)({display:"flex",flexDirection:"row",marginTop:18})},C=function(e){return Object(d.b)("div",null,Object(d.b)("div",{css:D.bloc},Object(d.b)("p",{css:D.blocTitle},"Bienvenue sur Egapro"),Object(d.b)("p",{css:D.message},"5 indicateurs pour r\xe9sorber les in\xe9galit\xe9s entre les femmes et les hommes en entreprise."),Object(d.b)("div",{css:D.action},Object(d.b)(w,{to:"/effectifs",label:"commencer la simulation"}))))},E=a(5),k=a(4);function L(e){var t=e.style,a=e.children;return Object(d.b)("div",{css:[W.cell,t]},a)}function B(e){var t=e.style,a=e.children;return Object(d.b)("div",{css:[W.cell2,t]},a)}function z(e){var t=e.style,a=e.children;return Object(d.b)("div",{css:[W.cellHead,t]},a)}var W={cell:Object(d.a)({width:62,flexShrink:0,marginLeft:8}),cell2:Object(d.a)({width:132,flexShrink:0,marginLeft:8}),cellHead:Object(d.a)({flexGrow:1,marginRight:2})};function M(e){var t=e.children,a=e.superLight,r=void 0!==a&&a;return Object(d.b)("div",{css:R.container},Object(d.b)("div",{css:R.background}),Object(d.b)("div",{css:[R.blocForm,R.blocFormLight,r&&R.blocFormSuperLight]},Object(d.b)("div",{css:R.blocFormInner},t)))}var R={container:Object(d.a)({position:"relative",marginTop:64,marginBottom:34}),background:Object(d.a)({backgroundColor:"#FFF",position:"absolute",top:-50,bottom:-20,left:-38,right:-38,borderRadius:"100%",border:"1px solid #EFECEF"}),blocForm:Object(d.a)({position:"relative",borderLeft:"solid ".concat(v.colors.default," 1px"),borderRight:"solid ".concat(v.colors.default," 1px"),borderBottom:"solid ".concat(v.colors.default," 1px"),paddingTop:8,paddingBottom:8}),blocFormWithFooter:Object(d.a)({borderBottom:"none",paddingBottom:16}),blocFormLight:Object(d.a)({borderRight:"none"}),blocFormSuperLight:Object(d.a)({borderBottom:"none"}),blocFormInner:Object(d.a)({paddingRight:20,paddingLeft:20}),rowHead:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-end",position:"absolute",left:0,right:0,bottom:"100%",marginBottom:-9,minHeight:16,paddingLeft:20}),rowHeadCellHead:Object(d.a)({fontSize:14,textTransform:"uppercase"}),rowHeadCell:Object(d.a)({height:16,fontSize:11,textAlign:"center"}),rowHeadBorder:Object(d.a)({height:1,backgroundColor:v.colors.default,flexShrink:0,width:20,marginBottom:8}),rowGender:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-end",paddingRight:20,paddingLeft:20,marginTop:12,marginBottom:12}),cellMen:Object(d.a)({fontSize:12,textAlign:"center",color:v.colors.men}),cellWomen:Object(d.a)({fontSize:12,textAlign:"center",color:v.colors.women}),rowFoot:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"center",height:16,position:"absolute",bottom:-7,right:0,left:0}),rowFootCell:Object(d.a)({fontSize:14,textAlign:"center"}),rowFootTotal:Object(d.a)({fontSize:14,marginLeft:8}),rowFootBorderLeft:Object(d.a)({height:1,marginRight:2,backgroundColor:v.colors.default,flex:1}),rowFootBorderRight:Object(d.a)({height:1,backgroundColor:v.colors.default,width:20,flexShrink:0})},Q=function(e){var t=e.title,a=e.label,r=e.footer,n=e.children;return e.style,Object(d.b)("div",{css:R.container},Object(d.b)("div",{css:R.background}),Object(d.b)("div",{css:[R.blocForm,r&&R.blocFormWithFooter]},Object(d.b)("div",{css:R.rowHead},Object(d.b)(z,{style:R.rowHeadCellHead},t),Object(d.b)(B,{style:R.rowHeadCell},a),Object(d.b)("div",{css:R.rowHeadBorder})),Object(d.b)("div",{css:R.rowGender},Object(d.b)(z,null),Object(d.b)(L,{style:R.cellMen},"hommes"),Object(d.b)(L,{style:R.cellWomen},"femmes")),Object(d.b)("div",{css:R.blocFormInner},n),r&&Object(d.b)("div",{css:R.rowFoot},Object(d.b)("div",{css:R.rowFootBorderLeft}),Object(d.b)("div",{css:R.rowFootTotal},"total"),"string"===typeof r?Object(d.b)(B,{style:R.rowFootCell},r):Object(d.b)(i.Fragment,null,Object(d.b)(L,{style:R.rowFootCell},r[0]),Object(d.b)(L,{style:R.rowFootCell},r[1])),Object(d.b)("div",{css:R.rowFootBorderRight}))))},U=a(22),G=function(e){return e.error&&e.submitFailed||e.error&&e.touched&&e.error.mustBeNumber};var q={cell:Object(d.a)({height:22,display:"flex"}),input:Object(d.a)({appearance:"none",border:"solid ".concat(v.colors.default," 1px"),width:"100%",fontSize:14,textAlign:"center"}),inputError:Object(d.a)({color:v.colors.error,borderColor:v.colors.error})},J=function(e){var t=e.field,a=t.input,r=a.value,n=Object(U.a)(a,["value"]),i=t.meta,o=e.style,c=G(i);return Object(d.b)(L,{style:q.cell},Object(d.b)("input",Object.assign({css:[q.input,o,c&&q.inputError],autoComplete:"off",value:c&&!i.active?"erreur":r},n)))},Y=function(e){var t=function(e){return!e}(e),a=function(e){return!!Number.isNaN(Number(e))}(e);return t||a?{required:t,mustBeNumber:a}:void 0};var $={container:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"stretch",height:51,marginBottom:10}),row:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-start"}),cellHead:Object(d.a)({height:22,display:"flex",alignItems:"center",borderBottom:"solid ".concat(v.colors.default," 1px"),fontSize:14}),cellHeadInvalid:Object(d.a)({color:v.colors.invalid,borderColor:"transparent"}),cellHeadError:Object(d.a)({color:v.colors.error,borderColor:"transparent"}),cell2:Object(d.a)({textAlign:"center"}),cellMen:Object(d.a)({borderColor:v.colors.men}),cellWomen:Object(d.a)({borderColor:v.colors.women}),cellEmpty:Object(d.a)({height:22,display:"flex",alignItems:"center",justifyContent:"center"}),cellEmptyMen:Object(d.a)({color:v.colors.men}),cellEmptyWomen:Object(d.a)({color:v.colors.women}),invalid:Object(d.a)({display:"flex",alignItems:"center",height:23,paddingBottom:4,color:v.colors.invalid,fontSize:11,fontStyle:"italic",lineHeight:"12px",borderBottom:"solid ".concat(v.colors.invalid," 1px")}),error:Object(d.a)({display:"flex",alignItems:"center",height:18,marginTop:5,color:v.colors.error,fontSize:11,fontStyle:"italic",lineHeight:"12px",borderBottom:"solid ".concat(v.colors.error," 1px")})},K=function(e){var t=e.form,a=e.name,r=e.readOnly,n=e.calculable,i=e.femmeFieldName,c=e.hommeFieldName,l=Object(k.a)(i,t,n?Y:void 0),u=Object(k.a)(c,t,n?Y:void 0),s=G(l.meta),m=G(u.meta),b=s||m;return Object(d.b)("div",{css:$.container},Object(d.b)("div",{css:$.row},Object(d.b)(z,{style:[$.cellHead,!n&&$.cellHeadInvalid,b&&n&&$.cellHeadError]},l.meta.valid&&u.meta.valid?n?"\u2713 ":"\u2715 ":b?"\u2715 ":null,a),r?Object(d.b)(o.a.Fragment,null,Object(d.b)(L,{style:[$.cellEmpty,$.cellEmptyMen]},u.input.value),Object(d.b)(L,{style:[$.cellEmpty,$.cellEmptyWomen]},l.input.value)):n?Object(d.b)(o.a.Fragment,null,Object(d.b)(J,{field:u,style:$.cellMen}),Object(d.b)(J,{field:l,style:$.cellWomen})):Object(d.b)(B,{css:$.cell2})),!n&&Object(d.b)("div",{css:$.invalid},"Le groupe ne peut pas \xeatre pris en compte pour le calcul",Object(d.b)("br",null),"car il comporte moins de 10 femmes ou 10 hommes"),b&&n&&Object(d.b)("div",{css:$.error},"ce champs n\u2019est pas valide, renseignez une valeur num\xe9rique"))};var X={button:Object(d.a)({all:"unset"})},Z=function(e){var t=e.label,a=e.outline,r=void 0!==a&&a,n=e.error,i=void 0!==n&&n;return Object(d.b)("button",{type:"submit",css:X.button},Object(d.b)(T,{label:t,outline:r,error:i}))};var _={button:Object(d.a)({all:"unset",cursor:"pointer",fontSize:14,textAlign:"center",textDecoration:"underline"})},ee=function(e){var t=e.children,a=e.onClick;return Object(d.b)("button",{css:_.button,onClick:a},t)};function te(e){switch(e){case r.MoinsDe30ans:return"moins de 30 ans";case r.De30a39ans:return"30 \xe0 39 ans";case r.De40a49ans:return"40 \xe0 49 ans";case r.PlusDe50ans:return"50 ans et plus";default:return"ERROR"}}function ae(e){switch(e){case n.Ouvriers:return"ouvriers";case n.Employes:return"employ\xe9s";case n.Techniciens:return"techniciens et agents de ma\xeetrise";case n.Cadres:return"ing\xe9nieurs et cadres";default:return"ERROR"}}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(100*e).toFixed(t)+"%"}var ne=function(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a},ie=function(e){return ne(100*e,5)},oe=function(e){return ne(e/100,5)},ce=function(e,t,a){return"nombreSalaries"+e+a+t},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:parseInt(e,10)},ue=function(e){return void 0===e?"":String(e)};var se={page:Object(d.a)({display:"flex",flexDirection:"column",marginRight:v.grid.gutterWidth,marginBottom:v.grid.gutterWidth}),bloc:Object(d.a)({display:"flex",flexDirection:"column"}),blocTitle:Object(d.a)({marginTop:36,fontSize:32}),blocSubtitle:Object(d.a)({marginTop:12,marginBottom:54,fontSize:14}),action:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:46,marginBottom:36}),actionError:Object(d.a)({marginTop:4,color:v.colors.error,fontSize:12}),indicatorInvalid:Object(d.a)({padding:16,border:"solid ".concat(v.colors.default," 1px")}),indicatorInvalidTitle:Object(d.a)({fontSize:18,lineHeight:"22px",textTransform:"uppercase"}),indicatorInvalidText:Object(d.a)({marginTop:4,fontSize:14,lineHeight:"17px"}),indicatorInvalidLink:Object(d.a)({color:v.colors.default,textDecoration:"underline"})},me=Object(i.memo)(function(e){var t=e.state,a=e.updateEffectif,r=e.validateEffectif,n=t.data.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges;return{categorieSocioPro:t,tranchesAges:a.map(function(e){var a=e.trancheAge,r=e.nombreSalariesFemmes,n=e.nombreSalariesHommes;return{trancheAge:a,nbSalarieFemmeName:ce(t,a,"Femmes"),nbSalarieFemmeValue:ue(r),nbSalarieHommeName:ce(t,a,"Hommes"),nbSalarieHommeValue:ue(n)}})}}),i=n.reduce(function(e,t){return t.tranchesAges.reduce(function(e,t){var a,r=t.nbSalarieFemmeName,n=t.nbSalarieFemmeValue,i=t.nbSalarieHommeName,o=t.nbSalarieHommeValue;return Object(m.a)({},e,(a={},Object(E.a)(a,r,n),Object(E.a)(a,i,o),a))},e)},{}),o=function(e){var t=n.map(function(t){return{categorieSocioPro:t.categorieSocioPro,tranchesAges:t.tranchesAges.map(function(t){var a=t.trancheAge,r=t.nbSalarieFemmeName,n=t.nbSalarieHommeName;return{trancheAge:a,nombreSalariesFemmes:le(e[r]),nombreSalariesHommes:le(e[n])}})}});a(t)},c=Object(k.b)({initialValues:i,onSubmit:function(e){o(e),r("Valid")}}),l=c.form,u=c.handleSubmit,s=c.values,f=c.hasValidationErrors,v=c.submitFailed;l.subscribe(function(e){var t=e.values;e.dirty&&o(t)},{values:!0,dirty:!0});var O=S(4);return Object(d.b)("div",{css:se.page},Object(d.b)("p",{css:se.blocTitle},"Indication des effectifs"),Object(d.b)("p",{css:se.blocSubtitle},"Renseignez le nombre d\u2019effectifs par cat\xe9gorie socio-professionnelle (CSP) et par tranche d\u2019\xe2ge."),Object(d.b)("form",{onSubmit:u,css:[se.bloc,Object(d.a)({width:O})]},n.map(function(e){var a=e.categorieSocioPro,r=e.tranchesAges,n=r.reduce(function(e,t){var a=t.nbSalarieFemmeName,r=t.nbSalarieHommeName;return e+le(s[a],0)+le(s[r],0)},0);return Object(d.b)(Q,{key:a,title:ae(a),label:"nombre de salari\xe9s",footer:String(n)},r.map(function(e){var a=e.trancheAge,r=e.nbSalarieFemmeName,n=e.nbSalarieHommeName;return Object(d.b)(K,{key:a,readOnly:"Valid"===t.effectif.formValidated,form:l,name:te(a),calculable:!0,femmeFieldName:r,hommeFieldName:n})}))}),"Valid"===t.effectif.formValidated?Object(d.b)("div",{css:se.action},Object(d.b)(w,{to:"/indicateur1",label:"suivant"}),Object(d.b)(ee,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")):Object(d.b)("div",{css:se.action},Object(d.b)("div",{css:Object(d.a)({flexDirection:"column",alignItems:"flex-start"})},Object(d.b)(Z,{label:"valider",outline:f,error:v&&f}),v&&f&&Object(d.b)("p",{css:se.actionError},"vous ne pouvez pas valider les effectifs",Object(d.b)("br",null),"tant que vous n\u2019avez pas rempli tous les champs")))),"Valid"===t.effectif.formValidated&&"Invalid"===t.indicateurUn.formValidated&&Object(d.b)("div",{css:se.indicatorInvalid},Object(d.b)("p",{css:se.indicatorInvalidTitle},"Vos effectifs ont \xe9t\xe9 modifi\xe9s"),Object(d.b)("p",{css:se.indicatorInvalidText},"afin de s'assurer de la coh\xe9rence de votre index, merci de v\xe9rifier les donn\xe9es de vos indicateurs."),Object(d.b)("p",{css:se.indicatorInvalidText},Object(d.b)(b.b,{to:"/indicateur1",css:se.indicatorInvalidLink},"aller \xe0 l'indicateur 1"))))},function(e,t){return e.state.effectif.formValidated===t.state.effectif.formValidated}),de=function(e,t,a){return e?t+a:0},be=function(e){return function(t,a){return t.filter(function(e){return e.validiteGroupe}).map(function(t){var r=t.validiteGroupe,n=t.effectifsValides;return function(e,t,a,r){return e&&r>0&&void 0!==t?ne(t*a/r,3):void 0}(r,e(t),n,a)})}},fe=function(e){return 0===e.length||e.includes(void 0)?void 0:ne(e.filter(function(e){return void 0!==e}).reduce(function(e,t){return(e||0)+(void 0!==t?t:0)},void 0)||0,3)},ve=function(e,t){var a=e.reduce(function(e,t){var a=e.nombreSalariesFemmesGroupe,r=e.nombreSalariesHommesGroupe;return{nombreSalariesFemmesGroupe:a+(t.nombreSalariesFemmes||0),nombreSalariesHommesGroupe:r+(t.nombreSalariesHommes||0)}},{nombreSalariesFemmesGroupe:0,nombreSalariesHommesGroupe:0}),r=a.nombreSalariesFemmesGroupe,n=a.nombreSalariesHommesGroupe,i=t(r,n);return{nombreSalariesFemmes:r,nombreSalariesHommes:n,validiteGroupe:i,effectifsValides:de(i,r,n)}},Oe=function(e){var t=e.reduce(function(e,t){var a=e.totalNombreSalariesFemmes,r=e.totalNombreSalariesHommes;return{totalNombreSalariesFemmes:a+t.nombreSalariesFemmes,totalNombreSalariesHommes:r+t.nombreSalariesHommes}},{totalNombreSalariesFemmes:0,totalNombreSalariesHommes:0}),a=t.totalNombreSalariesFemmes,r=t.totalNombreSalariesHommes;return{totalNombreSalariesFemmes:a,totalNombreSalariesHommes:r,totalNombreSalaries:a+r,totalEffectifsValides:e.reduce(function(e,t){return e+t.effectifsValides},0)}},ge=function(e,t){return e>0&&t>=.4*e},je=[40,39,38,37,36,35,34,33,31,29,27,25,23,21,19,17,14,11,8,5,2,0],pe=function(e,t){return e>=3&&t>=3},he=function(e){return e.reduce(function(e,t){return e.concat(t.tranchesAges)},[]).map(function(e){var t=e.remunerationAnnuelleBrutFemmes||0,a=e.remunerationAnnuelleBrutHommes||0,r=function(e,t){var a=e.nombreSalariesFemmes,r=e.nombreSalariesHommes,n=t(a=a||0,r=r||0);return{nombreSalariesFemmes:a,nombreSalariesHommes:r,validiteGroupe:n,effectifsValides:de(n,a,r)}}(e,pe),n=function(e,t){return e>0&&t>0?ne((t-e)/t,3):void 0}(t,a),i=function(e){return void 0!==e?ne(Math.sign(e)*Math.max(0,Math.abs(e)-.05),3):void 0}(n);return Object(m.a)({},r,{trancheAge:e.trancheAge,remunerationAnnuelleBrutFemmes:t,remunerationAnnuelleBrutHommes:a,ecartRemunerationMoyenne:n,ecartApresApplicationSeuilPertinence:i})})},xe=be(function(e){return e.ecartApresApplicationSeuilPertinence}),Fe=function(e,t){return e&&void 0!==t?ne(100*t,3):void 0},Se=function(e){return void 0!==e?je[Math.min(je.length-1,Math.ceil(Math.max(0,e)))]:void 0};var ye={page:Object(d.a)({display:"flex",flexDirection:"column",marginRight:v.grid.gutterWidth,marginBottom:v.grid.gutterWidth}),title:Object(d.a)({marginTop:36,fontSize:32}),tagline:Object(d.a)({marginTop:12,marginBottom:54,fontSize:14})},Ae=function(e){var t=e.title,a=e.tagline,r=e.children;return Object(d.b)("div",{css:ye.page},Object(d.b)("p",{css:ye.title},t),Object(d.b)("p",{css:ye.tagline},a),r)};var Pe={body:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-start"}),result:Object(d.a)({flex:1,marginLeft:v.grid.gutterWidth,position:"sticky",top:0,display:"flex",flexDirection:"column"})},Ne=function(e){var t=e.childrenForm,a=e.childrenResult,r=S(4);return Object(d.b)("div",{css:Pe.body},Object(d.b)("div",{css:Object(d.a)({width:r})},t),Object(d.b)("div",{css:Pe.result},a))};var Ve={bloc:Object(d.a)({padding:16,backgroundColor:"#FFF",border:"1px solid #EFECEF"}),blocTitle:Object(d.a)({fontSize:18,lineHeight:"22px",textTransform:"uppercase"}),blocText:Object(d.a)({marginTop:4,fontSize:14,lineHeight:"17px"})},He=function(e){var t=e.title,a=e.text;return Object(d.b)("div",{css:Ve.bloc},Object(d.b)("p",{css:Ve.blocTitle},t),a&&Object(d.b)("p",{css:Ve.blocText},a))};var Te={actionBar:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"center",marginTop:46,marginBottom:36})},Ie=function(e){var t=e.children;return Object(d.b)("div",{css:Te.actionBar},t)};var we={container:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"flex-start"}),error:Object(d.a)({marginTop:4,color:v.colors.error,fontSize:12})},De=function(e){var t=e.submitFailed,a=e.hasValidationErrors,r=e.errorMessage;return Object(d.b)("div",{css:we.container},Object(d.b)(Z,{label:"valider",outline:a,error:t&&a}),t&&a&&Object(d.b)("p",{css:we.error},r))},Ce=function(e,t,a){return"remunerationAnnuelleBrut"+e+a+t},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:parseInt(e,10)},ke=function(e){return void 0===e?"":String(e)};var Le={container:Object(d.a)({display:"flex",flexDirection:"column"})},Be=Object(i.memo)(function(e){var t=e.data,a=e.readOnly,r=e.updateIndicateurUn,n=e.validateIndicateurUn,i=t.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges;return{categorieSocioPro:t,tranchesAges:a.map(function(e){var a=e.trancheAge,r=e.nombreSalariesFemmes,n=e.nombreSalariesHommes,i=e.remunerationAnnuelleBrutFemmes,o=e.remunerationAnnuelleBrutHommes;return{trancheAge:a,calculable:pe(r||0,n||0),remunerationAnnuelleBrutFemmesName:Ce(t,a,"Femmes"),remunerationAnnuelleBrutFemmesValue:ke(i),remunerationAnnuelleBrutHommesName:Ce(t,a,"Hommes"),remunerationAnnuelleBrutHommesValue:ke(o)}})}}),o=i.reduce(function(e,t){return t.tranchesAges.reduce(function(e,t){var a,r=t.remunerationAnnuelleBrutFemmesName,n=t.remunerationAnnuelleBrutFemmesValue,i=t.remunerationAnnuelleBrutHommesName,o=t.remunerationAnnuelleBrutHommesValue;return Object(m.a)({},e,(a={},Object(E.a)(a,r,n),Object(E.a)(a,i,o),a))},e)},{}),c=function(e){var t=i.map(function(t){return{categorieSocioPro:t.categorieSocioPro,tranchesAges:t.tranchesAges.map(function(t){var a=t.trancheAge,r=t.remunerationAnnuelleBrutFemmesName,n=t.remunerationAnnuelleBrutHommesName;return{trancheAge:a,remunerationAnnuelleBrutFemmes:Ee(e[r]),remunerationAnnuelleBrutHommes:Ee(e[n])}})}});r(t)},l=Object(k.b)({initialValues:o,onSubmit:function(e){c(e),n("Valid")}}),u=l.form,s=l.handleSubmit,b=l.hasValidationErrors,f=l.submitFailed;return u.subscribe(function(e){var t=e.values;e.dirty&&c(t)},{values:!0,dirty:!0}),Object(d.b)("form",{onSubmit:s,css:Le.container},i.map(function(e){var t=e.categorieSocioPro,r=e.tranchesAges;return Object(d.b)(Q,{key:t,title:ae(t),label:"r\xe9mun\xe9ration moyenne"},r.map(function(e){var t=e.trancheAge,r=e.calculable,n=e.remunerationAnnuelleBrutFemmesName,i=e.remunerationAnnuelleBrutHommesName;return Object(d.b)(K,{key:t,form:u,name:te(t),readOnly:a,calculable:r,femmeFieldName:n,hommeFieldName:i})}))}),a?Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur2",label:"suivant"})):Object(d.b)(Ie,null,Object(d.b)(De,{hasValidationErrors:b,submitFailed:f,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var ze={container:Object(d.a)({marginTop:64,width:"100%",position:"relative",height:0,paddingTop:"100%"}),bloc:Object(d.a)({position:"absolute",top:0,bottom:0,left:0,right:0,padding:"26% 8%",display:"flex",flexDirection:"column",justifyContent:"space-between",color:"white",backgroundColor:v.colors.default,borderRadius:"100%"}),blocInfo:Object(d.a)({borderBottom:"1px solid #FFFFFF"}),message:Object(d.a)({marginBottom:2,display:"flex",alignItems:"baseline",fontSize:14,lineHeight:"17px"}),messageLabel:Object(d.a)({marginRight:"auto"}),messageData:Object(d.a)({fontWeight:"bold"}),info:Object(d.a)({marginTop:7,fontSize:12,fontStyle:"italic",lineHeight:"15px"})},We=function(e){var t=e.firstLineLabel,a=e.firstLineData,r=e.firstLineInfo,n=e.secondLineLabel,i=e.secondLineData,o=e.secondLineInfo;return Object(d.b)("div",{css:ze.container},Object(d.b)("div",{css:ze.bloc},Object(d.b)("div",{css:ze.blocInfo},Object(d.b)("p",{css:ze.message},Object(d.b)("span",{css:ze.messageLabel},t," "),Object(d.b)("span",{css:ze.messageData},a)),r&&Object(d.b)("p",{css:ze.info},r)),Object(d.b)("div",{css:ze.blocInfo},Object(d.b)("p",{css:ze.message},Object(d.b)("span",{css:ze.messageLabel},n," "),Object(d.b)("span",{css:ze.messageData},i)),o&&Object(d.b)("p",{css:ze.info},o))))};var Me={container:Object(d.a)({maxWidth:250}),edit:Object(d.a)({marginTop:14,textAlign:"center"})},Re=function(e){var t=e.indicateurEcartRemuneration,a=e.noteIndicateurUn,r=e.validateIndicateurUn,n=void 0!==t?Math.abs(t):void 0,i=void 0!==t?Math.sign(t)<0?"femmes":"hommes":void 0;return Object(d.b)("div",{css:Me.container},Object(d.b)(We,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",firstLineInfo:"\xe9cart favorable aux ".concat(i),secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/40",secondLineInfo:"mesures de correction prises en compte"}),Object(d.b)("p",{css:Me.edit},Object(d.b)(ee,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};function Qe(e){var t=e.children;return Object(d.b)(Ae,{title:"Indicateur 1, \xe9cart de r\xe9mun\xe9ration",tagline:"Renseignez la r\xe9mun\xe9ration (annuelle / mensuelle) moyenne des femmes et des hommes par CSP et par tranche d\u2019\xe2ge."},t)}var Ue=function(e){var t=e.state,a=e.dispatch,r=Object(i.useCallback)(function(e){return a({type:"updateIndicateurUn",data:e})},[a]),n=Object(i.useCallback)(function(e){return a({type:"validateIndicateurUn",valid:e})},[a]),o=he(t.data),c=Oe(o),l=c.totalNombreSalaries,u=c.totalEffectifsValides,s=xe(o,u),m=fe(s),b=ge(l,u),f=Fe(b,m),v=Se(f);return"Valid"!==t.effectif.formValidated?Object(d.b)(Qe,null,Object(d.b)("div",null,Object(d.b)(He,{title:"vous devez renseignez vos effectifs avant d\u2019avoir acc\xe8s \xe0 cet indicateur"}),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/effectifs",label:"renseigner les effectifs"})))):b?Object(d.b)(Qe,null,Object(d.b)(Ne,{childrenForm:Object(d.b)(Be,{data:t.data,readOnly:"Valid"===t.indicateurUn.formValidated,updateIndicateurUn:r,validateIndicateurUn:n}),childrenResult:"Valid"===t.indicateurUn.formValidated&&Object(d.b)(Re,{indicateurEcartRemuneration:f,noteIndicateurUn:v,validateIndicateurUn:n})})):Object(d.b)(Qe,null,Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car l\u2019ensemble des groupes valables (c\u2019est-\xe0-dire comptant au moins 10 femmes et 10 hommes), repr\xe9sentent moins de 40% des effectifs."}),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur2",label:"suivant"}))))},Ge=[20,20,20,10,10,10,5,5,5,5,5,0],qe=function(e,t){return e>=10&&t>=10},Je=function(e,t){return e>=0&&t>=0?ne(t-e,3):void 0},Ye=function(e){return e.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges,r=e.tauxAugmentationFemmes,n=e.tauxAugmentationHommes,i=ve(a,qe),o=Je(r||0,n||0);return Object(m.a)({},i,{categorieSocioPro:t,tauxAugmentationFemmes:r,tauxAugmentationHommes:n,ecartTauxAugmentation:o})})},$e=function(e){var t=Oe(e),a=t.totalNombreSalariesFemmes,r=t.totalNombreSalariesHommes,n=t.totalNombreSalaries,i=t.totalEffectifsValides,o=e.reduce(function(e,t){var a=e.sommeProduitTauxAugmentationFemmes,r=e.sommeProduitTauxAugmentationHommes,n=t.nombreSalariesFemmes,i=t.nombreSalariesHommes;return{sommeProduitTauxAugmentationFemmes:a+(t.tauxAugmentationFemmes||0)*n,sommeProduitTauxAugmentationHommes:r+(t.tauxAugmentationHommes||0)*i}},{sommeProduitTauxAugmentationFemmes:0,sommeProduitTauxAugmentationHommes:0});return{totalNombreSalaries:n,totalEffectifsValides:i,totalTauxAugmentationFemmes:o.sommeProduitTauxAugmentationFemmes/a,totalTauxAugmentationHommes:o.sommeProduitTauxAugmentationHommes/r}},Ke=be(function(e){return e.ecartTauxAugmentation}),Xe=function(e,t,a,r,n){return e&&ge(t,a)&&(r>0||n>0)},Ze=function(e,t){return e&&void 0!==t?ne(100*t,3):void 0},_e=function(e){return void 0!==e?Ge[Math.min(Ge.length-1,Math.ceil(Math.max(0,e)))]:void 0};function et(e){var t=e.field.input,a=e.label,r=e.value,n=e.disabled,i=t.value===r;return Object(d.b)("label",{css:tt.label},Object(d.b)("input",Object.assign({css:tt.radio},t,{type:"radio",value:r,checked:i,disabled:n})),Object(d.b)("div",{css:[tt.fakeRadio,i&&tt.fakeRadioChecked]}),Object(d.b)("span",{css:tt.labelText},a))}var tt={container:Object(d.a)({display:"flex",flexDirection:"column"}),label:Object(d.a)({display:"flex",fontSize:14,cursor:"pointer"}),labelText:Object(d.a)({lineHeight:"16px"}),radio:Object(d.a)({display:"none"}),fakeRadio:Object(d.a)({width:16,height:16,flexShrink:0,marginRight:6,borderRadius:8,backgroundColor:"white",border:"solid ".concat(v.colors.default," 1px")}),fakeRadioChecked:Object(d.a)({backgroundImage:"radial-gradient(".concat(v.colors.default," 0%, ").concat(v.colors.default," 3px, #FFF 3px)")}),radioFieldFalse:Object(d.a)({marginTop:9}),radioFieldFalseDisabled:Object(d.a)({opacity:0})},at=function(e){var t=e.form,a=e.readOnly,r=e.fieldName,n=e.labelTrue,i=e.labelFalse,o=Object(k.a)(r,t);return Object(d.b)("div",{css:tt.container},Object(d.b)(et,{field:o,label:n,value:"true",disabled:a}),Object(d.b)("div",{css:[tt.radioFieldFalse,a&&tt.radioFieldFalseDisabled]},Object(d.b)(et,{field:o,label:i,value:"false",disabled:a})))},rt=function(e,t){return"tauxAugmentation"+e+t},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:oe(parseFloat(e))},it=function(e){return void 0===e?"":String(ie(e))};var ot={container:Object(d.a)({display:"flex",flexDirection:"column"})},ct=Object(i.memo)(function(e){var t=e.ecartAugmentParCategorieSocioPro,a=e.presenceAugmentation,r=e.readOnly,n=e.updateIndicateurDeux,i=e.validateIndicateurDeux,o=t.map(function(e){var t=e.categorieSocioPro,a=e.validiteGroupe,r=e.tauxAugmentationFemmes,n=e.tauxAugmentationHommes;return{categorieSocioPro:t,validiteGroupe:a,tauxAugmentationFemmesName:rt(t,"Femmes"),tauxAugmentationFemmesValue:it(r),tauxAugmentationHommesName:rt(t,"Hommes"),tauxAugmentationHommesValue:it(n)}}),c=o.reduce(function(e,t){var a,r=t.tauxAugmentationFemmesName,n=t.tauxAugmentationFemmesValue,i=t.tauxAugmentationHommesName,o=t.tauxAugmentationHommesValue;return Object(m.a)({},e,(a={},Object(E.a)(a,r,n),Object(E.a)(a,i,o),a))},{presenceAugmentation:String(a)}),l=function(e){var t=e.presenceAugmentation,a=o.map(function(t){var a=t.categorieSocioPro,r=t.tauxAugmentationFemmesName,n=t.tauxAugmentationHommesName;return{categorieSocioPro:a,tauxAugmentationFemmes:nt(e[r]),tauxAugmentationHommes:nt(e[n])}});n({tauxAugmentation:a,presenceAugmentation:"true"===t})},u=Object(k.b)({initialValues:c,onSubmit:function(e){l(e),i("Valid")}}),s=u.form,b=u.values,f=u.handleSubmit,v=u.hasValidationErrors,O=u.submitFailed;s.subscribe(function(e){var t=e.values;e.dirty&&l(t)},{values:!0,dirty:!0});var g=t.map(function(e,t){var a=o[t],r=nt(b[a.tauxAugmentationFemmesName]),n=nt(b[a.tauxAugmentationHommesName]),i=Je(r,n);return Object(m.a)({},e,{tauxAugmentationFemmes:r,tauxAugmentationHommes:n,ecartTauxAugmentation:i})}),j=$e(g),p=j.totalTauxAugmentationFemmes,h=j.totalTauxAugmentationHommes;return Object(d.b)("form",{onSubmit:f,css:ot.container},Object(d.b)(at,{form:s,fieldName:"presenceAugmentation",readOnly:r,labelTrue:"il y a eu des augmentations durant la p\xe9riode de r\xe9f\xe9rence",labelFalse:"il n\u2019y a pas eu d\u2019augmentation durant la p\xe9riode de r\xe9f\xe9rence"}),"true"===b.presenceAugmentation&&Object(d.b)(Q,{label:"% de salari\xe9s augment\xe9s",footer:[re(h),re(p)]},o.map(function(e){var t=e.categorieSocioPro,a=e.validiteGroupe,n=e.tauxAugmentationFemmesName,i=e.tauxAugmentationHommesName;return Object(d.b)(K,{key:t,form:s,name:ae(t),readOnly:r,calculable:a,femmeFieldName:n,hommeFieldName:i})})),r?Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur3",label:"suivant"})):Object(d.b)(Ie,null,Object(d.b)(De,{hasValidationErrors:v,submitFailed:O,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var lt={container:Object(d.a)({maxWidth:250}),edit:Object(d.a)({marginTop:14,textAlign:"center"})},ut=function(e){var t=e.indicateurEcartAugmentation,a=e.noteIndicateurDeux,r=e.validateIndicateurDeux,n=void 0!==t?Math.abs(t):void 0,i=void 0!==t?Math.sign(t)<0?"femmes":"hommes":void 0;return Object(d.b)("div",{css:lt.container},Object(d.b)(We,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",firstLineInfo:"\xe9cart favorable aux ".concat(i),secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/20",secondLineInfo:"mesures de correction prises en compte"}),Object(d.b)("p",{css:lt.edit},Object(d.b)(ee,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};function st(e){var t=e.children;return Object(d.b)(Ae,{title:"Indicateur 2, \xe9cart de taux d\u2019augmentation individuelle \u201chors promotion\u201d",tagline:"Renseignez le pourcentage d\u2019hommes et des femmes ayant \xe9t\xe9 augment\xe9s durant la p\xe9riode de r\xe9f\xe9rence, par CSP."},t)}var mt=function(e){var t=e.state,a=e.dispatch,r=Object(i.useCallback)(function(e){return a({type:"updateIndicateurDeux",data:e})},[a]),n=Object(i.useCallback)(function(e){return a({type:"validateIndicateurDeux",valid:e})},[a]),o=Ye(t.data),c=$e(o),l=c.totalNombreSalaries,u=c.totalEffectifsValides,s=c.totalTauxAugmentationFemmes,m=c.totalTauxAugmentationHommes,b=Ke(o,u),f=fe(b),v=ge(l,u),O=Xe(t.indicateurDeux.presenceAugmentation,l,u,s,m),g=Ze(O,f),j=_e(g);return"Valid"!==t.effectif.formValidated?Object(d.b)(st,null,Object(d.b)("div",null,Object(d.b)(He,{title:"vous devez renseignez vos effectifs avant d\u2019avoir acc\xe8s \xe0 cet indicateur"}),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/effectifs",label:"renseigner les effectifs"})))):v?"Valid"!==t.indicateurDeux.formValidated||O?Object(d.b)(st,null,Object(d.b)(Ne,{childrenForm:Object(d.b)(ct,{ecartAugmentParCategorieSocioPro:o,presenceAugmentation:t.indicateurDeux.presenceAugmentation,readOnly:"Valid"===t.indicateurDeux.formValidated,updateIndicateurDeux:r,validateIndicateurDeux:n}),childrenResult:"Valid"===t.indicateurDeux.formValidated&&Object(d.b)(ut,{indicateurEcartAugmentation:g,noteIndicateurDeux:j,validateIndicateurDeux:n})})):Object(d.b)(st,null,Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car il n\u2019y a pas eu d\u2019augmentation individuelle durant la p\xe9riode de r\xe9f\xe9rence."}),Object(d.b)(Ie,null,Object(d.b)(ee,{onClick:function(){return n("None")}},"modifier les donn\xe9es saisies")),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur3",label:"suivant"})))):Object(d.b)(st,null,Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car l\u2019ensemble des groupes valables (c\u2019est-\xe0-dire comptant au moins 10 femmes et 10 hommes), repr\xe9sentent moins de 40% des effectifs."}),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur3",label:"suivant"}))))},dt=[15,15,15,10,10,10,5,5,5,5,5,0],bt=Je,ft=function(e){return e.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges,r=e.tauxPromotionFemmes,n=e.tauxPromotionHommes,i=ve(a,qe),o=bt(r||0,n||0);return Object(m.a)({},i,{categorieSocioPro:t,tauxPromotionFemmes:r,tauxPromotionHommes:n,ecartTauxPromotion:o})})},vt=function(e){var t=Oe(e),a=t.totalNombreSalariesFemmes,r=t.totalNombreSalariesHommes,n=t.totalNombreSalaries,i=t.totalEffectifsValides,o=e.reduce(function(e,t){var a=e.sommeProduitTauxPromotionFemmes,r=e.sommeProduitTauxPromotionHommes,n=t.nombreSalariesFemmes,i=t.nombreSalariesHommes;return{sommeProduitTauxPromotionFemmes:a+(t.tauxPromotionFemmes||0)*n,sommeProduitTauxPromotionHommes:r+(t.tauxPromotionHommes||0)*i}},{sommeProduitTauxPromotionFemmes:0,sommeProduitTauxPromotionHommes:0});return{totalNombreSalaries:n,totalEffectifsValides:i,totalTauxPromotionFemmes:o.sommeProduitTauxPromotionFemmes/a,totalTauxPromotionHommes:o.sommeProduitTauxPromotionHommes/r}},Ot=be(function(e){return e.ecartTauxPromotion}),gt=Ze,jt=function(e){return void 0!==e?dt[Math.min(dt.length-1,Math.ceil(Math.max(0,e)))]:void 0},pt=function(e,t){return"tauxPromotion"+e+t},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:oe(parseFloat(e))},xt=function(e){return void 0===e?"":String(ie(e))};var Ft={container:Object(d.a)({display:"flex",flexDirection:"column"})},St=Object(i.memo)(function(e){var t=e.ecartPromoParCategorieSocioPro,a=e.presencePromotion,r=e.readOnly,n=e.updateIndicateurTrois,i=e.validateIndicateurTrois,o=t.map(function(e){var t=e.categorieSocioPro,a=e.validiteGroupe,r=e.tauxPromotionFemmes,n=e.tauxPromotionHommes;return{categorieSocioPro:t,validiteGroupe:a,tauxPromotionFemmesName:pt(t,"Femmes"),tauxPromotionFemmesValue:xt(r),tauxPromotionHommesName:pt(t,"Hommes"),tauxPromotionHommesValue:xt(n)}}),c=o.reduce(function(e,t){var a,r=t.tauxPromotionFemmesName,n=t.tauxPromotionFemmesValue,i=t.tauxPromotionHommesName,o=t.tauxPromotionHommesValue;return Object(m.a)({},e,(a={},Object(E.a)(a,r,n),Object(E.a)(a,i,o),a))},{presencePromotion:String(a)}),l=function(e){var t=e.presencePromotion,a=o.map(function(t){var a=t.categorieSocioPro,r=t.tauxPromotionFemmesName,n=t.tauxPromotionHommesName;return{categorieSocioPro:a,tauxPromotionFemmes:ht(e[r]),tauxPromotionHommes:ht(e[n])}});n({tauxPromotion:a,presencePromotion:"true"===t})},u=Object(k.b)({initialValues:c,onSubmit:function(e){l(e),i("Valid")}}),s=u.form,b=u.values,f=u.handleSubmit,v=u.hasValidationErrors,O=u.submitFailed;s.subscribe(function(e){var t=e.values;e.dirty&&l(t)},{values:!0,dirty:!0});var g=t.map(function(e,t){var a=o[t],r=ht(b[a.tauxPromotionFemmesName]),n=ht(b[a.tauxPromotionHommesName]),i=bt(r,n);return Object(m.a)({},e,{tauxPromotionFemmes:r,tauxPromotionHommes:n,ecartTauxPromotion:i})}),j=vt(g),p=j.totalTauxPromotionFemmes,h=j.totalTauxPromotionHommes;return Object(d.b)("form",{onSubmit:f,css:Ft.container},Object(d.b)(at,{form:s,fieldName:"presencePromotion",readOnly:r,labelTrue:"il y a eu des promotions durant la p\xe9riode de r\xe9f\xe9rence",labelFalse:"il n\u2019y a pas eu de promotions durant la p\xe9riode de r\xe9f\xe9rence"}),"true"===b.presencePromotion&&Object(d.b)(Q,{label:"% de salari\xe9s promus",footer:[re(h),re(p)]},o.map(function(e){var t=e.categorieSocioPro,a=e.validiteGroupe,n=e.tauxPromotionFemmesName,i=e.tauxPromotionHommesName;return Object(d.b)(K,{key:t,form:s,name:ae(t),readOnly:r,calculable:a,femmeFieldName:n,hommeFieldName:i})})),r?Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur4",label:"suivant"})):Object(d.b)(Ie,null,Object(d.b)(De,{hasValidationErrors:v,submitFailed:O,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var yt={container:Object(d.a)({maxWidth:250}),edit:Object(d.a)({marginTop:14,textAlign:"center"})},At=function(e){var t=e.indicateurEcartPromotion,a=e.noteIndicateurTrois,r=e.validateIndicateurTrois,n=void 0!==t?Math.abs(t):void 0,i=void 0!==t?Math.sign(t)<0?"femmes":"hommes":void 0;return Object(d.b)("div",{css:yt.container},Object(d.b)(We,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",firstLineInfo:"\xe9cart favorable aux ".concat(i),secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/15",secondLineInfo:"mesures de correction prises en compte"}),Object(d.b)("p",{css:yt.edit},Object(d.b)(ee,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};function Pt(e){var t=e.children;return Object(d.b)(Ae,{title:"Indicateur 3, \xe9cart de taux de promotions",tagline:"Renseignez le pourcentage de femmes et d\u2019hommes ayant \xe9t\xe9 promus durant la p\xe9riode de r\xe9f\xe9rence par CSP."},t)}var Nt=function(e){var t=e.state,a=e.dispatch,r=Object(i.useCallback)(function(e){return a({type:"updateIndicateurTrois",data:e})},[a]),n=Object(i.useCallback)(function(e){return a({type:"validateIndicateurTrois",valid:e})},[a]),o=ft(t.data),c=vt(o),l=c.totalNombreSalaries,u=c.totalEffectifsValides,s=c.totalTauxPromotionFemmes,m=c.totalTauxPromotionHommes,b=Ot(o,u),f=fe(b),v=ge(l,u),O=Xe(t.indicateurTrois.presencePromotion,l,u,s,m),g=gt(O,f),j=jt(g);return"Valid"!==t.effectif.formValidated?Object(d.b)(Pt,null,Object(d.b)("div",null,Object(d.b)(He,{title:"vous devez renseignez vos effectifs avant d\u2019avoir acc\xe8s \xe0 cet indicateur"}),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/effectifs",label:"renseigner les effectifs"})))):v?"Valid"!==t.indicateurTrois.formValidated||O?Object(d.b)(Pt,null,Object(d.b)(Ne,{childrenForm:Object(d.b)(St,{ecartPromoParCategorieSocioPro:o,presencePromotion:t.indicateurTrois.presencePromotion,readOnly:"Valid"===t.indicateurTrois.formValidated,updateIndicateurTrois:r,validateIndicateurTrois:n}),childrenResult:"Valid"===t.indicateurTrois.formValidated&&Object(d.b)(At,{indicateurEcartPromotion:g,noteIndicateurTrois:j,validateIndicateurTrois:n})})):Object(d.b)(Pt,null,Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car il n\u2019y a pas eu de promotion durant la p\xe9riode de r\xe9f\xe9rence."}),Object(d.b)(Ie,null,Object(d.b)(ee,{onClick:function(){return n("None")}},"modifier les donn\xe9es saisies")),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur4",label:"suivant"})))):Object(d.b)(Pt,null,Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car l\u2019ensemble des groupes valables (c\u2019est-\xe0-dire comptant au moins 10 femmes et 10 hommes), repr\xe9sentent moins de 40% des effectifs."}),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur4",label:"suivant"}))))},Vt=function(e,t,a){return e&&void 0!==t&&t>0&&void 0!==a&&a>0},Ht=function(e,t,a){return e&&void 0!==t&&void 0!==a&&t>=a?ne(a/t*100,3):void 0},Tt=function(e){return void 0!==e?e<100?0:15:void 0},It=function(e){var t=function(e){return!e}(e),a=function(e){return!!Number.isNaN(Number(e))}(e);return t||a?{required:t,mustBeNumber:a}:void 0};var wt={container:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"stretch",height:58,marginBottom:10}),row:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-end"}),cellHead:Object(d.a)({height:29,paddingBottom:2,display:"flex",alignItems:"flex-end",borderBottom:"solid ".concat(v.colors.default," 1px"),fontSize:14}),cellHeadError:Object(d.a)({color:v.colors.error,borderColor:"transparent"}),cellMen:Object(d.a)({borderColor:v.colors.men}),cellWomen:Object(d.a)({borderColor:v.colors.women}),cellEmpty:Object(d.a)({height:22,display:"flex",alignItems:"center",justifyContent:"center"}),cellEmptyMen:Object(d.a)({color:v.colors.men}),cellEmptyWomen:Object(d.a)({color:v.colors.women}),error:Object(d.a)({display:"flex",alignItems:"center",height:18,marginTop:5,color:v.colors.error,fontSize:11,fontStyle:"italic",lineHeight:"12px",borderBottom:"solid ".concat(v.colors.error," 1px")})},Dt=function(e){var t=e.form,a=e.fieldName,r=e.label,n=e.readOnly,i=Object(k.a)(a,t,It),o=G(i.meta);return Object(d.b)("div",{css:wt.container},Object(d.b)("div",{css:wt.row},Object(d.b)(z,{style:[wt.cellHead,o&&wt.cellHeadError]},i.meta.valid?"\u2713 ":o?"\u2715 ":null,r),n?Object(d.b)(L,{style:[wt.cellEmpty,wt.cellEmptyWomen]},i.input.value):Object(d.b)(J,{field:i,style:wt.cellWomen})),o&&Object(d.b)("div",{css:wt.error},"ce champs n\u2019est pas valide, renseignez une valeur num\xe9rique"))},Ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:parseInt(e,10)},Et=function(e){return void 0===e?"":String(e)};var kt={container:Object(d.a)({display:"flex",flexDirection:"column"})},Lt=Object(i.memo)(function(e){var t=e.indicateurQuatre,a=e.readOnly,r=e.updateIndicateurQuatre,n=e.validateIndicateurQuatre,i={presenceAugmentation:String(t.presenceAugmentation),nombreSalariees:Et(t.nombreSalariees),nombreSalarieesPeriodeAugmentation:Et(t.nombreSalarieesPeriodeAugmentation),nombreSalarieesAugmentees:Et(t.nombreSalarieesAugmentees)},o=function(e){var t=e.presenceAugmentation,a=e.nombreSalariees,n=e.nombreSalarieesPeriodeAugmentation,i=e.nombreSalarieesAugmentees;r({presenceAugmentation:"true"===t,nombreSalariees:Ct(a),nombreSalarieesPeriodeAugmentation:Ct(n),nombreSalarieesAugmentees:Ct(i)})},c=Object(k.b)({initialValues:i,onSubmit:function(e){o(e),n("Valid")}}),l=c.form,u=c.values,s=c.handleSubmit,m=c.hasValidationErrors,b=c.submitFailed;return l.subscribe(function(e){var t=e.values;e.dirty&&o(t)},{values:!0,dirty:!0}),Object(d.b)("form",{onSubmit:s,css:kt.container},Object(d.b)(at,{form:l,fieldName:"presenceAugmentation",readOnly:a,labelTrue:"il y a eu des augmentations collective ou individuelle durant la p\xe9riode de r\xe9f\xe9rence",labelFalse:"il n\u2019y a pas eu d\u2019augmentation collective ou individuelle durant la p\xe9riode de r\xe9f\xe9rence"}),"true"===u.presenceAugmentation&&Object(d.b)(M,null,Object(d.b)(Dt,{form:l,fieldName:"nombreSalariees",label:"nombre de salari\xe9es de retour de cong\xe9 maternit\xe9",readOnly:a}),Object(d.b)(Dt,{form:l,fieldName:"nombreSalarieesPeriodeAugmentation",label:"parmis ces cong\xe8s maternit\xe9, combien ont chevauch\xe9e une periode d\u2019augmentation",readOnly:a}),Object(d.b)(Dt,{form:l,fieldName:"nombreSalarieesAugmentees",label:"parmis ces cong\xe8s maternit\xe9 ayant chevauch\xe9e une periode d\u2019augmentation, combien ont \xe9t\xe9 augment\xe9es ?",readOnly:a})),a?Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur5",label:"suivant"})):Object(d.b)(Ie,null,Object(d.b)(De,{hasValidationErrors:m,submitFailed:b,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var Bt={container:Object(d.a)({maxWidth:250}),edit:Object(d.a)({marginTop:14,textAlign:"center"})},zt=function(e){var t=e.indicateurEcartAugmentation,a=e.noteIndicateurQuatre,r=e.validateIndicateurQuatre,n=void 0!==t?Math.abs(t):void 0;return Object(d.b)("div",{css:Bt.container},Object(d.b)(We,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/15"}),Object(d.b)("p",{css:Bt.edit},Object(d.b)(ee,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};function Wt(e){var t=e.children;return Object(d.b)(Ae,{title:"Indicateur 4, pourcentage de salari\xe9es augment\xe9es dans l'ann\xe9e suivant leur retour de cong\xe9 maternit\xe9",tagline:"Renseignez le taux de salari\xe9es en cong\xe8s maternit\xe9 durant la p\xe9riode de r\xe9f\xe9rence ayant re\xe7u une augmentation \xe0 leur retour."},t)}var Mt,Rt,Qt=function(e){var t=e.state,a=e.dispatch,r=Object(i.useCallback)(function(e){return a({type:"updateIndicateurQuatre",data:e})},[a]),n=Object(i.useCallback)(function(e){return a({type:"validateIndicateurQuatre",valid:e})},[a]),o=Vt(t.indicateurQuatre.presenceAugmentation,t.indicateurQuatre.nombreSalariees,t.indicateurQuatre.nombreSalarieesPeriodeAugmentation),c=Ht(o,t.indicateurQuatre.nombreSalarieesPeriodeAugmentation,t.indicateurQuatre.nombreSalarieesAugmentees),l=Tt(c);return"Valid"!==t.indicateurQuatre.formValidated||o?Object(d.b)(Wt,null,Object(d.b)(Ne,{childrenForm:Object(d.b)(Lt,{indicateurQuatre:t.indicateurQuatre,readOnly:"Valid"===t.indicateurQuatre.formValidated,updateIndicateurQuatre:r,validateIndicateurQuatre:n}),childrenResult:"Valid"===t.indicateurQuatre.formValidated&&Object(d.b)(zt,{indicateurEcartAugmentation:c,noteIndicateurQuatre:l,validateIndicateurQuatre:n})})):Object(d.b)(Wt,null,Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car il n\u2019y a pas eu de promotion durant la p\xe9riode de r\xe9f\xe9rence."}),Object(d.b)(Ie,null,Object(d.b)(ee,{onClick:function(){return n("None")}},"modifier les donn\xe9es saisies")),Object(d.b)(Ie,null,Object(d.b)(w,{to:"/indicateur5",label:"suivant"}))))},Ut={nombreSalariesFemmes:void 0,nombreSalariesHommes:void 0,remunerationAnnuelleBrutFemmes:void 0,remunerationAnnuelleBrutHommes:void 0},Gt=(Mt=r,Rt=function(e){return Object(m.a)({trancheAge:e},Ut)},Object.keys(Mt).map(function(e){return Mt[e]}).filter(function(e){return"number"===typeof e}).map(function(e){return Rt(e)})),qt={tranchesAges:Object(s.a)(Gt),tauxAugmentationFemmes:void 0,tauxAugmentationHommes:void 0,tauxPromotionFemmes:void 0,tauxPromotionHommes:void 0},Jt={data:[Object(m.a)({categorieSocioPro:n.Ouvriers},qt),Object(m.a)({categorieSocioPro:n.Employes},qt),Object(m.a)({categorieSocioPro:n.Techniciens},qt),Object(m.a)({categorieSocioPro:n.Cadres},qt)],effectif:{formValidated:"None"},indicateurUn:{formValidated:"None"},indicateurDeux:{formValidated:"None",presenceAugmentation:!0},indicateurTrois:{formValidated:"None",presencePromotion:!0},indicateurQuatre:{formValidated:"None",presenceAugmentation:!0,nombreSalariees:void 0,nombreSalarieesPeriodeAugmentation:void 0,nombreSalarieesAugmentees:void 0}},Yt=localStorage.getItem("egapro"),$t=Yt?JSON.parse(Yt):Jt;var Kt=Object(f.e)(function(e){var t=e.children,a=e.state,r=e.location;return Object(d.b)("div",{css:Xt.main,key:r.key},Object(d.b)("div",{css:Xt.menu},Object(d.b)(V,{effectifFormValidated:a.effectif.formValidated,indicateurUnFormValidated:a.indicateurUn.formValidated,indicateurDeuxFormValidated:a.indicateurDeux.formValidated,indicateurTroisFormValidated:a.indicateurTrois.formValidated,indicateurQuatreFormValidated:a.indicateurQuatre.formValidated})),Object(d.b)("div",{css:Xt.view},t))}),Xt={layout:Object(d.a)({flex:1,display:"flex",flexDirection:"row",justifyContent:"center"}),leftColumn:Object(d.a)({display:"flex",flexDirection:"column",flexGrow:1,maxWidth:v.grid.maxWidth-375}),rightColumn:Object(d.a)({display:"flex",flexDirection:"column",width:375,flexShrink:0,backgroundColor:"#AAAEE1"}),main:Object(d.a)({overflowY:"auto",display:"flex",flex:1,position:"relative",background:"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), rgba(138, 146, 217, 0.14)"}),menu:Object(d.a)({position:"sticky",top:0,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:80}),view:Object(d.a)({flex:1})},Zt=function(){var e=Object(i.useReducer)(g,$t),t=Object(u.a)(e,2),a=t[0],r=t[1];Object(i.useEffect)(function(){var e=JSON.stringify(a);localStorage.setItem("egapro",e)},[a]);var n=Object(i.useCallback)(function(e){return r({type:"updateEffectif",data:e})},[r]),o=Object(i.useCallback)(function(e){return r({type:"validateEffectif",valid:e})},[r]);return Object(d.b)(b.a,{basename:"/egapro"},Object(d.b)(F,null,Object(d.b)("div",{css:Xt.layout},Object(d.b)("div",{css:Xt.leftColumn},Object(d.b)(A,null),Object(d.b)(Kt,{state:a},Object(d.b)(f.c,null,Object(d.b)(f.a,{path:"/",exact:!0,render:function(e){return Object(d.b)(C,e)}}),Object(d.b)(f.a,{path:"/effectifs",render:function(e){return Object(d.b)(me,Object.assign({},e,{state:a,updateEffectif:n,validateEffectif:o}))}}),Object(d.b)(f.a,{path:"/indicateur1",render:function(e){return Object(d.b)(Ue,Object.assign({},e,{state:a,dispatch:r}))}}),Object(d.b)(f.a,{path:"/indicateur2",render:function(e){return Object(d.b)(mt,Object.assign({},e,{state:a,dispatch:r}))}}),Object(d.b)(f.a,{path:"/indicateur3",render:function(e){return Object(d.b)(Nt,Object.assign({},e,{state:a,dispatch:r}))}}),Object(d.b)(f.a,{path:"/indicateur4",render:function(e){return Object(d.b)(Qt,Object.assign({},e,{state:a,dispatch:r}))}})))),Object(d.b)("div",{css:Xt.rightColumn}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Zt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.45fec1f4.chunk.js.map