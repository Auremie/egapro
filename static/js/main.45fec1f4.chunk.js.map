{"version":3,"sources":["globals.d.ts","utils/globalStyles.tsx","AppReducer.tsx","components/GridContext.tsx","components/Header.tsx","components/Menu.tsx","components/Button.tsx","components/ButtonLink.tsx","views/Home.tsx","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/FieldInputsMenWomen.tsx","components/ButtonSubmit.tsx","components/ActionLink.tsx","utils/helpers.tsx","views/GroupEffectif.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","components/Page.tsx","components/LayoutFormAndResult.tsx","components/InfoBloc.tsx","components/ActionBar.tsx","components/FormSubmit.tsx","views/IndicateurUnForm.tsx","components/ResultBubble.tsx","views/IndicateurUnResult.tsx","views/IndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","components/RadiosBoolean.tsx","views/IndicateurDeuxForm.tsx","views/IndicateurDeuxResult.tsx","views/IndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","views/IndicateurTroisForm.tsx","views/IndicateurTroisResult.tsx","views/IndicateurTrois.tsx","utils/calculsEgaProIndicateurQuatre.tsx","components/FieldInput.tsx","views/IndicateurQuatreForm.tsx","views/IndicateurQuatreResult.tsx","views/IndicateurQuatre.tsx","utils/mapEnum.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","globalStyles","colors","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","updateIndicateurUn","stateData","actionData","map","group","datumCat","find","_ref5","categorieSocioPro","Object","objectSpread","tranchesAges","groupTranchesAges","datumAge","_ref6","trancheAge","assign","AppReducer","state","action","type","data","_ref3","_ref4","valid","effectif","formValidated","indicateurUn","indicateurDeux","indicateurTrois","_action$data","tauxAugmentation","presenceAugmentation","datum","_ref","_action$data2","tauxPromotion","presencePromotion","_ref2","indicateurQuatre","totalGuttersWidth","getColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","GridContext","React","createContext","window","innerWidth","GridProvider","children","_useState","useState","_useState2","slicedToArray","setColumnWidth","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","value","useMemo","react_default","a","createElement","Provider","useColumnsWidth","numColumns","_useGridContext","useContext","styles","header","css","backgroundColor","height","flexShrink","display","flexDirection","alignItems","justifyContent","borderBottom","headerLeft","marginLeft","marginRight","headerInner","flexGrow","title","fontSize","subtitle","Header","width","core_browser_esm","CustomNavLink","label","to","_ref$activeOnlyWhenEx","activeOnlyWhenExact","react_router","path","exact","match","react_router_dom","link","activeLink","menu","paddingTop","paddingBottom","color","lineHeight","textDecoration",":hover","Menu","effectifFormValidated","indicateurUnFormValidated","indicateurDeuxFormValidated","indicateurTroisFormValidated","indicateurQuatreFormValidated","button","padding","border","concat","borderRadius","cursor","buttonOutline","buttonError","borderColor","Button","_ref$outline","outline","_ref$error","ButtonLink","components_Button","bloc","margin","blocTitle","message","marginTop","Home","props","components_ButtonLink","Cell","style","cell","Cell2","cell2","CellHead","cellHead","BlocFormLight","_ref2$superLight","superLight","container","background","blocForm","blocFormLight","blocFormSuperLight","blocFormInner","position","marginBottom","top","bottom","left","right","borderLeft","borderRight","blocFormWithFooter","paddingRight","paddingLeft","rowHead","minHeight","rowHeadCellHead","textTransform","rowHeadCell","textAlign","rowHeadBorder","rowGender","cellMen","cellWomen","rowFoot","rowFootCell","rowFootTotal","rowFootBorderLeft","flex","rowFootBorderRight","BlocForm","footer","react","hasFieldError","meta","submitFailed","touched","mustBeNumber","input","appearance","inputError","CellInput","_ref$field","field","_ref$field$input","inputProps","objectWithoutProperties","autoComplete","active","validate","requiredError","required","mustBeNumberError","Number","isNaN","row","cellHeadInvalid","cellHeadError","cellEmpty","cellEmptyMen","cellEmptyWomen","fontStyle","FieldInputsMenWomen","form","name","readOnly","calculable","femmeFieldName","hommeFieldName","femmesField","useField","undefined","hommesField","femmesError","hommesError","Fragment","components_CellInput","all","ButtonSubmit","ActionLink","onClick","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Ouvriers","Employes","Techniciens","Cadres","displayPercent","digits","arguments","length","toFixed","roundDecimal","decimal","mult","pow","round","fractionToPercentage","percentageToFraction","getFieldName","genre","parseFormValue","defaultValue","parseInt","parseStateValue","String","page","blocSubtitle","actionError","indicatorInvalid","indicatorInvalidTitle","indicatorInvalidText","indicatorInvalidLink","memo","updateEffectif","validateEffectif","infoFields","nombreSalariesFemmes","nombreSalariesHommes","nbSalarieFemmeName","nbSalarieFemmeValue","nbSalarieHommeName","nbSalarieHommeValue","initialValues","reduce","acc1","acc2","_objectSpread2","defineProperty","saveForm","formData","_ref7","_useForm","useForm","onSubmit","handleSubmit","values","hasValidationErrors","subscribe","_ref8","dirty","_ref9","totalNbSalarie","acc","_ref10","components_BlocForm","key","_ref11","components_FieldInputsMenWomen","components_ActionLink","components_ButtonSubmit","prevProps","nextProps","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","filter","effectifEtEcart","effectifsValides","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","includes","ecartPondere","val","rowEffectifsParCategorieSocioPro","calculValiditeGroupe","_tranchesAges$reduce","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","_groupEffectif$reduce","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","calculEffectifsIndicateurCalculable","baremeEcartRemuneration","calculEffectifsEtEcartRemuParTrancheAge","groupTrancheAge","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","effectifs","rowEffectifsParTrancheAge","ecartRemunerationMoyenne","calculEcartRemunerationMoyenne","ecartApresApplicationSeuilPertinence","sign","abs","calculEcartApresApplicationSeuilPertinence","calculEcartsPonderesParTrancheAge","calculIndicateurEcartRemuneration","indicateurCalculable","totalEcartPondere","calculNote","indicateurEcartRemuneration","ceil","tagline","Page","body","result","LayoutFormAndResult","childrenForm","childrenResult","blocText","InfoBloc","text","actionBar","ActionBar","FormSubmit","errorMessage","validateIndicateurUn","remunerationAnnuelleBrutFemmesName","remunerationAnnuelleBrutFemmesValue","remunerationAnnuelleBrutHommesName","remunerationAnnuelleBrutHommesValue","components_ActionBar","components_FormSubmit","blocInfo","messageLabel","messageData","fontWeight","info","ResultBubble","firstLineLabel","firstLineData","firstLineInfo","secondLineLabel","secondLineData","secondLineInfo","edit","IndicateurUnResult","noteIndicateurUn","absoluteResult","genderFavoriteResult","components_ResultBubble","PageIndicateurUn","components_Page","IndicateurUn","dispatch","effectifEtEcartRemuParTranche","_calculTotalEffectifs","ecartsPonderesByRow","effectifsIndicateurCalculable","components_InfoBloc","components_LayoutFormAndResult","views_IndicateurUnForm","views_IndicateurUnResult","baremEcartAugmentation","calculEcartTauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","calculEffectifsEtEcartAugmentParCategorieSocioPro","ecartTauxAugmentation","calculTotalEffectifsEtTauxAugmentation","groupEffectifEtEcartAugment","_groupEffectifEtEcart","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculEcartsPonderesParCategorieSocioPro","calculIndicateurCalculable","calculIndicateurEcartAugmentation","indicateurEcartAugmentation","RadioField","disabled","checked","radio","fakeRadio","fakeRadioChecked","labelText","backgroundImage","radioFieldFalse","radioFieldFalseDisabled","opacity","RadiosBoolean","fieldName","labelTrue","labelFalse","parseFloat","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","validateIndicateurDeux","tauxAugmentationFemmesName","tauxAugmentationFemmesValue","tauxAugmentationHommesName","tauxAugmentationHommesValue","ecartAugmentParCategorieSocioProPourTotal","groupAugment","index","infoField","components_RadiosBoolean","IndicateurDeuxResult","noteIndicateurDeux","PageIndicateurDeux","IndicateurDeux","effectifEtEcartAugmentParGroupe","views_IndicateurDeuxForm","views_IndicateurDeuxResult","baremEcartPromotion","calculEcartTauxPromotion","calculEffectifsEtEcartPromoParCategorieSocioPro","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","calculTotalEffectifsEtTauxPromotion","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculIndicateurEcartPromotion","indicateurEcartPromotion","ecartPromoParCategorieSocioPro","updateIndicateurTrois","validateIndicateurTrois","tauxPromotionFemmesName","tauxPromotionFemmesValue","tauxPromotionHommesName","tauxPromotionHommesValue","ecartPromoParCategorieSocioProPourTotal","IndicateurTroisResult","noteIndicateurTrois","PageIndicateurTrois","IndicateurTrois","effectifEtEcartPromoParGroupe","views_IndicateurTroisForm","views_IndicateurTroisResult","nombreSalariees","nombreSalarieesPeriodeAugmentation","nombreSalarieesAugmentees","FieldInput","updateIndicateurQuatre","validateIndicateurQuatre","components_FieldInput","IndicateurQuatreResult","noteIndicateurQuatre","PageIndicateurQuatre","IndicateurQuatre","enumerable","fn","views_IndicateurQuatreForm","views_IndicateurQuatreResult","baseGroupTranchesAgesState","baseTranchesAge","keys","v","m","baseGroupe","toConsumableArray","defaultState","localStorageEgapro","localStorage","getItem","initialState","JSON","parse","MainScrollViewWithRouter","withRouter","location","main","components_Menu","view","layout","leftColumn","rightColumn","overflowY","App","_useReducer","useReducer","_useReducer2","stateStringify","stringify","setItem","basename","components_GridContext","components_Header","render","views_Home","views_GroupEffectif","views_IndicateurUn","views_IndicateurDeux","views_IndicateurTrois","views_IndicateurQuatre","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.45fec1f4.chunk.js","sourcesContent":["export type AppState = {\n  data: Array<Groupe>;\n  effectif: {\n    formValidated: FormState;\n  };\n  indicateurUn: {\n    formValidated: FormState;\n  };\n  indicateurDeux: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n  };\n  indicateurTrois: {\n    formValidated: FormState;\n    presencePromotion: boolean;\n  };\n  indicateurQuatre: {\n    formValidated: FormState;\n    presenceAugmentation: boolean;\n    nombreSalariees: number | undefined;\n    nombreSalarieesPeriodeAugmentation: number | undefined;\n    nombreSalarieesAugmentees: number | undefined;\n  };\n};\n\nexport type FormState = \"None\" | \"Valid\" | \"Invalid\";\n\nexport type ActionType =\n  | {\n      type: \"updateEffectif\";\n      data: ActionEffectifData;\n    }\n  | {\n      type: \"validateEffectif\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurUn\";\n      data: ActionIndicateurUnData;\n    }\n  | {\n      type: \"validateIndicateurUn\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurDeux\";\n      data: ActionIndicateurDeuxData;\n    }\n  | {\n      type: \"validateIndicateurDeux\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurTrois\";\n      data: ActionIndicateurTroisData;\n    }\n  | {\n      type: \"validateIndicateurTrois\";\n      valid: FormState;\n    }\n  | {\n      type: \"updateIndicateurQuatre\";\n      data: ActionIndicateurQuatreData;\n    }\n  | {\n      type: \"validateIndicateurQuatre\";\n      valid: FormState;\n    };\n\nexport type ActionEffectifData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    nombreSalariesFemmes: number | undefined;\n    nombreSalariesHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurUnData = Array<{\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<{\n    trancheAge: TranchesAges;\n    remunerationAnnuelleBrutFemmes: number | undefined;\n    remunerationAnnuelleBrutHommes: number | undefined;\n  }>;\n}>;\n\nexport type ActionIndicateurDeuxData = {\n  presenceAugmentation: boolean;\n  tauxAugmentation: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxAugmentationFemmes: number | undefined;\n    tauxAugmentationHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurTroisData = {\n  presencePromotion: boolean;\n  tauxPromotion: Array<{\n    categorieSocioPro: CategorieSocioPro;\n    tauxPromotionFemmes: number | undefined;\n    tauxPromotionHommes: number | undefined;\n  }>;\n};\n\nexport type ActionIndicateurQuatreData = {\n  presenceAugmentation: boolean;\n  nombreSalariees: number | undefined;\n  nombreSalarieesPeriodeAugmentation: number | undefined;\n  nombreSalarieesAugmentees: number | undefined;\n};\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres\n}\n\nexport interface GroupTranchesAges {\n  trancheAge: TranchesAges;\n  nombreSalariesFemmes: number | undefined;\n  nombreSalariesHommes: number | undefined;\n  remunerationAnnuelleBrutFemmes: number | undefined;\n  remunerationAnnuelleBrutHommes: number | undefined;\n}\n\nexport interface Groupe {\n  categorieSocioPro: CategorieSocioPro;\n  tranchesAges: Array<GroupTranchesAges>;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n}\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    men: \"#90C5C7\",\n    women: \"#8A92D9\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\"\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024\n  }\n};\n\nexport default globalStyles;\n","import {\n  AppState,\n  Groupe,\n  GroupTranchesAges,\n  ActionType,\n  ActionEffectifData,\n  ActionIndicateurUnData\n} from \"./globals.d\";\n\nfunction AppReducer(state: AppState, action: ActionType): AppState {\n  switch (action.type) {\n    case \"updateEffectif\": {\n      return {\n        ...state,\n        data: updateEffectif(state.data, action.data)\n      };\n    }\n    case \"validateEffectif\": {\n      if (action.valid === \"None\") {\n        return {\n          ...state,\n          effectif: { ...state.effectif, formValidated: action.valid },\n          indicateurUn:\n            state.indicateurUn.formValidated === \"Valid\"\n              ? { ...state.indicateurUn, formValidated: \"Invalid\" }\n              : state.indicateurUn,\n          indicateurDeux:\n            state.indicateurDeux.formValidated === \"Valid\"\n              ? { ...state.indicateurDeux, formValidated: \"Invalid\" }\n              : state.indicateurDeux,\n          indicateurTrois:\n            state.indicateurTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurTrois, formValidated: \"Invalid\" }\n              : state.indicateurTrois\n        };\n      }\n      return {\n        ...state,\n        effectif: { ...state.effectif, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurUn\": {\n      return {\n        ...state,\n        data: updateIndicateurUn(state.data, action.data)\n      };\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurDeux\": {\n      const { tauxAugmentation, presenceAugmentation } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxAugmentation.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurDeux: { ...state.indicateurDeux, presenceAugmentation }\n      };\n    }\n    case \"validateIndicateurDeux\": {\n      return {\n        ...state,\n        indicateurDeux: { ...state.indicateurDeux, formValidated: action.valid }\n      };\n    }\n    case \"updateIndicateurTrois\": {\n      const { tauxPromotion, presencePromotion } = action.data;\n\n      const data = state.data.map((group: Groupe) => {\n        const datum = tauxPromotion.find(\n          ({ categorieSocioPro }) =>\n            categorieSocioPro === group.categorieSocioPro\n        );\n        return Object.assign({}, group, datum);\n      });\n      return {\n        ...state,\n        data,\n        indicateurTrois: { ...state.indicateurTrois, presencePromotion }\n      };\n    }\n    case \"validateIndicateurTrois\": {\n      return {\n        ...state,\n        indicateurTrois: {\n          ...state.indicateurTrois,\n          formValidated: action.valid\n        }\n      };\n    }\n    case \"updateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          ...action.data\n        }\n      };\n    }\n    case \"validateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          formValidated: action.valid\n        }\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction updateEffectif(\n  stateData: AppState[\"data\"],\n  actionData: ActionEffectifData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nfunction updateIndicateurUn(\n  stateData: AppState[\"data\"],\n  actionData: ActionIndicateurUnData\n) {\n  return stateData.map((group: Groupe) => {\n    const datumCat = actionData.find(\n      ({ categorieSocioPro }) => categorieSocioPro === group.categorieSocioPro\n    );\n    return {\n      ...group,\n      tranchesAges: group.tranchesAges.map(\n        (groupTranchesAges: GroupTranchesAges) => {\n          const datumAge =\n            datumCat &&\n            datumCat.tranchesAges.find(\n              ({ trancheAge }) => trancheAge === groupTranchesAges.trancheAge\n            );\n          return Object.assign({}, groupTranchesAges, datumAge);\n        }\n      )\n    };\n  });\n}\n\nexport default AppReducer;\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useContext,\n  ReactNode\n} from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\nconst { grid } = globalStyles;\n\nconst gutterCount = grid.columns + 1;\nconst totalGuttersWidth = gutterCount * grid.gutterWidth;\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num));\n}\n\nfunction getColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth);\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth;\n  const columnWidth = availableWidthWithoutGutters / 12;\n  return Math.floor(columnWidth);\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: getColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth\n});\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(\n    getColumnWidth(window.innerWidth)\n  );\n\n  const handleResize = useCallback(\n    (event: any) =>\n      setColumnWidth(getColumnWidth(event.currentTarget.innerWidth)),\n    [setColumnWidth]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth\n    }),\n    [columnWidth]\n  );\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>;\n}\n\nexport default GridProvider;\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext);\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext();\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1);\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\nfunction Header() {\n  const width = useColumnsWidth(2);\n\n  return (\n    <header css={styles.header}>\n      <div css={[styles.headerLeft, css({ width })]} />\n      <div css={styles.headerInner}>\n        <p css={styles.title}>Egapro</p>\n        <p css={styles.subtitle}>\n          L'outil de simulation en ligne de vos indicateurs\n        </p>\n      </div>\n    </header>\n  );\n}\n\nconst styles = {\n  header: css({\n    backgroundColor: \"#FFF\",\n    height: 80,\n    flexShrink: 0,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderBottom: \"1px solid #EFECEF\"\n  }),\n  headerLeft: css({\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  headerInner: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    alignItems: \"baseline\"\n  }),\n  title: css({\n    marginRight: 24,\n    fontSize: 24\n  }),\n  subtitle: css({\n    fontSize: 12\n  })\n};\n\nexport default Header;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Route, Link } from \"react-router-dom\";\n\nimport { FormState } from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"./GridContext\";\n\ninterface CustomNavLinkProps {\n  title: string;\n  label?: string;\n  valid: FormState;\n  to: string;\n  activeOnlyWhenExact?: boolean;\n}\n\nfunction CustomNavLink({\n  title,\n  label,\n  valid,\n  to,\n  activeOnlyWhenExact = false\n}: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      children={({ match }) => (\n        <Link to={to} css={[styles.link, match && styles.activeLink]}>\n          <span>\n            {valid === \"Valid\" ? \"✓ \" : valid === \"Invalid\" ? \"✕ \" : \"\"}\n            {title}\n          </span>\n          <br />\n          {label && <span>{label}</span>}\n        </Link>\n      )}\n    />\n  );\n}\n\ninterface Props {\n  effectifFormValidated: FormState;\n  indicateurUnFormValidated: FormState;\n  indicateurDeuxFormValidated: FormState;\n  indicateurTroisFormValidated: FormState;\n  indicateurQuatreFormValidated: FormState;\n}\n\nfunction Menu({\n  effectifFormValidated,\n  indicateurUnFormValidated,\n  indicateurDeuxFormValidated,\n  indicateurTroisFormValidated,\n  indicateurQuatreFormValidated\n}: Props) {\n  const width = useColumnsWidth(2);\n\n  return (\n    <div css={[styles.menu, css({ width })]}>\n      <CustomNavLink\n        to=\"/effectifs\"\n        title=\"effectif\"\n        valid={effectifFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur1\"\n        title=\"indicateur 1\"\n        label=\"écart de rémunération\"\n        valid={indicateurUnFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur2\"\n        title=\"indicateur 2\"\n        label=\"écart d’augmentation\"\n        valid={indicateurDeuxFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur3\"\n        title=\"indicateur 3\"\n        label=\"écart de promotions\"\n        valid={indicateurTroisFormValidated}\n      />\n      <CustomNavLink\n        to=\"/indicateur4\"\n        title=\"indicateur 4\"\n        label=\"congé maternité\"\n        valid={indicateurQuatreFormValidated}\n      />\n    </div>\n  );\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    marginRight: globalStyles.grid.gutterWidth\n  }),\n  link: css({\n    paddingTop: 7,\n    paddingBottom: 7,\n    color: globalStyles.colors.default,\n    fontSize: 12,\n    lineHeight: \"15px\",\n    textDecoration: \"none\",\n    \":hover\": {\n      color: globalStyles.colors.women\n    }\n  }),\n  activeLink: css({\n    color: globalStyles.colors.women\n  })\n};\n\nexport default Menu;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction Button({ label, outline = false, error = false }: Props) {\n  return (\n    <div\n      css={[\n        styles.button,\n        outline && styles.buttonOutline,\n        error && styles.buttonError\n      ]}\n    >\n      {label}\n    </div>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 36,\n    minWidth: 110,\n    padding: \"0 10px\",\n    backgroundColor: globalStyles.colors.women,\n    color: \"#FFF\",\n    border: `solid ${globalStyles.colors.women} 1px`,\n    borderRadius: 5,\n    cursor: \"pointer\"\n  }),\n  buttonOutline: css({\n    color: globalStyles.colors.women,\n    backgroundColor: \"#FFF\"\n  }),\n  buttonError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n    backgroundColor: \"#FFF\"\n  })\n};\n\nexport default Button;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  to: string;\n}\n\nfunction ButtonLink({ label, to }: Props) {\n  return (\n    <Link to={to} css={styles.button}>\n      <Button label={label} />\n    </Link>\n  );\n}\n\nconst styles = {\n  button: css({\n    display: \"inline-flex\",\n    textDecoration: \"none\"\n  })\n};\n\nexport default ButtonLink;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport ButtonLink from \"../components/ButtonLink\";\n\nfunction Home(props: RouteComponentProps) {\n  return (\n    <div>\n      <div css={styles.bloc}>\n        <p css={styles.blocTitle}>Bienvenue sur Egapro</p>\n\n        <p css={styles.message}>\n          5 indicateurs pour résorber les inégalités entre les femmes et les\n          hommes en entreprise.\n        </p>\n\n        <div css={styles.action}>\n          <ButtonLink to=\"/effectifs\" label=\"commencer la simulation\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxWidth: 1024,\n    padding: \"12px 0\",\n    margin: \"24px auto\"\n  }),\n  blocTitle: css({\n    fontSize: 32\n  }),\n  message: css({\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginTop: 18\n  })\n};\n\nexport default Home;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  style?: any;\n  children?: ReactNode;\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>;\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>;\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>;\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2\n  })\n};\n\nexport { Cell, Cell2, CellHead };\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { Fragment, ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\n\ninterface Props {\n  title?: string;\n  label?: string;\n  footer?: string | [string, string];\n  children: ReactNode;\n  style?: any;\n}\n\nfunction BlocForm({ title, label, footer, children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellMen}>hommes</Cell>\n          <Cell style={styles.cellWomen}>femmes</Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <div css={styles.rowFootTotal}>total</div>\n            {typeof footer === \"string\" ? (\n              <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            ) : (\n              <Fragment>\n                <Cell style={styles.rowFootCell}>{footer[0]}</Cell>\n                <Cell style={styles.rowFootCell}>{footer[1]}</Cell>\n              </Fragment>\n            )}\n\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport function BlocFormLight({\n  children,\n  superLight = false\n}: {\n  children: ReactNode;\n  superLight?: boolean;\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div\n        css={[\n          styles.blocForm,\n          styles.blocFormLight,\n          superLight && styles.blocFormSuperLight\n        ]}\n      >\n        <div css={styles.blocFormInner}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nconst PADDING = 20;\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8\n  }),\n  blocFormLight: css({\n    borderRight: \"none\"\n  }),\n  blocFormSuperLight: css({\n    borderBottom: \"none\"\n  }),\n\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\"\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 11,\n    textAlign: \"center\"\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12\n  }),\n  cellMen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    fontSize: 12,\n    textAlign: \"center\",\n    color: globalStyles.colors.women\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  rowFootTotal: css({\n    fontSize: 14,\n    marginLeft: 8\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flex: 1\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0\n  })\n};\n\nexport default BlocForm;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { FieldRenderProps } from \"react-final-form-hooks\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { Cell } from \"./Cell\";\n\nexport const hasFieldError = (meta: FieldRenderProps[\"meta\"]) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && meta.error.mustBeNumber);\n\ninterface Props {\n  field: FieldRenderProps;\n  style?: any;\n}\n\nfunction CellInput({\n  field: {\n    input: { value, ...inputProps },\n    meta\n  },\n  style\n}: Props) {\n  const error = hasFieldError(meta);\n  return (\n    <Cell style={styles.cell}>\n      <input\n        css={[styles.input, style, error && styles.inputError]}\n        autoComplete=\"off\"\n        value={error && !meta.active ? \"erreur\" : value}\n        {...inputProps}\n      />\n    </Cell>\n  );\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\"\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\"\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error\n  })\n};\n\nexport default CellInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport React from \"react\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  name: string;\n  calculable: boolean;\n  femmeFieldName: string;\n  hommeFieldName: string;\n}\n\nfunction FieldInputsMenWomen({\n  form,\n  name,\n  readOnly,\n  calculable,\n  femmeFieldName,\n  hommeFieldName\n}: Props) {\n  const femmesField = useField(\n    femmeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n  const hommesField = useField(\n    hommeFieldName,\n    form,\n    calculable ? validate : undefined\n  );\n\n  const femmesError = hasFieldError(femmesField.meta);\n  const hommesError = hasFieldError(hommesField.meta);\n  const error = femmesError || hommesError;\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[\n            styles.cellHead,\n            !calculable && styles.cellHeadInvalid,\n            error && calculable && styles.cellHeadError\n          ]}\n        >\n          {femmesField.meta.valid && hommesField.meta.valid\n            ? calculable\n              ? \"✓ \"\n              : \"✕ \"\n            : error\n            ? \"✕ \"\n            : null}\n          {name}\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {hommesField.input.value}\n            </Cell>\n\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {femmesField.input.value}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={hommesField} style={styles.cellMen} />\n\n            <CellInput field={femmesField} style={styles.cellWomen} />\n          </React.Fragment>\n        ) : (\n          <Cell2 css={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de 10 femmes ou 10 hommes\n        </div>\n      )}\n      {error && calculable && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\"\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cell2: css({\n    textAlign: \"center\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInputsMenWomen;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport Button from \"./Button\";\n\ninterface Props {\n  label: string;\n  outline?: boolean;\n  error?: boolean;\n}\n\nfunction ButtonSubmit({ label, outline = false, error = false }: Props) {\n  return (\n    <button type=\"submit\" css={styles.button}>\n      <Button label={label} outline={outline} error={error} />\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\"\n  })\n};\n\nexport default ButtonSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  onClick: () => void;\n}\n\nfunction ActionLink({ children, onClick }: Props) {\n  return (\n    <button css={styles.button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nconst styles = {\n  button: css({\n    all: \"unset\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\"\n  })\n};\n\nexport default ActionLink;\n","import { TranchesAges, CategorieSocioPro } from \"../globals.d\";\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\";\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\";\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\";\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayNameCategorieSocioPro(\n  categorieSocioPro: CategorieSocioPro\n): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\";\n    case CategorieSocioPro.Employes:\n      return \"employés\";\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\";\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport function displayPercent(num: number, digits: number = 2): string {\n  return (num * 100).toFixed(digits) + \"%\";\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal);\n  return Math.round(num * mult) / mult;\n};\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5);\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  AppState,\n  FormState,\n  CategorieSocioPro,\n  TranchesAges,\n  GroupTranchesAges,\n  ActionEffectifData\n} from \"../globals.d\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ButtonSubmit from \"../components/ButtonSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  updateEffectif: (data: ActionEffectifData) => void;\n  validateEffectif: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"nombreSalaries\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction GroupEffectif({ state, updateEffectif, validateEffectif }: Props) {\n  const infoFields = state.data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            nbSalarieFemmeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            nbSalarieFemmeValue: parseStateValue(nombreSalariesFemmes),\n            nbSalarieHommeName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            nbSalarieHommeValue: parseStateValue(nombreSalariesHommes)\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          nbSalarieFemmeName,\n          nbSalarieFemmeValue,\n          nbSalarieHommeName,\n          nbSalarieHommeValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [nbSalarieFemmeName]: nbSalarieFemmeValue,\n          [nbSalarieHommeName]: nbSalarieHommeValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionEffectifData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => ({\n            trancheAge,\n            nombreSalariesFemmes: parseFormValue(formData[nbSalarieFemmeName]),\n            nombreSalariesHommes: parseFormValue(formData[nbSalarieHommeName])\n          })\n        )\n      })\n    );\n    updateEffectif(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateEffectif(\"Valid\");\n  };\n\n  const {\n    form,\n    handleSubmit,\n    values,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  const width = useColumnsWidth(4);\n\n  return (\n    <div css={styles.page}>\n      <p css={styles.blocTitle}>Indication des effectifs</p>\n      <p css={styles.blocSubtitle}>\n        Renseignez le nombre d’effectifs par catégorie socio-professionnelle\n        (CSP) et par tranche d’âge.\n      </p>\n\n      <form onSubmit={handleSubmit} css={[styles.bloc, css({ width })]}>\n        {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n          const totalNbSalarie = tranchesAges.reduce(\n            (acc, { nbSalarieFemmeName, nbSalarieHommeName }) => {\n              return (\n                acc +\n                parseFormValue(values[nbSalarieFemmeName], 0) +\n                parseFormValue(values[nbSalarieHommeName], 0)\n              );\n            },\n            0\n          );\n          return (\n            <BlocForm\n              key={categorieSocioPro}\n              title={displayNameCategorieSocioPro(categorieSocioPro)}\n              label=\"nombre de salariés\"\n              footer={String(totalNbSalarie)}\n            >\n              {tranchesAges.map(\n                ({ trancheAge, nbSalarieFemmeName, nbSalarieHommeName }) => {\n                  return (\n                    <FieldInputsMenWomen\n                      key={trancheAge}\n                      readOnly={state.effectif.formValidated === \"Valid\"}\n                      form={form}\n                      name={displayNameTranchesAges(trancheAge)}\n                      calculable={true}\n                      femmeFieldName={nbSalarieFemmeName}\n                      hommeFieldName={nbSalarieHommeName}\n                    />\n                  );\n                }\n              )}\n            </BlocForm>\n          );\n        })}\n\n        {state.effectif.formValidated === \"Valid\" ? (\n          <div css={styles.action}>\n            <ButtonLink to=\"/indicateur1\" label=\"suivant\" />\n            <ActionLink onClick={() => validateEffectif(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </div>\n        ) : (\n          <div css={styles.action}>\n            <div\n              css={css({ flexDirection: \"column\", alignItems: \"flex-start\" })}\n            >\n              <ButtonSubmit\n                label=\"valider\"\n                outline={hasValidationErrors}\n                error={submitFailed && hasValidationErrors}\n              />\n              {submitFailed && hasValidationErrors && (\n                <p css={styles.actionError}>\n                  vous ne pouvez pas valider les effectifs\n                  <br />\n                  tant que vous n’avez pas rempli tous les champs\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n\n      {state.effectif.formValidated === \"Valid\" &&\n        state.indicateurUn.formValidated === \"Invalid\" && (\n          <div css={styles.indicatorInvalid}>\n            <p css={styles.indicatorInvalidTitle}>\n              Vos effectifs ont été modifiés\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              afin de s'assurer de la cohérence de votre index, merci de\n              vérifier les données de vos indicateurs.\n            </p>\n            <p css={styles.indicatorInvalidText}>\n              <Link to=\"/indicateur1\" css={styles.indicatorInvalidLink}>\n                aller à l'indicateur 1\n              </Link>\n            </p>\n          </div>\n        )}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  bloc: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  blocTitle: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  blocSubtitle: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  }),\n  action: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 46,\n    marginBottom: 36\n  }),\n  actionError: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  }),\n\n  indicatorInvalid: css({\n    padding: 16,\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  indicatorInvalidTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  indicatorInvalidText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  indicatorInvalidLink: css({\n    color: globalStyles.colors.default,\n    textDecoration: \"underline\"\n  })\n};\n\nexport default memo(\n  GroupEffectif,\n  (prevProps, nextProps) =>\n    prevProps.state.effectif.formValidated ===\n    nextProps.state.effectif.formValidated\n);\n","import { GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100;\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nconst calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0);\n\n// EP\nconst calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal(\n        (ecartPourcentage * effectifsValides) / totalEffectifsValides,\n        3\n      )\n    : undefined;\n\nexport const calculEcartsPonderesParGroupe = (\n  findEcartPourcentage: (groupEffectifEtEcartAugment: {\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }) => number | undefined\n) => (\n  groupEffectifEtEcart: Array<{\n    validiteGroupe: boolean;\n    effectifsValides: number;\n    ecartApresApplicationSeuilPertinence?: number | undefined;\n    ecartTauxAugmentation?: number | undefined;\n    ecartTauxPromotion?: number | undefined;\n  }>,\n  totalEffectifsValides: number\n) =>\n  groupEffectifEtEcart\n    .filter(({ validiteGroupe }) => validiteGroupe)\n    .map(effectifEtEcart => {\n      const { validiteGroupe, effectifsValides } = effectifEtEcart;\n      const ecartPourcentage = findEcartPourcentage(effectifEtEcart);\n      // EP\n      const ecartPondere = calculEcartPondere(\n        validiteGroupe,\n        ecartPourcentage,\n        effectifsValides,\n        totalEffectifsValides\n      );\n\n      return ecartPondere;\n    });\n\n// TEP\nexport const calculTotalEcartPondere = (\n  tableauEcartsPonderes: Array<number | undefined>\n): number | undefined =>\n  tableauEcartsPonderes.length === 0 ||\n  tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter(ecartPondere => ecartPondere !== undefined)\n          .reduce(\n            (acc, val) => (acc || 0) + (val !== undefined ? val : 0),\n            undefined\n          ) || 0,\n        3\n      );\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number;\n  nombreSalariesHommes: number;\n  validiteGroupe: boolean;\n  effectifsValides: number;\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAges,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0;\n  nombreSalariesHommes = nombreSalariesHommes || 0;\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmes,\n    nombreSalariesHommes\n  );\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAges>,\n  calculValiditeGroupe: (\n    nombreSalariesFemmes: number,\n    nombreSalariesHommes: number\n  ) => boolean\n): effectifGroup => {\n  const {\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  } = tranchesAges.reduce(\n    (\n      { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => ({\n      nombreSalariesFemmesGroupe:\n        nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe:\n        nombreSalariesHommesGroupe + (nombreSalariesHommes || 0)\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 }\n  );\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe\n  );\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides\n  };\n};\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes\n  } = groupEffectif.reduce(\n    (\n      { totalNombreSalariesFemmes, totalNombreSalariesHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes }\n    ) => {\n      return {\n        totalNombreSalariesFemmes:\n          totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes:\n          totalNombreSalariesHommes + nombreSalariesHommes\n      };\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0 //TNBH\n    }\n  );\n\n  // TNB\n  const totalNombreSalaries =\n    totalNombreSalariesFemmes + totalNombreSalariesHommes;\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce(\n    (acc, { effectifsValides }) => acc + effectifsValides,\n    0\n  );\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  };\n};\n\n// IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number\n): boolean =>\n  totalNombreSalaries > 0 &&\n  totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide;\n","import { TranchesAges, Groupe, GroupTranchesAges } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinence = 5 / 100;\n\nconst baremeEcartRemuneration = [\n  40,\n  39,\n  38,\n  37,\n  36,\n  35,\n  34,\n  33,\n  31,\n  29,\n  27,\n  25,\n  23,\n  21,\n  19,\n  17,\n  14,\n  11,\n  8,\n  5,\n  2,\n  0\n];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3;\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) /\n          remunerationAnnuelleBrutHommes,\n        3\n      )\n    : undefined;\n\n// ESP\nexport const calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) *\n          Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        3\n      )\n    : undefined;\n\ninterface effectifEtEcartRemuGroup extends effectifGroup {\n  trancheAge: TranchesAges;\n  remunerationAnnuelleBrutFemmes: number;\n  remunerationAnnuelleBrutHommes: number;\n  ecartRemunerationMoyenne: number | undefined;\n  ecartApresApplicationSeuilPertinence: number | undefined;\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAge = (\n  state: Array<Groupe>\n): Array<effectifEtEcartRemuGroup> => {\n  const dataByRow = state.reduce(\n    (acc: Array<GroupTranchesAges>, group) => acc.concat(group.tranchesAges),\n    []\n  );\n\n  const computedDataByRow = dataByRow.map(\n    (groupTrancheAge: GroupTranchesAges) => {\n      const remunerationAnnuelleBrutFemmes =\n        groupTrancheAge.remunerationAnnuelleBrutFemmes || 0;\n      const remunerationAnnuelleBrutHommes =\n        groupTrancheAge.remunerationAnnuelleBrutHommes || 0;\n\n      const effectifs = rowEffectifsParTrancheAge(\n        groupTrancheAge,\n        calculValiditeGroupe\n      );\n\n      // ERM\n      const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes\n      );\n      // ESP\n      const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinence(\n        ecartRemunerationMoyenne\n      );\n\n      return {\n        ...effectifs,\n        trancheAge: groupTrancheAge.trancheAge,\n        remunerationAnnuelleBrutFemmes,\n        remunerationAnnuelleBrutHommes,\n        ecartRemunerationMoyenne,\n        ecartApresApplicationSeuilPertinence\n      };\n    }\n  );\n\n  return computedDataByRow;\n};\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) =>\n    ecartApresApplicationSeuilPertinence\n);\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartRemuneration: number | undefined\n): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartRemuneration))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  title: string;\n  tagline: string;\n  children: ReactNode;\n}\n\nfunction Page({ title, tagline, children }: Props) {\n  return (\n    <div css={styles.page}>\n      <p css={styles.title}>{title}</p>\n      <p css={styles.tagline}>{tagline}</p>\n      {children}\n    </div>\n  );\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginRight: globalStyles.grid.gutterWidth,\n    marginBottom: globalStyles.grid.gutterWidth\n  }),\n  title: css({\n    marginTop: 36,\n    fontSize: 32\n  }),\n  tagline: css({\n    marginTop: 12,\n    marginBottom: 54,\n    fontSize: 14\n  })\n};\n\nexport default Page;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { useColumnsWidth } from \"../components/GridContext\";\n\ninterface Props {\n  childrenForm: ReactNode;\n  childrenResult: ReactNode;\n}\n\nfunction LayoutFormAndResult({ childrenForm, childrenResult }: Props) {\n  const width = useColumnsWidth(4);\n  return (\n    <div css={styles.body}>\n      <div css={css({ width })}>{childrenForm}</div>\n      <div css={styles.result}>{childrenResult}</div>\n    </div>\n  );\n}\n\nconst styles = {\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  }),\n  result: css({\n    flex: 1,\n    marginLeft: globalStyles.grid.gutterWidth,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default LayoutFormAndResult;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\ninterface Props {\n  title: string;\n  text?: string;\n}\n\nfunction InfoBloc({ title, text }: Props) {\n  return (\n    <div css={styles.bloc}>\n      <p css={styles.blocTitle}>{title}</p>\n      {text && <p css={styles.blocText}>{text}</p>}\n    </div>\n  );\n}\n\nconst styles = {\n  bloc: css({\n    padding: 16,\n    backgroundColor: \"#FFF\",\n    border: \"1px solid #EFECEF\"\n  }),\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\"\n  }),\n  blocText: css({\n    marginTop: 4,\n    fontSize: 14,\n    lineHeight: \"17px\"\n  })\n};\n\nexport default InfoBloc;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction ActionBar({ children }: Props) {\n  return <div css={styles.actionBar}>{children}</div>;\n}\n\nconst styles = {\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 46,\n    marginBottom: 36\n  })\n};\n\nexport default ActionBar;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport ButtonSubmit from \"../components/ButtonSubmit\";\n\ninterface Props {\n  submitFailed: boolean;\n  hasValidationErrors: boolean;\n  errorMessage: string;\n}\n\nfunction FormSubmit({\n  submitFailed,\n  hasValidationErrors,\n  errorMessage\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ButtonSubmit\n        label=\"valider\"\n        outline={hasValidationErrors}\n        error={submitFailed && hasValidationErrors}\n      />\n      {submitFailed && hasValidationErrors && (\n        <p css={styles.error}>{errorMessage}</p>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\"\n  }),\n  error: css({\n    marginTop: 4,\n    color: globalStyles.colors.error,\n    fontSize: 12\n  })\n};\n\nexport default FormSubmit;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  CategorieSocioPro,\n  TranchesAges,\n  Groupe,\n  GroupTranchesAges,\n  ActionIndicateurUnData,\n  FormState\n} from \"../globals.d\";\n\nimport { calculValiditeGroupe } from \"../utils/calculsEgaProIndicateurUn\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  displayNameCategorieSocioPro,\n  displayNameTranchesAges\n} from \"../utils/helpers\";\n\ninterface Props {\n  data: Array<Groupe>;\n  readOnly: boolean;\n  updateIndicateurUn: (data: ActionIndicateurUnData) => void;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  trancheAge: TranchesAges,\n  genre: \"Hommes\" | \"Femmes\"\n): string =>\n  \"remunerationAnnuelleBrut\" + categorieSocioPro + genre + trancheAge;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurUnForm({\n  data,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const infoFields = data.map(({ categorieSocioPro, tranchesAges }) => {\n    return {\n      categorieSocioPro,\n      tranchesAges: tranchesAges.map(\n        ({\n          trancheAge,\n          nombreSalariesFemmes,\n          nombreSalariesHommes,\n          remunerationAnnuelleBrutFemmes,\n          remunerationAnnuelleBrutHommes\n        }: GroupTranchesAges) => {\n          return {\n            trancheAge,\n            calculable: calculValiditeGroupe(\n              nombreSalariesFemmes || 0,\n              nombreSalariesHommes || 0\n            ),\n            remunerationAnnuelleBrutFemmesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Femmes\"\n            ),\n            remunerationAnnuelleBrutFemmesValue: parseStateValue(\n              remunerationAnnuelleBrutFemmes\n            ),\n            remunerationAnnuelleBrutHommesName: getFieldName(\n              categorieSocioPro,\n              trancheAge,\n              \"Hommes\"\n            ),\n            remunerationAnnuelleBrutHommesValue: parseStateValue(\n              remunerationAnnuelleBrutHommes\n            )\n          };\n        }\n      )\n    };\n  });\n\n  const initialValues = infoFields.reduce((acc1, { tranchesAges }) => {\n    return tranchesAges.reduce(\n      (\n        acc2,\n        {\n          remunerationAnnuelleBrutFemmesName,\n          remunerationAnnuelleBrutFemmesValue,\n          remunerationAnnuelleBrutHommesName,\n          remunerationAnnuelleBrutHommesValue\n        }\n      ) => {\n        return {\n          ...acc2,\n          [remunerationAnnuelleBrutFemmesName]: remunerationAnnuelleBrutFemmesValue,\n          [remunerationAnnuelleBrutHommesName]: remunerationAnnuelleBrutHommesValue\n        };\n      },\n      acc1\n    );\n  }, {});\n\n  const saveForm = (formData: any) => {\n    const data: ActionIndicateurUnData = infoFields.map(\n      ({ categorieSocioPro, tranchesAges }) => ({\n        categorieSocioPro,\n        tranchesAges: tranchesAges.map(\n          ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmesName,\n            remunerationAnnuelleBrutHommesName\n          }) => ({\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseFormValue(\n              formData[remunerationAnnuelleBrutFemmesName]\n            ),\n            remunerationAnnuelleBrutHommes: parseFormValue(\n              formData[remunerationAnnuelleBrutHommesName]\n            )\n          })\n        )\n      })\n    );\n    updateIndicateurUn(data);\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurUn(\"Valid\");\n  };\n\n  const { form, handleSubmit, hasValidationErrors, submitFailed } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      {infoFields.map(({ categorieSocioPro, tranchesAges }) => {\n        return (\n          <BlocForm\n            key={categorieSocioPro}\n            title={displayNameCategorieSocioPro(categorieSocioPro)}\n            label=\"rémunération moyenne\"\n          >\n            {tranchesAges.map(\n              ({\n                trancheAge,\n                calculable,\n                remunerationAnnuelleBrutFemmesName,\n                remunerationAnnuelleBrutHommesName\n              }) => {\n                return (\n                  <FieldInputsMenWomen\n                    key={trancheAge}\n                    form={form}\n                    name={displayNameTranchesAges(trancheAge)}\n                    readOnly={readOnly}\n                    calculable={calculable}\n                    femmeFieldName={remunerationAnnuelleBrutFemmesName}\n                    hommeFieldName={remunerationAnnuelleBrutHommesName}\n                  />\n                );\n              }\n            )}\n          </BlocForm>\n        );\n      })}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurUnForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\ninterface Props {\n  firstLineLabel: string;\n  firstLineData: string;\n  firstLineInfo?: string;\n  secondLineLabel: string;\n  secondLineData: string;\n  secondLineInfo?: string;\n}\n\nfunction ResultBubble({\n  firstLineLabel,\n  firstLineData,\n  firstLineInfo,\n  secondLineLabel,\n  secondLineData,\n  secondLineInfo\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.bloc}>\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{firstLineLabel} </span>\n            <span css={styles.messageData}>{firstLineData}</span>\n          </p>\n          {firstLineInfo && <p css={styles.info}>{firstLineInfo}</p>}\n        </div>\n\n        <div css={styles.blocInfo}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>{secondLineLabel} </span>\n            <span css={styles.messageData}>{secondLineData}</span>\n          </p>\n          {secondLineInfo && <p css={styles.info}>{secondLineInfo}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    marginTop: 64,\n    width: \"100%\",\n    position: \"relative\",\n    height: 0,\n    paddingTop: \"100%\"\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\"\n  }),\n  blocInfo: css({\n    borderBottom: \"1px solid #FFFFFF\"\n  }),\n  message: css({\n    marginBottom: 2,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\"\n  }),\n  messageLabel: css({\n    marginRight: \"auto\"\n  }),\n  messageData: css({\n    fontWeight: \"bold\"\n  }),\n  info: css({\n    marginTop: 7,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\"\n  })\n};\n\nexport default ResultBubble;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined;\n  noteIndicateurUn: number | undefined;\n  validateIndicateurUn: (valid: FormState) => void;\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  noteIndicateurUn,\n  validateIndicateurUn\n}: Props) {\n  const absoluteResult =\n    indicateurEcartRemuneration !== undefined\n      ? Math.abs(indicateurEcartRemuneration)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartRemuneration !== undefined\n      ? Math.sign(indicateurEcartRemuneration) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${genderFavoriteResult}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurUn(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurUnResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurUnData\n} from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartRemuParTrancheAge,\n  calculTotalEffectifs,\n  calculEcartsPonderesParTrancheAge,\n  calculTotalEcartPondere,\n  calculEffectifsIndicateurCalculable,\n  calculIndicateurEcartRemuneration,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurUn\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport IndicateurUnForm from \"./IndicateurUnForm\";\nimport IndicateurUnResult from \"./IndicateurUnResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurUn({ state, dispatch }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnData) =>\n      dispatch({ type: \"updateIndicateurUn\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartRemuParTranche = calculEffectifsEtEcartRemuParTrancheAge(\n    state.data\n  );\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(\n    effectifEtEcartRemuParTranche\n  );\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(\n    effectifEtEcartRemuParTranche,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    effectifsIndicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemuneration);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurUn>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur2\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurUn>\n    );\n  }\n\n  return (\n    <PageIndicateurUn>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurUnForm\n            data={state.data}\n            readOnly={state.indicateurUn.formValidated === \"Valid\"}\n            updateIndicateurUn={updateIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n        }\n        childrenResult={\n          state.indicateurUn.formValidated === \"Valid\" && (\n            <IndicateurUnResult\n              indicateurEcartRemuneration={indicateurEcartRemuneration}\n              noteIndicateurUn={noteIndicateurUn}\n              validateIndicateurUn={validateIndicateurUn}\n            />\n          )\n        }\n      />\n    </PageIndicateurUn>\n  );\n}\n\nfunction PageIndicateurUn({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 1, écart de rémunération\"\n      tagline=\"Renseignez la rémunération (annuelle / mensuelle) moyenne des femmes et\n        des hommes par CSP et par tranche d’âge.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurUn;\n","import { CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport { roundDecimal } from \"./helpers\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable\n} from \"./calculsEgaPro\";\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number\n): boolean => nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10;\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number,\n  tauxAugmentationHommes: number\n): number | undefined =>\n  tauxAugmentationFemmes >= 0 && tauxAugmentationHommes >= 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 3)\n    : undefined;\n\nexport interface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxAugmentationFemmes: number | undefined;\n  tauxAugmentationHommes: number | undefined;\n  ecartTauxAugmentation: number | undefined;\n}\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartAugmentGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes || 0,\n        tauxAugmentationHommes || 0\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxAugmentationFemmes,\n    sommeProduitTauxAugmentationHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      {\n        sommeProduitTauxAugmentationFemmes,\n        sommeProduitTauxAugmentationHommes\n      },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes +\n          (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes +\n          (tauxAugmentationHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0\n    }\n  );\n\n  // TTAF\n  const totalTauxAugmentationFemmes =\n    sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes;\n\n  // TTAH\n  const totalTauxAugmentationHommes =\n    sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation\n);\n\n// IC\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number\n): boolean =>\n  presenceAugmentation &&\n  calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  ) &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0);\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined\n    ? roundDecimal(100 * totalEcartPondere, 3)\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? baremEcartAugmentation[\n        Math.min(\n          baremEcartAugmentation.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartAugmentation))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField, FieldRenderProps } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nfunction RadioField({\n  field: { input },\n  label,\n  value,\n  disabled\n}: {\n  field: FieldRenderProps;\n  label: string;\n  value: string;\n  disabled: boolean;\n}) {\n  const checked = input.value === value;\n  return (\n    <label css={styles.label}>\n      <input\n        css={styles.radio}\n        {...input}\n        type=\"radio\"\n        value={value}\n        checked={checked}\n        disabled={disabled}\n      />\n      <div css={[styles.fakeRadio, checked && styles.fakeRadioChecked]} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  );\n}\n\ninterface Props {\n  form: FormApi;\n  readOnly: boolean;\n  fieldName: string;\n  labelTrue: string;\n  labelFalse: string;\n}\n\nfunction RadiosBoolean({\n  form,\n  readOnly,\n  fieldName,\n  labelTrue,\n  labelFalse\n}: Props) {\n  const field = useField(fieldName, form);\n  return (\n    <div css={styles.container}>\n      <RadioField\n        field={field}\n        label={labelTrue}\n        value=\"true\"\n        disabled={readOnly}\n      />\n      <div\n        css={[\n          styles.radioFieldFalse,\n          readOnly && styles.radioFieldFalseDisabled\n        ]}\n      >\n        <RadioField\n          field={field}\n          label={labelFalse}\n          value=\"false\"\n          disabled={readOnly}\n        />\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n  label: css({\n    display: \"flex\",\n    fontSize: 14,\n    cursor: \"pointer\"\n  }),\n  labelText: css({\n    lineHeight: \"16px\"\n  }),\n  radio: css({\n    display: \"none\"\n  }),\n  fakeRadio: css({\n    width: 16,\n    height: 16,\n    flexShrink: 0,\n    marginRight: 6,\n    borderRadius: 8,\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.default} 1px`\n  }),\n  fakeRadioChecked: css({\n    backgroundImage: `radial-gradient(${globalStyles.colors.default} 0%, ${\n      globalStyles.colors.default\n    } 3px, #FFF 3px)`\n  }),\n  radioFieldFalse: css({\n    marginTop: 9\n  }),\n  radioFieldFalseDisabled: css({\n    opacity: 0\n  })\n};\n\nexport default RadiosBoolean;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartTauxAugmentation,\n  effectifEtEcartAugmentGroup\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartAugmentParCategorieSocioPro: Array<effectifEtEcartAugmentGroup>;\n  presenceAugmentation: boolean;\n  readOnly: boolean;\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxAugmentation\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  presenceAugmentation,\n  readOnly,\n  updateIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const infoFields = ecartAugmentParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxAugmentationFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxAugmentationFemmesValue: parseStateValue(tauxAugmentationFemmes),\n        tauxAugmentationHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxAugmentationHommesValue: parseStateValue(tauxAugmentationHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxAugmentationFemmesName,\n        tauxAugmentationFemmesValue,\n        tauxAugmentationHommesName,\n        tauxAugmentationHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxAugmentationFemmesName]: tauxAugmentationFemmesValue,\n        [tauxAugmentationHommesName]: tauxAugmentationHommesValue\n      };\n    },\n    { presenceAugmentation: String(presenceAugmentation) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presenceAugmentation } = formData;\n    const tauxAugmentation = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxAugmentationFemmesName,\n        tauxAugmentationHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes: parseFormValue(\n          formData[tauxAugmentationFemmesName]\n        ),\n        tauxAugmentationHommes: parseFormValue(\n          formData[tauxAugmentationHommesName]\n        )\n      })\n    );\n    updateIndicateurDeux({\n      tauxAugmentation,\n      presenceAugmentation: presenceAugmentation === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurDeux(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartAugmentParCategorieSocioProPourTotal = ecartAugmentParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxAugmentationFemmes = parseFormValue(\n        values[infoField.tauxAugmentationFemmesName]\n      );\n      const tauxAugmentationHommes = parseFormValue(\n        values[infoField.tauxAugmentationHommesName]\n      );\n      const ecartTauxAugmentation = calculEcartTauxAugmentation(\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes\n      );\n      return {\n        ...groupAugment,\n        tauxAugmentationFemmes,\n        tauxAugmentationHommes,\n        ecartTauxAugmentation\n      };\n    }\n  );\n  const {\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(\n    ecartAugmentParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocForm\n          label=\"% de salariés augmentés\"\n          footer={[\n            displayPercent(totalTauxAugmentationHommes),\n            displayPercent(totalTauxAugmentationFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxAugmentationFemmesName,\n              tauxAugmentationHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  femmeFieldName={tauxAugmentationFemmesName}\n                  hommeFieldName={tauxAugmentationHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur\n                tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurDeuxForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined;\n  noteIndicateurDeux: number | undefined;\n  validateIndicateurDeux: (valid: FormState) => void;\n}\n\nfunction IndicateurDeuxResult({\n  indicateurEcartAugmentation,\n  noteIndicateurDeux,\n  validateIndicateurDeux\n}: Props) {\n  const absoluteResult =\n    indicateurEcartAugmentation !== undefined\n      ? Math.abs(indicateurEcartAugmentation)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartAugmentation !== undefined\n      ? Math.sign(indicateurEcartAugmentation) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${genderFavoriteResult}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurDeuxResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurDeuxData\n} from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartAugmentParCategorieSocioPro,\n  calculTotalEffectifsEtTauxAugmentation,\n  calculEcartsPonderesParCategorieSocioPro,\n  calculTotalEcartPondere,\n  calculEffectifsIndicateurCalculable,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\";\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurDeux({ state, dispatch }: Props) {\n  const updateIndicateurDeux = useCallback(\n    (data: ActionIndicateurDeuxData) =>\n      dispatch({ type: \"updateIndicateurDeux\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurDeux = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeux\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  } = calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurDeux.presenceAugmentation,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes\n  );\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurDeux = calculNote(indicateurEcartAugmentation);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 10 femmes et 10 hommes), représentent moins de 40% des\n              effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurDeux.formValidated === \"Valid\" && !indicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu d’augmentation individuelle durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    );\n  }\n\n  return (\n    <PageIndicateurDeux>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurDeuxForm\n            ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n            presenceAugmentation={state.indicateurDeux.presenceAugmentation}\n            readOnly={state.indicateurDeux.formValidated === \"Valid\"}\n            updateIndicateurDeux={updateIndicateurDeux}\n            validateIndicateurDeux={validateIndicateurDeux}\n          />\n        }\n        childrenResult={\n          state.indicateurDeux.formValidated === \"Valid\" && (\n            <IndicateurDeuxResult\n              indicateurEcartAugmentation={indicateurEcartAugmentation}\n              noteIndicateurDeux={noteIndicateurDeux}\n              validateIndicateurDeux={validateIndicateurDeux}\n            />\n          )\n        }\n      />\n    </PageIndicateurDeux>\n  );\n}\n\nfunction PageIndicateurDeux({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 2, écart de taux d’augmentation individuelle “hors promotion”\"\n      tagline=\"Renseignez le pourcentage d’hommes et des femmes ayant été augmentés durant la période de référence, par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurDeux;\n","import { CategorieSocioPro, Groupe } from \"../globals.d\";\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  calculEffectifsIndicateurCalculable,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup\n} from \"./calculsEgaPro\";\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation\n} from \"../utils/calculsEgaProIndicateurDeux\";\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0];\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n  calculIndicateurCalculable // IC\n};\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation;\n\nexport interface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro;\n  tauxPromotionFemmes: number | undefined;\n  tauxPromotionHommes: number | undefined;\n  ecartTauxPromotion: number | undefined;\n}\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  state: Array<Groupe>\n): Array<effectifEtEcartPromoGroup> => {\n  return state.map(\n    ({\n      categorieSocioPro,\n      tranchesAges,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }: Groupe) => {\n      const effectifs = rowEffectifsParCategorieSocioPro(\n        tranchesAges,\n        calculValiditeGroupe\n      );\n\n      // ETA\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes || 0,\n        tauxPromotionHommes || 0\n      );\n\n      return {\n        ...effectifs,\n        categorieSocioPro,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n};\n\nexport const calculTotalEffectifsEtTauxPromotion = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>\n) => {\n  const {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides\n  } = calculTotalEffectifs(groupEffectifEtEcartAugment);\n\n  const {\n    sommeProduitTauxPromotionFemmes,\n    sommeProduitTauxPromotionHommes\n  } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      {\n        nombreSalariesFemmes,\n        nombreSalariesHommes,\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      }\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes +\n          (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes +\n          (tauxPromotionHommes || 0) * nombreSalariesHommes\n      };\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0\n    }\n  );\n\n  // TTPF\n  const totalTauxPromotionFemmes =\n    sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes;\n\n  // TTPH\n  const totalTauxPromotionHommes =\n    sommeProduitTauxPromotionHommes / totalNombreSalariesHommes;\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  };\n};\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion\n);\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined\n): number | undefined =>\n  indicateurEcartPromotion !== undefined\n    ? baremEcartPromotion[\n        Math.min(\n          baremEcartPromotion.length - 1,\n          Math.ceil(Math.max(0, indicateurEcartPromotion))\n        )\n      ]\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport {\n  FormState,\n  CategorieSocioPro,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport {\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartTauxPromotion,\n  effectifEtEcartPromoGroup\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport BlocForm from \"../components/BlocForm\";\nimport FieldInputsMenWomen from \"../components/FieldInputsMenWomen\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\nimport {\n  fractionToPercentage,\n  percentageToFraction,\n  displayNameCategorieSocioPro,\n  displayPercent\n} from \"../utils/helpers\";\n\ninterface Props {\n  ecartPromoParCategorieSocioPro: Array<effectifEtEcartPromoGroup>;\n  presencePromotion: boolean;\n  readOnly: boolean;\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nconst getFieldName = (\n  categorieSocioPro: CategorieSocioPro,\n  genre: \"Hommes\" | \"Femmes\"\n): string => \"tauxPromotion\" + categorieSocioPro + genre;\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : percentageToFraction(parseFloat(value));\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value));\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  presencePromotion,\n  readOnly,\n  updateIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const infoFields = ecartPromoParCategorieSocioPro.map(\n    ({\n      categorieSocioPro,\n      validiteGroupe,\n      tauxPromotionFemmes,\n      tauxPromotionHommes\n    }) => {\n      return {\n        categorieSocioPro,\n        validiteGroupe,\n        tauxPromotionFemmesName: getFieldName(categorieSocioPro, \"Femmes\"),\n        tauxPromotionFemmesValue: parseStateValue(tauxPromotionFemmes),\n        tauxPromotionHommesName: getFieldName(categorieSocioPro, \"Hommes\"),\n        tauxPromotionHommesValue: parseStateValue(tauxPromotionHommes)\n      };\n    }\n  );\n\n  const initialValues = infoFields.reduce(\n    (\n      acc,\n      {\n        tauxPromotionFemmesName,\n        tauxPromotionFemmesValue,\n        tauxPromotionHommesName,\n        tauxPromotionHommesValue\n      }\n    ) => {\n      return {\n        ...acc,\n        [tauxPromotionFemmesName]: tauxPromotionFemmesValue,\n        [tauxPromotionHommesName]: tauxPromotionHommesValue\n      };\n    },\n    { presencePromotion: String(presencePromotion) }\n  );\n\n  const saveForm = (formData: any) => {\n    const { presencePromotion } = formData;\n    const tauxPromotion = infoFields.map(\n      ({\n        categorieSocioPro,\n        tauxPromotionFemmesName,\n        tauxPromotionHommesName\n      }) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes: parseFormValue(formData[tauxPromotionFemmesName]),\n        tauxPromotionHommes: parseFormValue(formData[tauxPromotionHommesName])\n      })\n    );\n    updateIndicateurTrois({\n      tauxPromotion,\n      presencePromotion: presencePromotion === \"true\"\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurTrois(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  // Only for Total with updated values\n  const ecartPromoParCategorieSocioProPourTotal = ecartPromoParCategorieSocioPro.map(\n    (groupAugment, index) => {\n      const infoField = infoFields[index];\n      const tauxPromotionFemmes = parseFormValue(\n        values[infoField.tauxPromotionFemmesName]\n      );\n      const tauxPromotionHommes = parseFormValue(\n        values[infoField.tauxPromotionHommesName]\n      );\n      const ecartTauxPromotion = calculEcartTauxPromotion(\n        tauxPromotionFemmes,\n        tauxPromotionHommes\n      );\n      return {\n        ...groupAugment,\n        tauxPromotionFemmes,\n        tauxPromotionHommes,\n        ecartTauxPromotion\n      };\n    }\n  );\n  const {\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(\n    ecartPromoParCategorieSocioProPourTotal\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presencePromotion\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des promotions durant la période de référence\"\n        labelFalse=\"il n’y a pas eu de promotions durant la période de référence\"\n      />\n\n      {values.presencePromotion === \"true\" && (\n        <BlocForm\n          label=\"% de salariés promus\"\n          footer={[\n            displayPercent(totalTauxPromotionHommes),\n            displayPercent(totalTauxPromotionFemmes)\n          ]}\n        >\n          {infoFields.map(\n            ({\n              categorieSocioPro,\n              validiteGroupe,\n              tauxPromotionFemmesName,\n              tauxPromotionHommesName\n            }) => {\n              return (\n                <FieldInputsMenWomen\n                  key={categorieSocioPro}\n                  form={form}\n                  name={displayNameCategorieSocioPro(categorieSocioPro)}\n                  readOnly={readOnly}\n                  calculable={validiteGroupe}\n                  femmeFieldName={tauxPromotionFemmesName}\n                  hommeFieldName={tauxPromotionHommesName}\n                />\n              );\n            }\n          )}\n        </BlocForm>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurTroisForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartPromotion: number | undefined;\n  noteIndicateurTrois: number | undefined;\n  validateIndicateurTrois: (valid: FormState) => void;\n}\n\nfunction IndicateurTroisResult({\n  indicateurEcartPromotion,\n  noteIndicateurTrois,\n  validateIndicateurTrois\n}: Props) {\n  const absoluteResult =\n    indicateurEcartPromotion !== undefined\n      ? Math.abs(indicateurEcartPromotion)\n      : undefined;\n  const genderFavoriteResult =\n    indicateurEcartPromotion !== undefined\n      ? Math.sign(indicateurEcartPromotion) < 0\n        ? \"femmes\"\n        : \"hommes\"\n      : undefined;\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        firstLineInfo={`écart favorable aux ${genderFavoriteResult}`}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") +\n          \"/15\"\n        }\n        secondLineInfo=\"mesures de correction prises en compte\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurTroisResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurTroisData\n} from \"../globals.d\";\n\nimport {\n  calculEffectifsEtEcartPromoParCategorieSocioPro,\n  calculTotalEffectifsEtTauxPromotion,\n  calculEcartsPonderesParCategorieSocioPro,\n  calculTotalEcartPondere,\n  calculEffectifsIndicateurCalculable,\n  calculIndicateurCalculable,\n  calculIndicateurEcartPromotion,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurTrois\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurTroisForm from \"./IndicateurTroisForm\";\nimport IndicateurTroisResult from \"./IndicateurTroisResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurTrois({ state, dispatch }: Props) {\n  const updateIndicateurTrois = useCallback(\n    (data: ActionIndicateurTroisData) =>\n      dispatch({ type: \"updateIndicateurTrois\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurTrois\", valid }),\n    [dispatch]\n  );\n\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.data\n  );\n\n  const {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  } = calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe);\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides\n  );\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow);\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalaries,\n    totalEffectifsValides\n  );\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurTrois.presencePromotion,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes\n  );\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(\n    indicateurCalculable,\n    totalEcartPondere\n  );\n\n  // NOTE\n  const noteIndicateurTrois = calculNote(indicateurEcartPromotion);\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc title=\"vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\" />\n          <ActionBar>\n            <ButtonLink to=\"/effectifs\" label=\"renseigner les effectifs\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car l’ensemble des groupes valables (c’est-à-dire comptant au\n                moins 10 femmes et 10 hommes), représentent moins de 40% des\n                effectifs.\"\n          />\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurTrois.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    );\n  }\n\n  return (\n    <PageIndicateurTrois>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurTroisForm\n            ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n            presencePromotion={state.indicateurTrois.presencePromotion}\n            readOnly={state.indicateurTrois.formValidated === \"Valid\"}\n            updateIndicateurTrois={updateIndicateurTrois}\n            validateIndicateurTrois={validateIndicateurTrois}\n          />\n        }\n        childrenResult={\n          state.indicateurTrois.formValidated === \"Valid\" && (\n            <IndicateurTroisResult\n              indicateurEcartPromotion={indicateurEcartPromotion}\n              noteIndicateurTrois={noteIndicateurTrois}\n              validateIndicateurTrois={validateIndicateurTrois}\n            />\n          )\n        }\n      />\n    </PageIndicateurTrois>\n  );\n}\n\nfunction PageIndicateurTrois({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 3, écart de taux de promotions\"\n      tagline=\"Renseignez le pourcentage de femmes et d’hommes ayant été promus durant la période de référence par CSP.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurTrois;\n","import { roundDecimal } from \"./helpers\";\n\n//////////////////\n// INDICATEUR 4 //\n//////////////////\n\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  nombreSalariees: number | undefined,\n  nombreSalarieesPeriodeAugmentation: number | undefined\n) => {\n  return (\n    presenceAugmentation &&\n    nombreSalariees !== undefined &&\n    nombreSalariees > 0 &&\n    nombreSalarieesPeriodeAugmentation !== undefined &&\n    nombreSalarieesPeriodeAugmentation > 0\n  );\n};\n\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined,\n  nombreSalarieesAugmentees: number | undefined\n): number | undefined =>\n  indicateurCalculable &&\n  nombreSalarieesPeriodeAugmentation !== undefined &&\n  nombreSalarieesAugmentees !== undefined &&\n  nombreSalarieesPeriodeAugmentation >= nombreSalarieesAugmentees\n    ? roundDecimal(\n        100 * (nombreSalarieesAugmentees / nombreSalarieesPeriodeAugmentation),\n        3\n      )\n    : undefined;\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined\n): number | undefined =>\n  indicateurEcartAugmentation !== undefined\n    ? indicateurEcartAugmentation < 100\n      ? 0\n      : 15\n    : undefined;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useField } from \"react-final-form-hooks\";\nimport { FormApi } from \"final-form\";\n\nimport globalStyles from \"../utils/globalStyles\";\n\nimport { CellHead, Cell } from \"./Cell\";\nimport CellInput, { hasFieldError } from \"./CellInput\";\n\nconst required = (value: string): boolean => (value ? false : true);\n\nconst mustBeNumber = (value: string): boolean =>\n  Number.isNaN(Number(value)) ? true : false;\n\nconst validate = (value: string) => {\n  const requiredError = required(value);\n  const mustBeNumberError = mustBeNumber(value);\n  if (!requiredError && !mustBeNumberError) {\n    return undefined;\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError };\n  }\n};\n\ninterface Props {\n  form: FormApi;\n  fieldName: string;\n  label: string;\n  readOnly: boolean;\n}\n\nfunction FieldInput({ form, fieldName, label, readOnly }: Props) {\n  const field = useField(fieldName, form, validate);\n  const error = hasFieldError(field.meta);\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={[styles.cellHead, error && styles.cellHeadError]}>\n          {field.meta.valid ? \"✓ \" : error ? \"✕ \" : null}\n          {label}\n        </CellHead>\n\n        {readOnly ? (\n          <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n            {field.input.value}\n          </Cell>\n        ) : (\n          <CellInput field={field} style={styles.cellWomen} />\n        )}\n      </div>\n      {error && (\n        <div css={styles.error}>\n          ce champs n’est pas valide, renseignez une valeur numérique\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 58,\n    marginBottom: 10\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  }),\n  cellHead: css({\n    height: 29,\n    paddingBottom: 2,\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\"\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 11,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`\n  })\n};\n\nexport default FieldInput;\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { memo } from \"react\";\nimport { useForm } from \"react-final-form-hooks\";\nimport { AppState, FormState, ActionIndicateurQuatreData } from \"../globals.d\";\n\nimport { BlocFormLight } from \"../components/BlocForm\";\nimport FieldInput from \"../components/FieldInput\";\nimport RadiosBoolean from \"../components/RadiosBoolean\";\nimport ActionBar from \"../components/ActionBar\";\nimport FormSubmit from \"../components/FormSubmit\";\nimport ButtonLink from \"../components/ButtonLink\";\n\ninterface Props {\n  indicateurQuatre: AppState[\"indicateurQuatre\"];\n  readOnly: boolean;\n  updateIndicateurQuatre: (data: ActionIndicateurQuatreData) => void;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nconst parseFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\"\n    ? defaultValue\n    : Number.isNaN(Number(value))\n    ? defaultValue\n    : parseInt(value, 10);\n\nconst parseStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(value);\n\nfunction IndicateurQuatreForm({\n  indicateurQuatre,\n  readOnly,\n  updateIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  const initialValues = {\n    presenceAugmentation: String(indicateurQuatre.presenceAugmentation),\n    nombreSalariees: parseStateValue(indicateurQuatre.nombreSalariees),\n    nombreSalarieesPeriodeAugmentation: parseStateValue(\n      indicateurQuatre.nombreSalarieesPeriodeAugmentation\n    ),\n    nombreSalarieesAugmentees: parseStateValue(\n      indicateurQuatre.nombreSalarieesAugmentees\n    )\n  };\n\n  const saveForm = (formData: any) => {\n    const {\n      presenceAugmentation,\n      nombreSalariees,\n      nombreSalarieesPeriodeAugmentation,\n      nombreSalarieesAugmentees\n    } = formData;\n\n    updateIndicateurQuatre({\n      presenceAugmentation: presenceAugmentation === \"true\",\n      nombreSalariees: parseFormValue(nombreSalariees),\n      nombreSalarieesPeriodeAugmentation: parseFormValue(\n        nombreSalarieesPeriodeAugmentation\n      ),\n      nombreSalarieesAugmentees: parseFormValue(nombreSalarieesAugmentees)\n    });\n  };\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData);\n    validateIndicateurQuatre(\"Valid\");\n  };\n\n  const {\n    form,\n    values,\n    handleSubmit,\n    hasValidationErrors,\n    submitFailed\n  } = useForm({\n    initialValues,\n    onSubmit\n  });\n\n  form.subscribe(\n    ({ values, dirty }) => {\n      if (dirty) {\n        saveForm(values);\n      }\n    },\n    { values: true, dirty: true }\n  );\n\n  return (\n    <form onSubmit={handleSubmit} css={styles.container}>\n      <RadiosBoolean\n        form={form}\n        fieldName=\"presenceAugmentation\"\n        readOnly={readOnly}\n        labelTrue=\"il y a eu des augmentations collective ou individuelle durant la période de référence\"\n        labelFalse=\"il n’y a pas eu d’augmentation collective ou individuelle durant la période de référence\"\n      />\n\n      {values.presenceAugmentation === \"true\" && (\n        <BlocFormLight>\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalariees\"\n            label=\"nombre de salariées de retour de congé maternité\"\n            readOnly={readOnly}\n          />\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalarieesPeriodeAugmentation\"\n            label=\"parmis ces congès maternité, combien ont chevauchée une periode d’augmentation\"\n            readOnly={readOnly}\n          />\n          <FieldInput\n            form={form}\n            fieldName=\"nombreSalarieesAugmentees\"\n            label=\"parmis ces congès maternité ayant chevauchée une periode d’augmentation, combien ont été augmentées ?\"\n            readOnly={readOnly}\n          />\n        </BlocFormLight>\n      )}\n\n      {readOnly ? (\n        <ActionBar>\n          <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n        </ActionBar>\n      ) : (\n        <ActionBar>\n          <FormSubmit\n            hasValidationErrors={hasValidationErrors}\n            submitFailed={submitFailed}\n            errorMessage=\"vous ne pouvez pas valider l’indicateur tant que vous n’avez pas rempli tous les champs\"\n          />\n        </ActionBar>\n      )}\n    </form>\n  );\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\"\n  })\n};\n\nexport default memo(\n  IndicateurQuatreForm,\n  (prevProps, nextProps) => prevProps.readOnly === nextProps.readOnly\n);\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\n\nimport { FormState } from \"../globals.d\";\n\nimport ResultBubble from \"../components/ResultBubble\";\nimport ActionLink from \"../components/ActionLink\";\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined;\n  noteIndicateurQuatre: number | undefined;\n  validateIndicateurQuatre: (valid: FormState) => void;\n}\n\nfunction IndicateurQuatreResult({\n  indicateurEcartAugmentation,\n  noteIndicateurQuatre,\n  validateIndicateurQuatre\n}: Props) {\n  const absoluteResult =\n    indicateurEcartAugmentation !== undefined\n      ? Math.abs(indicateurEcartAugmentation)\n      : undefined;\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          (absoluteResult !== undefined ? absoluteResult.toFixed(1) : \"--\") +\n          \" %\"\n        }\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={\n          (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") +\n          \"/15\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n          modifier les données saisies\n        </ActionLink>\n      </p>\n    </div>\n  );\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250\n  }),\n  edit: css({\n    marginTop: 14,\n    textAlign: \"center\"\n  })\n};\n\nexport default IndicateurQuatreResult;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useCallback, ReactNode } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionIndicateurQuatreData\n} from \"../globals.d\";\n\nimport {\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculNote\n} from \"../utils/calculsEgaProIndicateurQuatre\";\n\nimport Page from \"../components/Page\";\nimport LayoutFormAndResult from \"../components/LayoutFormAndResult\";\nimport InfoBloc from \"../components/InfoBloc\";\nimport ActionBar from \"../components/ActionBar\";\nimport ButtonLink from \"../components/ButtonLink\";\nimport ActionLink from \"../components/ActionLink\";\n\nimport IndicateurQuatreForm from \"./IndicateurQuatreForm\";\nimport IndicateurQuatreResult from \"./IndicateurQuatreResult\";\n\ninterface Props extends RouteComponentProps {\n  state: AppState;\n  dispatch: (action: ActionType) => void;\n}\n\nfunction IndicateurQuatre({ state, dispatch }: Props) {\n  const updateIndicateurQuatre = useCallback(\n    (data: ActionIndicateurQuatreData) =>\n      dispatch({ type: \"updateIndicateurQuatre\", data }),\n    [dispatch]\n  );\n\n  const validateIndicateurQuatre = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurQuatre\", valid }),\n    [dispatch]\n  );\n\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurQuatre.presenceAugmentation,\n    state.indicateurQuatre.nombreSalariees,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation\n  );\n\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(\n    indicateurCalculable,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation,\n    state.indicateurQuatre.nombreSalarieesAugmentees\n  );\n\n  const noteIndicateurQuatre = calculNote(indicateurEcartAugmentation);\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    !indicateurCalculable\n  ) {\n    return (\n      <PageIndicateurQuatre>\n        <div>\n          <InfoBloc\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"car il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>\n              modifier les données saisies\n            </ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonLink to=\"/indicateur5\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurQuatre>\n    );\n  }\n\n  return (\n    <PageIndicateurQuatre>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurQuatreForm\n            indicateurQuatre={state.indicateurQuatre}\n            readOnly={state.indicateurQuatre.formValidated === \"Valid\"}\n            updateIndicateurQuatre={updateIndicateurQuatre}\n            validateIndicateurQuatre={validateIndicateurQuatre}\n          />\n        }\n        childrenResult={\n          state.indicateurQuatre.formValidated === \"Valid\" && (\n            <IndicateurQuatreResult\n              indicateurEcartAugmentation={indicateurEcartAugmentation}\n              noteIndicateurQuatre={noteIndicateurQuatre}\n              validateIndicateurQuatre={validateIndicateurQuatre}\n            />\n          )\n        }\n      />\n    </PageIndicateurQuatre>\n  );\n}\n\nfunction PageIndicateurQuatre({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur 4, pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n      tagline=\"Renseignez le taux de salariées en congès maternité durant la période de référence ayant reçu une augmentation à leur retour.\"\n    >\n      {children}\n    </Page>\n  );\n}\n\nexport default IndicateurQuatre;\n","type EnumType = { [s: number]: string };\n\nexport default function mapEnum(enumerable: EnumType, fn: Function): any[] {\n  // get all the members of the enum\n  let enumMembers: any[] = Object.keys(enumerable).map(\n    (key: any) => enumerable[key]\n  );\n\n  // we are only interested in the numeric identifiers as these represent the values\n  let enumValues: number[] = enumMembers.filter(v => typeof v === \"number\");\n\n  // now map through the enum values\n  return enumValues.map(m => fn(m));\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { useReducer, useEffect, useCallback, ReactNode } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  withRouter,\n  RouteComponentProps\n} from \"react-router-dom\";\n\nimport {\n  AppState,\n  FormState,\n  TranchesAges,\n  CategorieSocioPro,\n  ActionEffectifData\n} from \"./globals.d\";\n\nimport globalStyles from \"./utils/globalStyles\";\nimport mapEnum from \"./utils/mapEnum\";\n\nimport AppReducer from \"./AppReducer\";\n\nimport GridProvider from \"./components/GridContext\";\nimport Header from \"./components/Header\";\nimport Menu from \"./components/Menu\";\n\nimport Home from \"./views/Home\";\nimport GroupEffectif from \"./views/GroupEffectif\";\nimport IndicateurUn from \"./views/IndicateurUn\";\nimport IndicateurDeux from \"./views/IndicateurDeux\";\nimport IndicateurTrois from \"./views/IndicateurTrois\";\nimport IndicateurQuatre from \"./views/IndicateurQuatre\";\n\nconst baseGroupTranchesAgesState = {\n  nombreSalariesFemmes: undefined,\n  nombreSalariesHommes: undefined,\n  remunerationAnnuelleBrutFemmes: undefined,\n  remunerationAnnuelleBrutHommes: undefined\n};\n\nconst baseTranchesAge = mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n  trancheAge,\n  ...baseGroupTranchesAgesState\n}));\n\nconst baseGroupe = {\n  tranchesAges: [...baseTranchesAge],\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined\n};\n\nconst defaultState: AppState = {\n  data: [\n    {\n      categorieSocioPro: CategorieSocioPro.Ouvriers,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Employes,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Techniciens,\n      ...baseGroupe\n    },\n    {\n      categorieSocioPro: CategorieSocioPro.Cadres,\n      ...baseGroupe\n    }\n  ],\n  effectif: {\n    formValidated: \"None\"\n  },\n  indicateurUn: {\n    formValidated: \"None\"\n  },\n  indicateurDeux: {\n    formValidated: \"None\",\n    presenceAugmentation: true\n  },\n  indicateurTrois: {\n    formValidated: \"None\",\n    presencePromotion: true\n  },\n  indicateurQuatre: {\n    formValidated: \"None\",\n    presenceAugmentation: true,\n    nombreSalariees: undefined,\n    nombreSalarieesPeriodeAugmentation: undefined,\n    nombreSalarieesAugmentees: undefined\n  }\n};\n\nconst localStorageEgapro = localStorage.getItem(\"egapro\");\nconst initialState = localStorageEgapro\n  ? JSON.parse(localStorageEgapro)\n  : defaultState;\n\nfunction App() {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    const stateStringify = JSON.stringify(state);\n    localStorage.setItem(\"egapro\", stateStringify);\n  }, [state]);\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch]\n  );\n\n  const validateEffectif = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateEffectif\", valid }),\n    [dispatch]\n  );\n\n  return (\n    <Router basename=\"/egapro\">\n      <GridProvider>\n        <div css={styles.layout}>\n          <div css={styles.leftColumn}>\n            <Header />\n\n            <MainScrollViewWithRouter state={state}>\n              <Switch>\n                <Route path=\"/\" exact render={props => <Home {...props} />} />\n                <Route\n                  path=\"/effectifs\"\n                  render={props => (\n                    <GroupEffectif\n                      {...props}\n                      state={state}\n                      updateEffectif={updateEffectif}\n                      validateEffectif={validateEffectif}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur1\"\n                  render={props => (\n                    <IndicateurUn\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur2\"\n                  render={props => (\n                    <IndicateurDeux\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur3\"\n                  render={props => (\n                    <IndicateurTrois\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/indicateur4\"\n                  render={props => (\n                    <IndicateurQuatre\n                      {...props}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  )}\n                />\n              </Switch>\n            </MainScrollViewWithRouter>\n          </div>\n\n          <div css={styles.rightColumn} />\n        </div>\n      </GridProvider>\n    </Router>\n  );\n}\n\ninterface MainScrollViewProps extends RouteComponentProps {\n  children: ReactNode;\n  state: AppState;\n}\n\nfunction MainScrollView({ children, state, location }: MainScrollViewProps) {\n  // Usefull to reset the scroll while navigating\n  return (\n    <div css={styles.main} key={location.key}>\n      <div css={styles.menu}>\n        <Menu\n          effectifFormValidated={state.effectif.formValidated}\n          indicateurUnFormValidated={state.indicateurUn.formValidated}\n          indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n          indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n          indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n        />\n      </div>\n      <div css={styles.view}>{children}</div>\n    </div>\n  );\n}\nconst MainScrollViewWithRouter = withRouter(MainScrollView);\n\nconst styles = {\n  layout: css({\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  }),\n  leftColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxWidth: globalStyles.grid.maxWidth - 375\n  }),\n  rightColumn: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: 375,\n    flexShrink: 0,\n    backgroundColor: \"#AAAEE1\"\n  }),\n  main: css({\n    overflowY: \"auto\",\n    display: \"flex\",\n    flex: 1,\n    position: \"relative\",\n    background:\n      \"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), rgba(138, 146, 217, 0.14)\"\n  }),\n  menu: css({\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    paddingBottom: 80\n  }),\n  view: css({\n    flex: 1\n  })\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}