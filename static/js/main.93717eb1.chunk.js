(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r,n,o=a(1),i=a.n(o),c=a(19),l=a.n(c),u=(a(29),a(12)),s=a(23),m=a(2),d=a(0),b=a(10),f=a(11);!function(e){e[e.MoinsDe30ans=0]="MoinsDe30ans",e[e.De30a39ans=1]="De30a39ans",e[e.De40a49ans=2]="De40a49ans",e[e.PlusDe50ans=3]="PlusDe50ans"}(r||(r={})),function(e){e[e.Ouvriers=0]="Ouvriers",e[e.Employes=1]="Employes",e[e.Techniciens=2]="Techniciens",e[e.Cadres=3]="Cadres"}(n||(n={}));var v={colors:{default:"#191a49",men:"#90C5C7",women:"#8A92D9",error:"#B7585D",invalid:"#61676F"},grid:{gutterWidth:16,columns:12,maxWidth:1440,minWidth:1024}};function g(e,t){return e.map(function(e){var a=t.find(function(t){return t.categorieSocioPro===e.categorieSocioPro});return Object(m.a)({},e,{tranchesAges:e.tranchesAges.map(function(e){var t=a&&a.tranchesAges.find(function(t){return t.trancheAge===e.trancheAge});return Object.assign({},e,t)})})})}var O=function(e,t){switch(t.type){case"updateEffectif":return Object(m.a)({},e,{data:(n=e.data,o=t.data,n.map(function(e){var t=o.find(function(t){var a=t.categorieSocioPro;return a===e.categorieSocioPro});return Object(m.a)({},e,{tranchesAges:e.tranchesAges.map(function(e){var a=t&&t.tranchesAges.find(function(t){var a=t.trancheAge;return a===e.trancheAge});return Object.assign({},e,a)})})}))});case"validateEffectif":return Object(m.a)({},e,{formEffectifValidated:t.valid,formIndicateurUnValidated:"None"!==e.formIndicateurUnValidated?"Invalid":"None",formIndicateurDeuxValidated:"None"!==e.formIndicateurDeuxValidated?"Invalid":"None",formIndicateurTroisValidated:"None"!==e.formIndicateurTroisValidated?"Invalid":"None"});case"updateIndicateurUn":return Object(m.a)({},e,{data:g(e.data,t.data)});case"validateIndicateurUn":return Object(m.a)({},e,{formIndicateurUnValidated:t.valid});case"updateIndicateurDeux":var a=e.data.map(function(e){var a=t.data.find(function(t){return t.categorieSocioPro===e.categorieSocioPro});return Object.assign({},e,a)});return Object(m.a)({},e,{data:a});case"validateIndicateurDeux":return Object(m.a)({},e,{formIndicateurDeuxValidated:t.valid});case"updateIndicateurTrois":var r=e.data.map(function(e){var a=t.data.find(function(t){return t.categorieSocioPro===e.categorieSocioPro});return Object.assign({},e,a)});return Object(m.a)({},e,{data:r});case"validateIndicateurTrois":return Object(m.a)({},e,{formIndicateurTroisValidated:t.valid});default:return e}var n,o},j=v.grid,p=(j.columns+1)*j.gutterWidth;function h(e){var t,a,r,n=((t=e,a=j.minWidth,r=j.maxWidth,Math.min(r,Math.max(a,t)))-p)/12;return Math.floor(n)}var x=i.a.createContext({columnWidth:h(window.innerWidth),gutterWidth:j.gutterWidth});var S=function(e){var t=e.children,a=Object(o.useState)(h(window.innerWidth)),r=Object(u.a)(a,2),n=r[0],c=r[1],l=Object(o.useCallback)(function(e){return c(h(e.currentTarget.innerWidth))},[c]);Object(o.useEffect)(function(){return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}});var s=Object(o.useMemo)(function(){return{columnWidth:n,gutterWidth:j.gutterWidth}},[n]);return i.a.createElement(x.Provider,{value:s},t)},F=function(e){var t=Object(o.useContext)(x);return t.columnWidth*e+t.gutterWidth*(e-1)};var y={header:Object(d.a)({backgroundColor:"#FFF",height:80,flexShrink:0,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #EFECEF"}),headerLeft:Object(d.a)({marginLeft:v.grid.gutterWidth,marginRight:v.grid.gutterWidth}),headerInner:Object(d.a)({display:"flex",flexDirection:"row",flexGrow:1,alignItems:"baseline"}),title:Object(d.a)({marginRight:24,fontSize:24}),subtitle:Object(d.a)({fontSize:12})},A=function(){var e=F(2);return Object(d.b)("header",{css:y.header},Object(d.b)("div",{css:[y.headerLeft,Object(d.a)({width:e})]}),Object(d.b)("div",{css:y.headerInner},Object(d.b)("p",{css:y.title},"Egapro"),Object(d.b)("p",{css:y.subtitle},"L'outil de simulation en ligne de vos indicateurs")))};function I(e){var t=e.title,a=e.label,r=e.valid,n=e.to,o=e.activeOnlyWhenExact,i=void 0!==o&&o;return Object(d.b)(f.a,{path:n,exact:i,children:function(e){var o=e.match;return Object(d.b)(b.b,{to:n,css:[P.link,o&&P.activeLink]},Object(d.b)("span",null,"Valid"===r?"\u2713 ":"Invalid"===r?"\u2715 ":"",t),Object(d.b)("br",null),a&&Object(d.b)("span",null,a))}})}var P={menu:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:v.grid.gutterWidth,marginRight:v.grid.gutterWidth}),link:Object(d.a)({paddingTop:7,paddingBottom:7,color:v.colors.default,fontSize:12,lineHeight:"15px",textDecoration:"none",":hover":{color:v.colors.women}}),activeLink:Object(d.a)({color:v.colors.women})},H=function(e){var t=e.formEffectifValidated,a=e.formIndicateurUnValidated,r=e.formIndicateurDeuxValidated,n=e.formIndicateurTroisValidated,o=F(2);return Object(d.b)("div",{css:[P.menu,Object(d.a)({width:o})]},Object(d.b)(I,{to:"/effectifs",title:"effectif",valid:t}),Object(d.b)(I,{to:"/indicateur1",title:"indicateur 1",label:"\xe9cart de r\xe9mun\xe9ration",valid:a}),Object(d.b)(I,{to:"/indicateur2",title:"indicateur 2",label:"\xe9cart d\u2019augmentation",valid:r}),Object(d.b)(I,{to:"/indicateur3",title:"indicateur 3",label:"\xe9cart de promotions",valid:n}))};var N={button:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"center",height:36,minWidth:110,padding:"0 10px",backgroundColor:v.colors.women,color:"#FFF",border:"solid ".concat(v.colors.women," 1px"),borderRadius:5,cursor:"pointer"}),buttonOutline:Object(d.a)({color:v.colors.women,backgroundColor:"#FFF"}),buttonError:Object(d.a)({color:v.colors.error,borderColor:v.colors.error,backgroundColor:"#FFF"})},V=function(e){var t=e.label,a=e.outline,r=void 0!==a&&a,n=e.error,o=void 0!==n&&n;return Object(d.b)("div",{css:[N.button,r&&N.buttonOutline,o&&N.buttonError]},t)};var T={button:Object(d.a)({display:"inline-flex",textDecoration:"none"})},w=function(e){var t=e.label,a=e.to;return Object(d.b)(b.b,{to:a,css:T.button},Object(d.b)(V,{label:t}))};var E={bloc:Object(d.a)({display:"flex",flexDirection:"column",maxWidth:1024,padding:"12px 0",margin:"24px auto"}),blocTitle:Object(d.a)({fontSize:32}),message:Object(d.a)({fontSize:14}),action:Object(d.a)({display:"flex",flexDirection:"row",marginTop:18})},D=function(e){return Object(d.b)("div",null,Object(d.b)("div",{css:E.bloc},Object(d.b)("p",{css:E.blocTitle},"Bienvenue sur Egapro"),Object(d.b)("p",{css:E.message},"5 indicateurs pour r\xe9sorber les in\xe9galit\xe9s entre les femmes et les hommes en entreprise."),Object(d.b)("div",{css:E.action},Object(d.b)(w,{to:"/effectifs",label:"commencer la simulation"}))))},C=a(4),B=a(5);function k(e){var t=e.style,a=e.children;return Object(d.b)("div",{css:[M.cell,t]},a)}function L(e){var t=e.style,a=e.children;return Object(d.b)("div",{css:[M.cell2,t]},a)}function z(e){var t=e.style,a=e.children;return Object(d.b)("div",{css:[M.cellHead,t]},a)}var M={cell:Object(d.a)({width:62,flexShrink:0,marginLeft:8}),cell2:Object(d.a)({width:132,flexShrink:0,marginLeft:8}),cellHead:Object(d.a)({flexGrow:1,marginRight:2})};var W={container:Object(d.a)({position:"relative",marginTop:64,marginBottom:34}),background:Object(d.a)({backgroundColor:"#FFF",position:"absolute",top:-50,bottom:-20,left:-38,right:-38,borderRadius:"100%",border:"1px solid #EFECEF"}),blocForm:Object(d.a)({position:"relative",borderLeft:"solid ".concat(v.colors.default," 1px"),borderRight:"solid ".concat(v.colors.default," 1px"),borderBottom:"solid ".concat(v.colors.default," 1px"),paddingTop:8,paddingBottom:8}),blocFormWithFooter:Object(d.a)({borderBottom:"none",paddingBottom:16}),blocFormInner:Object(d.a)({paddingRight:20,paddingLeft:20}),rowHead:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-end",position:"absolute",left:0,right:0,bottom:"100%",marginBottom:-9,minHeight:16,paddingLeft:20}),rowHeadCellHead:Object(d.a)({fontSize:14,textTransform:"uppercase"}),rowHeadCell:Object(d.a)({height:16,fontSize:11,textAlign:"center"}),rowHeadBorder:Object(d.a)({height:1,backgroundColor:v.colors.default,flexShrink:0,width:20,marginBottom:8}),rowGender:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-end",paddingRight:20,paddingLeft:20,marginTop:12,marginBottom:12}),cellMen:Object(d.a)({fontSize:12,textAlign:"center",color:v.colors.men}),cellWomen:Object(d.a)({fontSize:12,textAlign:"center",color:v.colors.women}),rowFoot:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"center",height:16,position:"absolute",bottom:-7,right:0,left:0}),rowFootCell:Object(d.a)({fontSize:14,textAlign:"center"}),rowFootTotal:Object(d.a)({fontSize:14,marginLeft:8}),rowFootBorderLeft:Object(d.a)({height:1,marginRight:2,backgroundColor:v.colors.default,flex:1}),rowFootBorderRight:Object(d.a)({height:1,backgroundColor:v.colors.default,width:20,flexShrink:0})},R=function(e){var t=e.title,a=e.label,r=e.footer,n=e.children;return e.style,Object(d.b)("div",{css:W.container},Object(d.b)("div",{css:W.background}),Object(d.b)("div",{css:[W.blocForm,r&&W.blocFormWithFooter]},Object(d.b)("div",{css:W.rowHead},Object(d.b)(z,{style:W.rowHeadCellHead},t),Object(d.b)(L,{style:W.rowHeadCell},a),Object(d.b)("div",{css:W.rowHeadBorder})),Object(d.b)("div",{css:W.rowGender},Object(d.b)(z,null),Object(d.b)(k,{style:W.cellMen},"hommes"),Object(d.b)(k,{style:W.cellWomen},"femmes")),Object(d.b)("div",{css:W.blocFormInner},n),r&&Object(d.b)("div",{css:W.rowFoot},Object(d.b)("div",{css:W.rowFootBorderLeft}),Object(d.b)("div",{css:W.rowFootTotal},"total"),"string"===typeof r?Object(d.b)(L,{style:W.rowFootCell},r):Object(d.b)(o.Fragment,null,Object(d.b)(k,{style:W.rowFootCell},r[0]),Object(d.b)(k,{style:W.rowFootCell},r[1])),Object(d.b)("div",{css:W.rowFootBorderRight}))))},G=a(22),U=function(e){return e.error&&e.submitFailed||e.error&&e.touched&&e.error.mustBeNumber};var q={cell:Object(d.a)({height:22,display:"flex"}),input:Object(d.a)({appearance:"none",border:"solid ".concat(v.colors.default," 1px"),width:"100%",fontSize:14,textAlign:"center"}),inputError:Object(d.a)({color:v.colors.error,borderColor:v.colors.error})},J=function(e){var t=e.field,a=t.input,r=a.value,n=Object(G.a)(a,["value"]),o=t.meta,i=e.style,c=U(o);return Object(d.b)(k,{style:q.cell},Object(d.b)("input",Object.assign({css:[q.input,i,c&&q.inputError],autoComplete:"off",value:c&&!o.active?"erreur":r},n)))},Y=function(e){var t=function(e){return!e}(e),a=function(e){return!!Number.isNaN(Number(e))}(e);return t||a?{required:t,mustBeNumber:a}:void 0};var $={container:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"stretch",height:51,marginBottom:10}),row:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-start"}),cellHead:Object(d.a)({height:22,display:"flex",alignItems:"center",borderBottom:"solid ".concat(v.colors.default," 1px"),fontSize:14}),cellHeadInvalid:Object(d.a)({color:v.colors.invalid,borderColor:"transparent"}),cellHeadError:Object(d.a)({color:v.colors.error,borderColor:"transparent"}),cell2:Object(d.a)({textAlign:"center"}),cellMen:Object(d.a)({borderColor:v.colors.men}),cellWomen:Object(d.a)({borderColor:v.colors.women}),cellEmpty:Object(d.a)({height:22,display:"flex",alignItems:"center",justifyContent:"center"}),cellEmptyMen:Object(d.a)({color:v.colors.men}),cellEmptyWomen:Object(d.a)({color:v.colors.women}),invalid:Object(d.a)({display:"flex",alignItems:"center",height:23,paddingBottom:4,color:v.colors.invalid,fontSize:11,fontStyle:"italic",lineHeight:"12px",borderBottom:"solid ".concat(v.colors.invalid," 1px")}),error:Object(d.a)({display:"flex",alignItems:"center",height:18,marginTop:5,color:v.colors.error,fontSize:11,fontStyle:"italic",lineHeight:"12px",borderBottom:"solid ".concat(v.colors.error," 1px")})},K=function(e){var t=e.form,a=e.name,r=e.readOnly,n=e.calculable,o=e.femmeFieldName,c=e.hommeFieldName,l=Object(B.a)(o,t,n?Y:void 0),u=Object(B.a)(c,t,n?Y:void 0),s=U(l.meta),m=U(u.meta),b=s||m;return Object(d.b)("div",{css:$.container},Object(d.b)("div",{css:$.row},Object(d.b)(z,{style:[$.cellHead,!n&&$.cellHeadInvalid,b&&n&&$.cellHeadError]},l.meta.valid&&u.meta.valid?n?"\u2713 ":"\u2715 ":b?"\u2715 ":null,a),r?Object(d.b)(i.a.Fragment,null,Object(d.b)(k,{style:[$.cellEmpty,$.cellEmptyMen]},u.input.value),Object(d.b)(k,{style:[$.cellEmpty,$.cellEmptyWomen]},l.input.value)):n?Object(d.b)(i.a.Fragment,null,Object(d.b)(J,{field:u,style:$.cellMen}),Object(d.b)(J,{field:l,style:$.cellWomen})):Object(d.b)(L,{css:$.cell2})),!n&&Object(d.b)("div",{css:$.invalid},"Le groupe ne peut pas \xeatre pris en compte pour le calcul",Object(d.b)("br",null),"car il comporte moins de 10 femmes ou 10 hommes"),b&&n&&Object(d.b)("div",{css:$.error},"ce champs n\u2019est pas valide, renseignez une valeur num\xe9rique"))};var Q={button:Object(d.a)({all:"unset"})},X=function(e){var t=e.label,a=e.outline,r=void 0!==a&&a,n=e.error,o=void 0!==n&&n;return Object(d.b)("button",{type:"submit",css:Q.button},Object(d.b)(V,{label:t,outline:r,error:o}))};var Z={button:Object(d.a)({all:"unset",cursor:"pointer",fontSize:14,textAlign:"center",textDecoration:"underline"})},_=function(e){var t=e.children,a=e.onClick;return Object(d.b)("button",{css:Z.button,onClick:a},t)};function ee(e){switch(e){case r.MoinsDe30ans:return"moins de 30 ans";case r.De30a39ans:return"30 \xe0 39 ans";case r.De40a49ans:return"40 \xe0 49 ans";case r.PlusDe50ans:return"50 ans et plus";default:return"ERROR"}}function te(e){switch(e){case n.Ouvriers:return"ouvriers";case n.Employes:return"employ\xe9s";case n.Techniciens:return"techniciens et agents de ma\xeetrise";case n.Cadres:return"ing\xe9nieurs et cadres";default:return"ERROR"}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(100*e).toFixed(t)+"%"}var re=function(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a},ne=function(e){return re(100*e,5)},oe=function(e){return re(e/100,5)},ie=function(e,t,a){return"nombreSalaries"+e+a+t},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:parseInt(e,10)},le=function(e){return void 0===e?"":String(e)};var ue={page:Object(d.a)({display:"flex",flexDirection:"column",marginRight:v.grid.gutterWidth,marginBottom:v.grid.gutterWidth}),bloc:Object(d.a)({display:"flex",flexDirection:"column"}),blocTitle:Object(d.a)({marginTop:36,fontSize:32}),blocSubtitle:Object(d.a)({marginTop:12,marginBottom:54,fontSize:14}),action:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:46,marginBottom:36}),actionError:Object(d.a)({marginTop:4,color:v.colors.error,fontSize:12}),indicatorInvalid:Object(d.a)({padding:16,border:"solid ".concat(v.colors.default," 1px")}),indicatorInvalidTitle:Object(d.a)({fontSize:18,lineHeight:"22px",textTransform:"uppercase"}),indicatorInvalidText:Object(d.a)({marginTop:4,fontSize:14,lineHeight:"17px"}),indicatorInvalidLink:Object(d.a)({color:v.colors.default,textDecoration:"underline"})},se=Object(o.memo)(function(e){var t=e.state,a=e.updateEffectif,r=e.validateEffectif,n=t.data.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges;return{categorieSocioPro:t,tranchesAges:a.map(function(e){var a=e.trancheAge,r=e.nombreSalariesFemmes,n=e.nombreSalariesHommes;return{trancheAge:a,nbSalarieFemmeName:ie(t,a,"Femmes"),nbSalarieFemmeValue:le(r),nbSalarieHommeName:ie(t,a,"Hommes"),nbSalarieHommeValue:le(n)}})}}),o=n.reduce(function(e,t){return t.tranchesAges.reduce(function(e,t){var a,r=t.nbSalarieFemmeName,n=t.nbSalarieFemmeValue,o=t.nbSalarieHommeName,i=t.nbSalarieHommeValue;return Object(m.a)({},e,(a={},Object(C.a)(a,r,n),Object(C.a)(a,o,i),a))},e)},{}),i=function(e){var t=n.map(function(t){return{categorieSocioPro:t.categorieSocioPro,tranchesAges:t.tranchesAges.map(function(t){var a=t.trancheAge,r=t.nbSalarieFemmeName,n=t.nbSalarieHommeName;return{trancheAge:a,nombreSalariesFemmes:ce(e[r]),nombreSalariesHommes:ce(e[n])}})}});a(t)},c=Object(B.b)({initialValues:o,onSubmit:function(e){i(e),r("Valid")}}),l=c.form,u=c.handleSubmit,s=c.values,f=c.hasValidationErrors,v=c.submitFailed;l.subscribe(function(e){var t=e.values;e.dirty&&i(t)},{values:!0,dirty:!0});var g=F(4);return Object(d.b)("div",{css:ue.page},Object(d.b)("p",{css:ue.blocTitle},"Indication des effectifs"),Object(d.b)("p",{css:ue.blocSubtitle},"Renseignez le nombre d\u2019effectifs par cat\xe9gorie socio-professionnelle (CSP) et par tranche d\u2019\xe2ge."),Object(d.b)("form",{onSubmit:u,css:[ue.bloc,Object(d.a)({width:g})]},n.map(function(e){var a=e.categorieSocioPro,r=e.tranchesAges,n=r.reduce(function(e,t){var a=t.nbSalarieFemmeName,r=t.nbSalarieHommeName;return e+ce(s[a],0)+ce(s[r],0)},0);return Object(d.b)(R,{key:a,title:te(a),label:"nombre de salari\xe9s",footer:String(n)},r.map(function(e){var a=e.trancheAge,r=e.nbSalarieFemmeName,n=e.nbSalarieHommeName;return Object(d.b)(K,{key:a,readOnly:"Valid"===t.formEffectifValidated,form:l,name:ee(a),calculable:!0,femmeFieldName:r,hommeFieldName:n})}))}),"Valid"===t.formEffectifValidated?Object(d.b)("div",{css:ue.action},Object(d.b)(w,{to:"/indicateur1",label:"suivant"}),Object(d.b)(_,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")):Object(d.b)("div",{css:ue.action},Object(d.b)("div",{css:Object(d.a)({flexDirection:"column",alignItems:"flex-start"})},Object(d.b)(X,{label:"valider",outline:f,error:v&&f}),v&&f&&Object(d.b)("p",{css:ue.actionError},"vous ne pouvez pas valider les effectifs",Object(d.b)("br",null),"tant que vous n\u2019avez pas rempli tous les champs")))),"Valid"===t.formEffectifValidated&&"Invalid"===t.formIndicateurUnValidated&&Object(d.b)("div",{css:ue.indicatorInvalid},Object(d.b)("p",{css:ue.indicatorInvalidTitle},"Vos effectifs ont \xe9t\xe9 modifi\xe9s"),Object(d.b)("p",{css:ue.indicatorInvalidText},"afin de s'assurer de la coh\xe9rence de votre index, merci de v\xe9rifier les donn\xe9es de vos indicateurs."),Object(d.b)("p",{css:ue.indicatorInvalidText},Object(d.b)(b.b,{to:"/indicateur1",css:ue.indicatorInvalidLink},"aller \xe0 l'indicateur 1"))))},function(e,t){return e.state.formEffectifValidated===t.state.formEffectifValidated}),me=function(e,t,a){return e?t+a:0},de=function(e){return function(t,a){return t.filter(function(e){return e.validiteGroupe}).map(function(t){var r=t.validiteGroupe,n=t.effectifsValides;return function(e,t,a,r){return e&&r>0&&void 0!==t?re(t*a/r,3):void 0}(r,e(t),n,a)})}},be=function(e){return 0===e.length||e.includes(void 0)?void 0:re(e.filter(function(e){return void 0!==e}).reduce(function(e,t){return(e||0)+(void 0!==t?t:0)},void 0)||0,3)},fe=function(e,t){var a=e.reduce(function(e,t){var a=e.nombreSalariesFemmesGroupe,r=e.nombreSalariesHommesGroupe;return{nombreSalariesFemmesGroupe:a+(t.nombreSalariesFemmes||0),nombreSalariesHommesGroupe:r+(t.nombreSalariesHommes||0)}},{nombreSalariesFemmesGroupe:0,nombreSalariesHommesGroupe:0}),r=a.nombreSalariesFemmesGroupe,n=a.nombreSalariesHommesGroupe,o=t(r,n);return{nombreSalariesFemmes:r,nombreSalariesHommes:n,validiteGroupe:o,effectifsValides:me(o,r,n)}},ve=function(e){var t=e.reduce(function(e,t){var a=e.totalNombreSalariesFemmes,r=e.totalNombreSalariesHommes;return{totalNombreSalariesFemmes:a+t.nombreSalariesFemmes,totalNombreSalariesHommes:r+t.nombreSalariesHommes}},{totalNombreSalariesFemmes:0,totalNombreSalariesHommes:0}),a=t.totalNombreSalariesFemmes,r=t.totalNombreSalariesHommes;return{totalNombreSalariesFemmes:a,totalNombreSalariesHommes:r,totalNombreSalaries:a+r,totalEffectifsValides:e.reduce(function(e,t){return e+t.effectifsValides},0)}},ge=function(e,t){return e>0&&t>=.4*e},Oe=[40,39,38,37,36,35,34,33,31,29,27,25,23,21,19,17,14,11,8,5,2,0],je=function(e,t){return e>=3&&t>=3},pe=function(e){return e.reduce(function(e,t){return e.concat(t.tranchesAges)},[]).map(function(e){var t=e.remunerationAnnuelleBrutFemmes||0,a=e.remunerationAnnuelleBrutHommes||0,r=function(e,t){var a=e.nombreSalariesFemmes,r=e.nombreSalariesHommes,n=t(a=a||0,r=r||0);return{nombreSalariesFemmes:a,nombreSalariesHommes:r,validiteGroupe:n,effectifsValides:me(n,a,r)}}(e,je),n=function(e,t){return e>0&&t>0?re((t-e)/t,3):void 0}(t,a),o=function(e){return void 0!==e?re(Math.sign(e)*Math.max(0,Math.abs(e)-.05),3):void 0}(n);return Object(m.a)({},r,{trancheAge:e.trancheAge,remunerationAnnuelleBrutFemmes:t,remunerationAnnuelleBrutHommes:a,ecartRemunerationMoyenne:n,ecartApresApplicationSeuilPertinence:o})})},he=de(function(e){return e.ecartApresApplicationSeuilPertinence}),xe=function(e,t){return e&&void 0!==t?re(100*t,3):void 0},Se=function(e){return void 0!==e?Oe[Math.min(Oe.length-1,Math.ceil(Math.max(0,e)))]:void 0};var Fe={page:Object(d.a)({display:"flex",flexDirection:"column",marginRight:v.grid.gutterWidth,marginBottom:v.grid.gutterWidth}),title:Object(d.a)({marginTop:36,fontSize:32}),tagline:Object(d.a)({marginTop:12,marginBottom:54,fontSize:14})},ye=function(e){var t=e.title,a=e.tagline,r=e.children;return Object(d.b)("div",{css:Fe.page},Object(d.b)("p",{css:Fe.title},t),Object(d.b)("p",{css:Fe.tagline},a),r)};var Ae={body:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"flex-start"}),result:Object(d.a)({flex:1,marginLeft:v.grid.gutterWidth,position:"sticky",top:0,display:"flex",flexDirection:"column"})},Ie=function(e){var t=e.childrenForm,a=e.childrenResult,r=F(4);return Object(d.b)("div",{css:Ae.body},Object(d.b)("div",{css:Object(d.a)({width:r})},t),Object(d.b)("div",{css:Ae.result},a))};var Pe={bloc:Object(d.a)({padding:16,backgroundColor:"#FFF",border:"1px solid #EFECEF"}),blocTitle:Object(d.a)({fontSize:18,lineHeight:"22px",textTransform:"uppercase"}),blocText:Object(d.a)({marginTop:4,fontSize:14,lineHeight:"17px"})},He=function(e){var t=e.title,a=e.text;return Object(d.b)("div",{css:Pe.bloc},Object(d.b)("p",{css:Pe.blocTitle},t),Object(d.b)("p",{css:Pe.blocText},a))};var Ne={actionBar:Object(d.a)({display:"flex",flexDirection:"row",alignItems:"center",marginTop:46,marginBottom:36})},Ve=function(e){var t=e.children;return Object(d.b)("div",{css:Ne.actionBar},t)};var Te={container:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"flex-start"}),error:Object(d.a)({marginTop:4,color:v.colors.error,fontSize:12})},we=function(e){var t=e.submitFailed,a=e.hasValidationErrors,r=e.errorMessage;return Object(d.b)("div",{css:Te.container},Object(d.b)(X,{label:"valider",outline:a,error:t&&a}),t&&a&&Object(d.b)("p",{css:Te.error},r))},Ee=function(e,t,a){return"remunerationAnnuelleBrut"+e+a+t},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:parseInt(e,10)},Ce=function(e){return void 0===e?"":String(e)};var Be={container:Object(d.a)({display:"flex",flexDirection:"column"})},ke=Object(o.memo)(function(e){var t=e.data,a=e.readOnly,r=e.updateIndicateurUn,n=e.validateIndicateurUn,o=t.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges;return{categorieSocioPro:t,tranchesAges:a.map(function(e){var a=e.trancheAge,r=e.nombreSalariesFemmes,n=e.nombreSalariesHommes,o=e.remunerationAnnuelleBrutFemmes,i=e.remunerationAnnuelleBrutHommes;return{trancheAge:a,calculable:je(r||0,n||0),remunerationAnnuelleBrutFemmesName:Ee(t,a,"Femmes"),remunerationAnnuelleBrutFemmesValue:Ce(o),remunerationAnnuelleBrutHommesName:Ee(t,a,"Hommes"),remunerationAnnuelleBrutHommesValue:Ce(i)}})}}),i=o.reduce(function(e,t){return t.tranchesAges.reduce(function(e,t){var a,r=t.remunerationAnnuelleBrutFemmesName,n=t.remunerationAnnuelleBrutFemmesValue,o=t.remunerationAnnuelleBrutHommesName,i=t.remunerationAnnuelleBrutHommesValue;return Object(m.a)({},e,(a={},Object(C.a)(a,r,n),Object(C.a)(a,o,i),a))},e)},{}),c=function(e){var t=o.map(function(t){return{categorieSocioPro:t.categorieSocioPro,tranchesAges:t.tranchesAges.map(function(t){var a=t.trancheAge,r=t.remunerationAnnuelleBrutFemmesName,n=t.remunerationAnnuelleBrutHommesName;return{trancheAge:a,remunerationAnnuelleBrutFemmes:De(e[r]),remunerationAnnuelleBrutHommes:De(e[n])}})}});r(t)},l=Object(B.b)({initialValues:i,onSubmit:function(e){c(e),n("Valid")}}),u=l.form,s=l.handleSubmit,b=l.hasValidationErrors,f=l.submitFailed;return u.subscribe(function(e){var t=e.values;e.dirty&&c(t)},{values:!0,dirty:!0}),Object(d.b)("form",{onSubmit:s,css:Be.container},o.map(function(e){var t=e.categorieSocioPro,r=e.tranchesAges;return Object(d.b)(R,{key:t,title:te(t),label:"r\xe9mun\xe9ration moyenne"},r.map(function(e){var t=e.trancheAge,r=e.calculable,n=e.remunerationAnnuelleBrutFemmesName,o=e.remunerationAnnuelleBrutHommesName;return Object(d.b)(K,{key:t,form:u,name:ee(t),readOnly:a,calculable:r,femmeFieldName:n,hommeFieldName:o})}))}),a?Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur2",label:"suivant"})):Object(d.b)(Ve,null,Object(d.b)(we,{hasValidationErrors:b,submitFailed:f,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var Le={container:Object(d.a)({marginTop:64,width:"100%",position:"relative",height:0,paddingTop:"100%"}),bloc:Object(d.a)({position:"absolute",top:0,bottom:0,left:0,right:0,padding:"26% 8%",display:"flex",flexDirection:"column",justifyContent:"space-between",color:"white",backgroundColor:v.colors.default,borderRadius:"100%"}),message:Object(d.a)({marginBottom:9,display:"flex",alignItems:"baseline",fontSize:14,lineHeight:"17px"}),messageLabel:Object(d.a)({marginRight:"auto"}),messageData:Object(d.a)({fontWeight:"bold"}),info:Object(d.a)({fontSize:12,fontStyle:"italic",lineHeight:"15px",borderBottom:"1px solid #FFFFFF"})},ze=function(e){var t=e.firstLineLabel,a=e.firstLineData,r=e.firstLineInfo,n=e.secondLineLabel,o=e.secondLineData,i=e.secondLineInfo;return Object(d.b)("div",{css:Le.container},Object(d.b)("div",{css:Le.bloc},Object(d.b)("div",null,Object(d.b)("p",{css:Le.message},Object(d.b)("span",{css:Le.messageLabel},t," "),Object(d.b)("span",{css:Le.messageData},a)),Object(d.b)("p",{css:Le.info},r)),Object(d.b)("div",null,Object(d.b)("p",{css:Le.message},Object(d.b)("span",{css:Le.messageLabel},n," "),Object(d.b)("span",{css:Le.messageData},o)),Object(d.b)("p",{css:Le.info},i))))};var Me={edit:Object(d.a)({marginTop:14,textAlign:"center"})},We=function(e){var t=e.indicateurEcartRemuneration,a=e.noteIndicateurUn,r=e.validateIndicateurUn,n=void 0!==t?Math.abs(t):void 0,o=void 0!==t?Math.sign(t)<0?"femmes":"hommes":void 0;return Object(d.b)("div",null,Object(d.b)(ze,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",firstLineInfo:"\xe9cart favorable aux ".concat(o),secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/40",secondLineInfo:"mesures de correction prises en compte"}),Object(d.b)("p",{css:Me.edit},Object(d.b)(_,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};var Re=function(e){var t=e.state,a=e.dispatch,r=Object(o.useCallback)(function(e){return a({type:"updateIndicateurUn",data:e})},[a]),n=Object(o.useCallback)(function(e){return a({type:"validateIndicateurUn",valid:e})},[a]),i=pe(t.data),c=ve(i),l=c.totalNombreSalaries,u=c.totalEffectifsValides,s=he(i,u),m=be(s),b=ge(l,u),f=xe(b,m),v=Se(f);return Object(d.b)(ye,{title:"Indicateur 1, \xe9cart de r\xe9mun\xe9ration",tagline:"Renseignez la r\xe9mun\xe9ration (annuelle / mensuelle) moyenne des femmes et des hommes par CSP et par tranche d\u2019\xe2ge."},b&&"Valid"===t.formEffectifValidated?Object(d.b)(Ie,{childrenForm:Object(d.b)(ke,{data:t.data,readOnly:"Valid"===t.formIndicateurUnValidated,updateIndicateurUn:r,validateIndicateurUn:n}),childrenResult:"Valid"===t.formIndicateurUnValidated&&Object(d.b)(We,{indicateurEcartRemuneration:f,noteIndicateurUn:v,validateIndicateurUn:n})}):Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car l\u2019ensemble des groupes valables (c\u2019est-\xe0-dire comptant au moins 10 femmes et 10 hommes), repr\xe9sentent moins de 40% des effectifs."}),Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur2",label:"suivant"}))))},Ge=[20,20,20,10,10,10,5,5,5,5,5,0],Ue=function(e,t){return e>=10&&t>=10},qe=function(e,t){return e>=0&&t>=0?re(t-e,3):void 0},Je=function(e){return e.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges,r=e.tauxAugmentationFemmes,n=e.tauxAugmentationHommes,o=fe(a,Ue),i=qe(r||0,n||0);return Object(m.a)({},o,{categorieSocioPro:t,tauxAugmentationFemmes:r,tauxAugmentationHommes:n,ecartTauxAugmentation:i})})},Ye=function(e){var t=ve(e),a=t.totalNombreSalariesFemmes,r=t.totalNombreSalariesHommes,n=t.totalNombreSalaries,o=t.totalEffectifsValides,i=e.reduce(function(e,t){var a=e.sommeProduitTauxAugmentationFemmes,r=e.sommeProduitTauxAugmentationHommes,n=t.nombreSalariesFemmes,o=t.nombreSalariesHommes;return{sommeProduitTauxAugmentationFemmes:a+(t.tauxAugmentationFemmes||0)*n,sommeProduitTauxAugmentationHommes:r+(t.tauxAugmentationHommes||0)*o}},{sommeProduitTauxAugmentationFemmes:0,sommeProduitTauxAugmentationHommes:0});return{totalNombreSalaries:n,totalEffectifsValides:o,totalTauxAugmentationFemmes:i.sommeProduitTauxAugmentationFemmes/a,totalTauxAugmentationHommes:i.sommeProduitTauxAugmentationHommes/r}},$e=de(function(e){return e.ecartTauxAugmentation}),Ke=function(e,t,a,r){return ge(e,t)&&(a>0||r>0)},Qe=function(e,t){return e&&void 0!==t?re(100*t,3):void 0},Xe=function(e){return void 0!==e?Ge[Math.min(Ge.length-1,Math.ceil(Math.max(0,e)))]:void 0},Ze=function(e,t){return"tauxAugmentation"+e+t},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:oe(parseFloat(e))},et=function(e){return void 0===e?"":String(ne(e))};var tt={container:Object(d.a)({display:"flex",flexDirection:"column"})},at=Object(o.memo)(function(e){var t=e.ecartAugmentParCategorieSocioPro,a=e.readOnly,r=e.updateIndicateurDeux,n=e.validateIndicateurDeux,o=t.map(function(e){var t=e.categorieSocioPro,a=e.validiteGroupe,r=e.tauxAugmentationFemmes,n=e.tauxAugmentationHommes;return{categorieSocioPro:t,validiteGroupe:a,tauxAugmentationFemmesName:Ze(t,"Femmes"),tauxAugmentationFemmesValue:et(r),tauxAugmentationHommesName:Ze(t,"Hommes"),tauxAugmentationHommesValue:et(n)}}),i=o.reduce(function(e,t){var a,r=t.tauxAugmentationFemmesName,n=t.tauxAugmentationFemmesValue,o=t.tauxAugmentationHommesName,i=t.tauxAugmentationHommesValue;return Object(m.a)({},e,(a={},Object(C.a)(a,r,n),Object(C.a)(a,o,i),a))},{}),c=function(e){var t=o.map(function(t){var a=t.categorieSocioPro,r=t.tauxAugmentationFemmesName,n=t.tauxAugmentationHommesName;return{categorieSocioPro:a,tauxAugmentationFemmes:_e(e[r]),tauxAugmentationHommes:_e(e[n])}});r(t)},l=Object(B.b)({initialValues:i,onSubmit:function(e){c(e),n("Valid")}}),u=l.form,s=l.values,b=l.handleSubmit,f=l.hasValidationErrors,v=l.submitFailed;u.subscribe(function(e){var t=e.values;e.dirty&&c(t)},{values:!0,dirty:!0});var g=t.map(function(e,t){var a=o[t],r=_e(s[a.tauxAugmentationFemmesName]),n=_e(s[a.tauxAugmentationHommesName]),i=qe(r,n);return Object(m.a)({},e,{tauxAugmentationFemmes:r,tauxAugmentationHommes:n,ecartTauxAugmentation:i})}),O=Ye(g),j=O.totalTauxAugmentationFemmes,p=O.totalTauxAugmentationHommes;return Object(d.b)("form",{onSubmit:b,css:tt.container},Object(d.b)(R,{label:"% de salari\xe9s augment\xe9s",footer:[ae(p),ae(j)]},o.map(function(e){var t=e.categorieSocioPro,r=e.validiteGroupe,n=e.tauxAugmentationFemmesName,o=e.tauxAugmentationHommesName;return Object(d.b)(K,{key:t,form:u,name:te(t),readOnly:a,calculable:r,femmeFieldName:n,hommeFieldName:o})})),a?Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur3",label:"suivant"})):Object(d.b)(Ve,null,Object(d.b)(we,{hasValidationErrors:f,submitFailed:v,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var rt={edit:Object(d.a)({marginTop:14,textAlign:"center"})},nt=function(e){var t=e.indicateurEcartAugmentation,a=e.noteIndicateurDeux,r=e.validateIndicateurDeux,n=void 0!==t?Math.abs(t):void 0,o=void 0!==t?Math.sign(t)<0?"femmes":"hommes":void 0;return Object(d.b)("div",null,Object(d.b)(ze,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",firstLineInfo:"\xe9cart favorable aux ".concat(o),secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/20",secondLineInfo:"mesures de correction prises en compte"}),Object(d.b)("p",{css:rt.edit},Object(d.b)(_,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};var ot=function(e){var t=e.state,a=e.dispatch,r=(e.match,Object(o.useCallback)(function(e){return a({type:"updateIndicateurDeux",data:e})},[a])),n=Object(o.useCallback)(function(e){return a({type:"validateIndicateurDeux",valid:e})},[a]),i=Je(t.data),c=Ye(i),l=c.totalNombreSalaries,u=c.totalEffectifsValides,s=c.totalTauxAugmentationFemmes,m=c.totalTauxAugmentationHommes,b=$e(i,u),f=be(b),v=ge(l,u),g=Ke(l,u,s,m),O=Qe(g,f),j=Xe(O);return Object(d.b)(ye,{title:"Indicateur 2, \xe9cart de taux d\u2019augmentation individuelle \u201chors promotion\u201d",tagline:"Renseignez le pourcentage d\u2019hommes et des femmes ayant \xe9t\xe9 augment\xe9s durant la p\xe9riode de r\xe9f\xe9rence, par CSP."},g||"Valid"!==t.formIndicateurDeuxValidated?v&&"Valid"===t.formEffectifValidated?Object(d.b)(Ie,{childrenForm:Object(d.b)(at,{ecartAugmentParCategorieSocioPro:i,readOnly:"Valid"===t.formIndicateurDeuxValidated,updateIndicateurDeux:r,validateIndicateurDeux:n}),childrenResult:"Valid"===t.formIndicateurDeuxValidated&&Object(d.b)(nt,{indicateurEcartAugmentation:O,noteIndicateurDeux:j,validateIndicateurDeux:n})}):Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car l\u2019ensemble des groupes valables (c\u2019est-\xe0-dire comptant au moins 10 femmes et 10 hommes), repr\xe9sentent moins de 40% des effectifs."}),Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur3",label:"suivant"}))):Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car il n\u2019y a pas eu d\u2019augmentation individuelle durant la p\xe9riode de r\xe9f\xe9rence."}),Object(d.b)(Ve,null,Object(d.b)(_,{onClick:function(){return n("None")}},"modifier les donn\xe9es saisies")),Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur3",label:"suivant"}))))},it=[15,15,15,10,10,10,5,5,5,5,5,0],ct=qe,lt=function(e){return e.map(function(e){var t=e.categorieSocioPro,a=e.tranchesAges,r=e.tauxPromotionFemmes,n=e.tauxPromotionHommes,o=fe(a,Ue),i=ct(r||0,n||0);return Object(m.a)({},o,{categorieSocioPro:t,tauxPromotionFemmes:r,tauxPromotionHommes:n,ecartTauxPromotion:i})})},ut=function(e){var t=ve(e),a=t.totalNombreSalariesFemmes,r=t.totalNombreSalariesHommes,n=t.totalNombreSalaries,o=t.totalEffectifsValides,i=e.reduce(function(e,t){var a=e.sommeProduitTauxPromotionFemmes,r=e.sommeProduitTauxPromotionHommes,n=t.nombreSalariesFemmes,o=t.nombreSalariesHommes;return{sommeProduitTauxPromotionFemmes:a+(t.tauxPromotionFemmes||0)*n,sommeProduitTauxPromotionHommes:r+(t.tauxPromotionHommes||0)*o}},{sommeProduitTauxPromotionFemmes:0,sommeProduitTauxPromotionHommes:0});return{totalNombreSalaries:n,totalEffectifsValides:o,totalTauxPromotionFemmes:i.sommeProduitTauxPromotionFemmes/a,totalTauxPromotionHommes:i.sommeProduitTauxPromotionHommes/r}},st=de(function(e){return e.ecartTauxPromotion}),mt=Qe,dt=function(e){return void 0!==e?it[Math.min(it.length-1,Math.ceil(Math.max(0,e)))]:void 0},bt=function(e,t){return"tauxPromotion"+e+t},ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return""===e?t:Number.isNaN(Number(e))?t:oe(parseFloat(e))},vt=function(e){return void 0===e?"":String(ne(e))};var gt={container:Object(d.a)({display:"flex",flexDirection:"column"})},Ot=Object(o.memo)(function(e){var t=e.ecartPromoParCategorieSocioPro,a=e.readOnly,r=e.updateIndicateurTrois,n=e.validateIndicateurTrois,o=t.map(function(e){var t=e.categorieSocioPro,a=e.validiteGroupe,r=e.tauxPromotionFemmes,n=e.tauxPromotionHommes;return{categorieSocioPro:t,validiteGroupe:a,tauxPromotionFemmesName:bt(t,"Femmes"),tauxPromotionFemmesValue:vt(r),tauxPromotionHommesName:bt(t,"Hommes"),tauxPromotionHommesValue:vt(n)}}),i=o.reduce(function(e,t){var a,r=t.tauxPromotionFemmesName,n=t.tauxPromotionFemmesValue,o=t.tauxPromotionHommesName,i=t.tauxPromotionHommesValue;return Object(m.a)({},e,(a={},Object(C.a)(a,r,n),Object(C.a)(a,o,i),a))},{}),c=function(e){var t=o.map(function(t){var a=t.categorieSocioPro,r=t.tauxPromotionFemmesName,n=t.tauxPromotionHommesName;return{categorieSocioPro:a,tauxPromotionFemmes:ft(e[r]),tauxPromotionHommes:ft(e[n])}});r(t)},l=Object(B.b)({initialValues:i,onSubmit:function(e){c(e),n("Valid")}}),u=l.form,s=l.handleSubmit,b=l.hasValidationErrors,f=l.submitFailed;return u.subscribe(function(e){var t=e.values;e.dirty&&c(t)},{values:!0,dirty:!0}),Object(d.b)("form",{onSubmit:s,css:gt.container},Object(d.b)(R,{label:"% de salari\xe9s promus"},o.map(function(e){var t=e.categorieSocioPro,r=e.validiteGroupe,n=e.tauxPromotionFemmesName,o=e.tauxPromotionHommesName;return Object(d.b)(K,{key:t,form:u,name:te(t),readOnly:a,calculable:r,femmeFieldName:n,hommeFieldName:o})})),a?Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur4",label:"suivant"})):Object(d.b)(Ve,null,Object(d.b)(we,{hasValidationErrors:b,submitFailed:f,errorMessage:"vous ne pouvez pas valider l\u2019indicateur tant que vous n\u2019avez pas rempli tous les champs"})))},function(e,t){return e.readOnly===t.readOnly});var jt={edit:Object(d.a)({marginTop:14,textAlign:"center"})},pt=function(e){var t=e.indicateurEcartPromotion,a=e.noteIndicateurTrois,r=e.validateIndicateurTrois,n=void 0!==t?Math.abs(t):void 0,o=void 0!==t?Math.sign(t)<0?"femmes":"hommes":void 0;return Object(d.b)("div",null,Object(d.b)(ze,{firstLineLabel:"votre r\xe9sultat final est",firstLineData:(void 0!==n?n.toFixed(1):"--")+" %",firstLineInfo:"\xe9cart favorable aux ".concat(o),secondLineLabel:"votre note obtenue est",secondLineData:(void 0!==a?a:"--")+"/15",secondLineInfo:"mesures de correction prises en compte"}),Object(d.b)("p",{css:jt.edit},Object(d.b)(_,{onClick:function(){return r("None")}},"modifier les donn\xe9es saisies")))};var ht,xt,St=function(e){var t=e.state,a=e.dispatch,r=(e.match,Object(o.useCallback)(function(e){return a({type:"updateIndicateurTrois",data:e})},[a])),n=Object(o.useCallback)(function(e){return a({type:"validateIndicateurTrois",valid:e})},[a]),i=lt(t.data),c=ut(i),l=c.totalNombreSalaries,u=c.totalEffectifsValides,s=c.totalTauxPromotionFemmes,m=c.totalTauxPromotionHommes,b=st(i,u),f=be(b),v=ge(l,u),g=Ke(l,u,s,m),O=mt(g,f),j=dt(O);return Object(d.b)(ye,{title:"Indicateur 3, \xe9cart de taux de promotions",tagline:"Renseignez le pourcentage de femmes et d\u2019hommes ayant \xe9t\xe9 promus durant la p\xe9riode de r\xe9f\xe9rence par CSP."},g||"Valid"!==t.formIndicateurTroisValidated?v&&"Valid"===t.formEffectifValidated?Object(d.b)(Ie,{childrenForm:Object(d.b)(Ot,{ecartPromoParCategorieSocioPro:i,readOnly:"Valid"===t.formIndicateurTroisValidated,updateIndicateurTrois:r,validateIndicateurTrois:n}),childrenResult:"Valid"===t.formIndicateurTroisValidated&&Object(d.b)(pt,{indicateurEcartPromotion:O,noteIndicateurTrois:j,validateIndicateurTrois:n})}):Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car l\u2019ensemble des groupes valables (c\u2019est-\xe0-dire comptant au moins 10 femmes et 10 hommes), repr\xe9sentent moins de 40% des effectifs."}),Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur4",label:"suivant"}))):Object(d.b)("div",null,Object(d.b)(He,{title:"Malheureusement votre indicateur n\u2019est pas calculable",text:"car il n\u2019y a pas eu de promotion durant la p\xe9riode de r\xe9f\xe9rence."}),Object(d.b)(Ve,null,Object(d.b)(_,{onClick:function(){return n("None")}},"modifier les donn\xe9es saisies")),Object(d.b)(Ve,null,Object(d.b)(w,{to:"/indicateur4",label:"suivant"}))))},Ft={nombreSalariesFemmes:void 0,nombreSalariesHommes:void 0,remunerationAnnuelleBrutFemmes:void 0,remunerationAnnuelleBrutHommes:void 0},yt=(ht=r,xt=function(e){return Object(m.a)({trancheAge:e},Ft)},Object.keys(ht).map(function(e){return ht[e]}).filter(function(e){return"number"===typeof e}).map(function(e){return xt(e)})),At={tranchesAges:Object(s.a)(yt),tauxAugmentationFemmes:void 0,tauxAugmentationHommes:void 0,tauxPromotionFemmes:void 0,tauxPromotionHommes:void 0},It={data:[Object(m.a)({categorieSocioPro:n.Ouvriers},At),Object(m.a)({categorieSocioPro:n.Employes},At),Object(m.a)({categorieSocioPro:n.Techniciens},At),Object(m.a)({categorieSocioPro:n.Cadres},At)],formEffectifValidated:"None",formIndicateurUnValidated:"None",formIndicateurDeuxValidated:"None",formIndicateurTroisValidated:"None"},Pt=localStorage.getItem("egapro"),Ht=Pt?JSON.parse(Pt):It;var Nt=Object(f.e)(function(e){var t=e.children,a=e.state,r=e.location;return Object(d.b)("div",{css:Vt.main,key:r.key},Object(d.b)("div",{css:Vt.menu},Object(d.b)(H,{formEffectifValidated:a.formEffectifValidated,formIndicateurUnValidated:a.formIndicateurUnValidated,formIndicateurDeuxValidated:a.formIndicateurDeuxValidated,formIndicateurTroisValidated:a.formIndicateurTroisValidated})),Object(d.b)("div",{css:Vt.view},t))}),Vt={layout:Object(d.a)({flex:1,display:"flex",flexDirection:"row",justifyContent:"center"}),leftColumn:Object(d.a)({display:"flex",flexDirection:"column",flexGrow:1,maxWidth:v.grid.maxWidth-375}),rightColumn:Object(d.a)({display:"flex",flexDirection:"column",width:375,flexShrink:0,backgroundColor:"#AAAEE1"}),main:Object(d.a)({overflowY:"auto",display:"flex",flex:1,position:"relative",background:"linear-gradient(0.08deg, #FFFFFF 0.09%, rgba(255, 255, 255, 0) 99.84%), rgba(138, 146, 217, 0.14)"}),menu:Object(d.a)({position:"sticky",top:0,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:80}),view:Object(d.a)({flex:1})},Tt=function(){var e=Object(o.useReducer)(O,Ht),t=Object(u.a)(e,2),a=t[0],r=t[1];Object(o.useEffect)(function(){var e=JSON.stringify(a);localStorage.setItem("egapro",e)},[a]);var n=Object(o.useCallback)(function(e){return r({type:"updateEffectif",data:e})},[r]),i=Object(o.useCallback)(function(e){return r({type:"validateEffectif",valid:e})},[r]);return Object(d.b)(b.a,{basename:"/egapro"},Object(d.b)(S,null,Object(d.b)("div",{css:Vt.layout},Object(d.b)("div",{css:Vt.leftColumn},Object(d.b)(A,null),Object(d.b)(Nt,{state:a},Object(d.b)(f.c,null,Object(d.b)(f.a,{path:"/",exact:!0,render:function(e){return Object(d.b)(D,e)}}),Object(d.b)(f.a,{path:"/effectifs",render:function(e){return Object(d.b)(se,Object.assign({},e,{state:a,updateEffectif:n,validateEffectif:i}))}}),Object(d.b)(f.a,{path:"/indicateur1",render:function(e){return Object(d.b)(Re,Object.assign({},e,{state:a,dispatch:r}))}}),Object(d.b)(f.a,{path:"/indicateur2",render:function(e){return Object(d.b)(ot,Object.assign({},e,{state:a,dispatch:r}))}}),Object(d.b)(f.a,{path:"/indicateur3",render:function(e){return Object(d.b)(St,Object.assign({},e,{state:a,dispatch:r}))}})))),Object(d.b)("div",{css:Vt.rightColumn}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(Tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.93717eb1.chunk.js.map